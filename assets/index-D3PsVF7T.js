function Xb(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Jb(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var n0={exports:{}},Ol={},s0={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ai=Symbol.for("react.element"),Zb=Symbol.for("react.portal"),e2=Symbol.for("react.fragment"),t2=Symbol.for("react.strict_mode"),r2=Symbol.for("react.profiler"),n2=Symbol.for("react.provider"),s2=Symbol.for("react.context"),o2=Symbol.for("react.forward_ref"),i2=Symbol.for("react.suspense"),a2=Symbol.for("react.memo"),l2=Symbol.for("react.lazy"),Sm=Symbol.iterator;function c2(e){return e===null||typeof e!="object"?null:(e=Sm&&e[Sm]||e["@@iterator"],typeof e=="function"?e:null)}var o0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i0=Object.assign,a0={};function ho(e,t,r){this.props=e,this.context=t,this.refs=a0,this.updater=r||o0}ho.prototype.isReactComponent={};ho.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ho.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function l0(){}l0.prototype=ho.prototype;function mf(e,t,r){this.props=e,this.context=t,this.refs=a0,this.updater=r||o0}var pf=mf.prototype=new l0;pf.constructor=mf;i0(pf,ho.prototype);pf.isPureReactComponent=!0;var _m=Array.isArray,c0=Object.prototype.hasOwnProperty,gf={current:null},u0={key:!0,ref:!0,__self:!0,__source:!0};function d0(e,t,r){var n,s={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)c0.call(t,n)&&!u0.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ai,type:e,key:o,ref:a,props:s,_owner:gf.current}}function u2(e,t){return{$$typeof:Ai,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ai}function d2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var km=/\/+/g;function Mc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?d2(""+e.key):t.toString(36)}function _a(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ai:case Zb:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Mc(a,0):n,_m(s)?(r="",e!=null&&(r=e.replace(km,"$&/")+"/"),_a(s,t,r,"",function(u){return u})):s!=null&&(vf(s)&&(s=u2(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(km,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",_m(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Mc(o,l);a+=_a(o,t,r,c,s)}else if(c=c2(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Mc(o,l++),a+=_a(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Gi(e,t,r){if(e==null)return e;var n=[],s=0;return _a(e,n,"","",function(o){return t.call(r,o,s++)}),n}function f2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},ka={transition:null},h2={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:ka,ReactCurrentOwner:gf};function f0(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Gi,forEach:function(e,t,r){Gi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gi(e,function(){t++}),t},toArray:function(e){return Gi(e,function(t){return t})||[]},only:function(e){if(!vf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=ho;he.Fragment=e2;he.Profiler=r2;he.PureComponent=mf;he.StrictMode=t2;he.Suspense=i2;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h2;he.act=f0;he.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=i0({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=gf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)c0.call(t,c)&&!u0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ai,type:e.type,key:s,ref:o,props:n,_owner:a}};he.createContext=function(e){return e={$$typeof:s2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:n2,_context:e},e.Consumer=e};he.createElement=d0;he.createFactory=function(e){var t=d0.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:o2,render:e}};he.isValidElement=vf;he.lazy=function(e){return{$$typeof:l2,_payload:{_status:-1,_result:e},_init:f2}};he.memo=function(e,t){return{$$typeof:a2,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=ka.transition;ka.transition={};try{e()}finally{ka.transition=t}};he.unstable_act=f0;he.useCallback=function(e,t){return lt.current.useCallback(e,t)};he.useContext=function(e){return lt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};he.useEffect=function(e,t){return lt.current.useEffect(e,t)};he.useId=function(){return lt.current.useId()};he.useImperativeHandle=function(e,t,r){return lt.current.useImperativeHandle(e,t,r)};he.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return lt.current.useMemo(e,t)};he.useReducer=function(e,t,r){return lt.current.useReducer(e,t,r)};he.useRef=function(e){return lt.current.useRef(e)};he.useState=function(e){return lt.current.useState(e)};he.useSyncExternalStore=function(e,t,r){return lt.current.useSyncExternalStore(e,t,r)};he.useTransition=function(){return lt.current.useTransition()};he.version="18.3.1";s0.exports=he;var h=s0.exports;const T=hf(h),qa=Xb({__proto__:null,default:T},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m2=h,p2=Symbol.for("react.element"),g2=Symbol.for("react.fragment"),v2=Object.prototype.hasOwnProperty,x2=m2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y2={key:!0,ref:!0,__self:!0,__source:!0};function h0(e,t,r){var n,s={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)v2.call(t,n)&&!y2.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:p2,type:e,key:o,ref:a,props:s,_owner:x2.current}}Ol.Fragment=g2;Ol.jsx=h0;Ol.jsxs=h0;n0.exports=Ol;var i=n0.exports,Du={},m0={exports:{}},Pt={},p0={exports:{}},g0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,A){var F=k.length;k.push(A);e:for(;0<F;){var $=F-1>>>1,U=k[$];if(0<s(U,A))k[$]=A,k[F]=U,F=$;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var A=k[0],F=k.pop();if(F!==A){k[0]=F;e:for(var $=0,U=k.length,Q=U>>>1;$<Q;){var X=2*($+1)-1,de=k[X],J=X+1,E=k[J];if(0>s(de,F))J<U&&0>s(E,de)?(k[$]=E,k[J]=F,$=J):(k[$]=de,k[X]=F,$=X);else if(J<U&&0>s(E,F))k[$]=E,k[J]=F,$=J;else break e}}return A}function s(k,A){var F=k.sortIndex-A.sortIndex;return F!==0?F:k.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],f=1,d=null,m=3,p=!1,w=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=k)n(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=r(u)}}function j(k){if(g=!1,b(k),!w)if(r(c)!==null)w=!0,P(N);else{var A=r(u);A!==null&&B(j,A.startTime-k)}}function N(k,A){w=!1,g&&(g=!1,y(C),C=-1),p=!0;var F=m;try{for(b(A),d=r(c);d!==null&&(!(d.expirationTime>A)||k&&!H());){var $=d.callback;if(typeof $=="function"){d.callback=null,m=d.priorityLevel;var U=$(d.expirationTime<=A);A=e.unstable_now(),typeof U=="function"?d.callback=U:d===r(c)&&n(c),b(A)}else n(c);d=r(c)}if(d!==null)var Q=!0;else{var X=r(u);X!==null&&B(j,X.startTime-A),Q=!1}return Q}finally{d=null,m=F,p=!1}}var S=!1,_=null,C=-1,z=5,O=-1;function H(){return!(e.unstable_now()-O<z)}function K(){if(_!==null){var k=e.unstable_now();O=k;var A=!0;try{A=_(!0,k)}finally{A?D():(S=!1,_=null)}}else S=!1}var D;if(typeof v=="function")D=function(){v(K)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,M=R.port2;R.port1.onmessage=K,D=function(){M.postMessage(null)}}else D=function(){x(K,0)};function P(k){_=k,S||(S=!0,D())}function B(k,A){C=x(function(){k(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,P(N))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(k){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var F=m;m=A;try{return k()}finally{m=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,A){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var F=m;m=k;try{return A()}finally{m=F}},e.unstable_scheduleCallback=function(k,A,F){var $=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?$+F:$):F=$,k){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=F+U,k={id:f++,callback:A,priorityLevel:k,startTime:F,expirationTime:U,sortIndex:-1},F>$?(k.sortIndex=F,t(u,k),r(c)===null&&k===r(u)&&(g?(y(C),C=-1):g=!0,B(j,F-$))):(k.sortIndex=U,t(c,k),w||p||(w=!0,P(N))),k},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(k){var A=m;return function(){var F=m;m=A;try{return k.apply(this,arguments)}finally{m=F}}}})(g0);p0.exports=g0;var w2=p0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2=h,Et=w2;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v0=new Set,ri={};function us(e,t){Js(e,t),Js(e+"Capture",t)}function Js(e,t){for(ri[e]=t,e=0;e<t.length;e++)v0.add(t[e])}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mu=Object.prototype.hasOwnProperty,j2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cm={},Em={};function N2(e){return Mu.call(Em,e)?!0:Mu.call(Cm,e)?!1:j2.test(e)?Em[e]=!0:(Cm[e]=!0,!1)}function S2(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _2(e,t,r,n){if(t===null||typeof t>"u"||S2(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,r,n,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xe[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xe[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xe[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xe[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xe[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xe[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xe[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xe[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xe[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var xf=/[\-:]([a-z])/g;function yf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xf,yf);Xe[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xf,yf);Xe[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xf,yf);Xe[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xe[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xe[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function wf(e,t,r,n){var s=Xe.hasOwnProperty(t)?Xe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_2(t,r,s,n)&&(r=null),n||s===null?N2(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $r=b2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yi=Symbol.for("react.element"),Es=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),bf=Symbol.for("react.strict_mode"),$u=Symbol.for("react.profiler"),x0=Symbol.for("react.provider"),y0=Symbol.for("react.context"),jf=Symbol.for("react.forward_ref"),Lu=Symbol.for("react.suspense"),Fu=Symbol.for("react.suspense_list"),Nf=Symbol.for("react.memo"),Jr=Symbol.for("react.lazy"),w0=Symbol.for("react.offscreen"),Pm=Symbol.iterator;function Co(e){return e===null||typeof e!="object"?null:(e=Pm&&e[Pm]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Object.assign,$c;function Lo(e){if($c===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$c=t&&t[1]||""}return`
`+$c+e}var Lc=!1;function Fc(e,t){if(!e||Lc)return"";Lc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Lc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Lo(e):""}function k2(e){switch(e.tag){case 5:return Lo(e.type);case 16:return Lo("Lazy");case 13:return Lo("Suspense");case 19:return Lo("SuspenseList");case 0:case 2:case 15:return e=Fc(e.type,!1),e;case 11:return e=Fc(e.type.render,!1),e;case 1:return e=Fc(e.type,!0),e;default:return""}}function zu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ps:return"Fragment";case Es:return"Portal";case $u:return"Profiler";case bf:return"StrictMode";case Lu:return"Suspense";case Fu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case y0:return(e.displayName||"Context")+".Consumer";case x0:return(e._context.displayName||"Context")+".Provider";case jf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nf:return t=e.displayName||null,t!==null?t:zu(e.type)||"Memo";case Jr:t=e._payload,e=e._init;try{return zu(e(t))}catch{}}return null}function C2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zu(t);case 8:return t===bf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function b0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function E2(e){var t=b0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ki(e){e._valueTracker||(e._valueTracker=E2(e))}function j0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=b0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Va(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bu(e,t){var r=t.checked;return Te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Am(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=jn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function N0(e,t){t=t.checked,t!=null&&wf(e,"checked",t,!1)}function Uu(e,t){N0(e,t);var r=jn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Wu(e,t.type,jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Tm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Wu(e,t,r){(t!=="number"||Va(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Fo=Array.isArray;function zs(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+jn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Hu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(Fo(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:jn(r)}}function S0(e,t){var r=jn(t.value),n=jn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Om(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qi,k0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qi=Qi||document.createElement("div"),Qi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ni(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},P2=["Webkit","ms","Moz","O"];Object.keys(Ho).forEach(function(e){P2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ho[t]=Ho[e]})});function C0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ho.hasOwnProperty(e)&&Ho[e]?(""+t).trim():t+"px"}function E0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=C0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var A2=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vu(e,t){if(t){if(A2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Gu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yu=null;function Sf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ku=null,Bs=null,Us=null;function Im(e){if(e=Oi(e)){if(typeof Ku!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Ll(t),Ku(e.stateNode,e.type,t))}}function P0(e){Bs?Us?Us.push(e):Us=[e]:Bs=e}function A0(){if(Bs){var e=Bs,t=Us;if(Us=Bs=null,Im(e),t)for(e=0;e<t.length;e++)Im(t[e])}}function T0(e,t){return e(t)}function R0(){}var zc=!1;function O0(e,t,r){if(zc)return e(t,r);zc=!0;try{return T0(e,t,r)}finally{zc=!1,(Bs!==null||Us!==null)&&(R0(),A0())}}function si(e,t){var r=e.stateNode;if(r===null)return null;var n=Ll(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var Qu=!1;if(Pr)try{var Eo={};Object.defineProperty(Eo,"passive",{get:function(){Qu=!0}}),window.addEventListener("test",Eo,Eo),window.removeEventListener("test",Eo,Eo)}catch{Qu=!1}function T2(e,t,r,n,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var qo=!1,Ga=null,Ya=!1,Xu=null,R2={onError:function(e){qo=!0,Ga=e}};function O2(e,t,r,n,s,o,a,l,c){qo=!1,Ga=null,T2.apply(R2,arguments)}function I2(e,t,r,n,s,o,a,l,c){if(O2.apply(this,arguments),qo){if(qo){var u=Ga;qo=!1,Ga=null}else throw Error(L(198));Ya||(Ya=!0,Xu=u)}}function ds(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function I0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dm(e){if(ds(e)!==e)throw Error(L(188))}function D2(e){var t=e.alternate;if(!t){if(t=ds(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Dm(s),e;if(o===n)return Dm(s),t;o=o.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=o;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=o;break}if(l===n){a=!0,n=s,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=s;break}if(l===n){a=!0,n=o,r=s;break}l=l.sibling}if(!a)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function D0(e){return e=D2(e),e!==null?M0(e):null}function M0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=M0(e);if(t!==null)return t;e=e.sibling}return null}var $0=Et.unstable_scheduleCallback,Mm=Et.unstable_cancelCallback,M2=Et.unstable_shouldYield,$2=Et.unstable_requestPaint,De=Et.unstable_now,L2=Et.unstable_getCurrentPriorityLevel,_f=Et.unstable_ImmediatePriority,L0=Et.unstable_UserBlockingPriority,Ka=Et.unstable_NormalPriority,F2=Et.unstable_LowPriority,F0=Et.unstable_IdlePriority,Il=null,ur=null;function z2(e){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Il,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:W2,B2=Math.log,U2=Math.LN2;function W2(e){return e>>>=0,e===0?32:31-(B2(e)/U2|0)|0}var Xi=64,Ji=4194304;function zo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qa(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=zo(l):(o&=a,o!==0&&(n=zo(o)))}else a=r&~s,a!==0?n=zo(a):o!==0&&(n=zo(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Jt(t),s=1<<r,n|=e[r],t&=~s;return n}function H2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q2(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Jt(o),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=H2(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Ju(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function z0(){var e=Xi;return Xi<<=1,!(Xi&4194240)&&(Xi=64),e}function Bc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ti(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jt(t),e[t]=r}function V2(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Jt(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function kf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Jt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var we=0;function B0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var U0,Cf,W0,H0,q0,Zu=!1,Zi=[],cn=null,un=null,dn=null,oi=new Map,ii=new Map,tn=[],G2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $m(e,t){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ii.delete(t.pointerId)}}function Po(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Oi(t),t!==null&&Cf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Y2(e,t,r,n,s){switch(t){case"focusin":return cn=Po(cn,e,t,r,n,s),!0;case"dragenter":return un=Po(un,e,t,r,n,s),!0;case"mouseover":return dn=Po(dn,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return oi.set(o,Po(oi.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,ii.set(o,Po(ii.get(o)||null,e,t,r,n,s)),!0}return!1}function V0(e){var t=Gn(e.target);if(t!==null){var r=ds(t);if(r!==null){if(t=r.tag,t===13){if(t=I0(r),t!==null){e.blockedOn=t,q0(e.priority,function(){W0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ca(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ed(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Yu=n,r.target.dispatchEvent(n),Yu=null}else return t=Oi(r),t!==null&&Cf(t),e.blockedOn=r,!1;t.shift()}return!0}function Lm(e,t,r){Ca(e)&&r.delete(t)}function K2(){Zu=!1,cn!==null&&Ca(cn)&&(cn=null),un!==null&&Ca(un)&&(un=null),dn!==null&&Ca(dn)&&(dn=null),oi.forEach(Lm),ii.forEach(Lm)}function Ao(e,t){e.blockedOn===t&&(e.blockedOn=null,Zu||(Zu=!0,Et.unstable_scheduleCallback(Et.unstable_NormalPriority,K2)))}function ai(e){function t(s){return Ao(s,e)}if(0<Zi.length){Ao(Zi[0],e);for(var r=1;r<Zi.length;r++){var n=Zi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(cn!==null&&Ao(cn,e),un!==null&&Ao(un,e),dn!==null&&Ao(dn,e),oi.forEach(t),ii.forEach(t),r=0;r<tn.length;r++)n=tn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<tn.length&&(r=tn[0],r.blockedOn===null);)V0(r),r.blockedOn===null&&tn.shift()}var Ws=$r.ReactCurrentBatchConfig,Xa=!0;function Q2(e,t,r,n){var s=we,o=Ws.transition;Ws.transition=null;try{we=1,Ef(e,t,r,n)}finally{we=s,Ws.transition=o}}function X2(e,t,r,n){var s=we,o=Ws.transition;Ws.transition=null;try{we=4,Ef(e,t,r,n)}finally{we=s,Ws.transition=o}}function Ef(e,t,r,n){if(Xa){var s=ed(e,t,r,n);if(s===null)Xc(e,t,n,Ja,r),$m(e,n);else if(Y2(s,e,t,r,n))n.stopPropagation();else if($m(e,n),t&4&&-1<G2.indexOf(e)){for(;s!==null;){var o=Oi(s);if(o!==null&&U0(o),o=ed(e,t,r,n),o===null&&Xc(e,t,n,Ja,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Xc(e,t,n,null,r)}}var Ja=null;function ed(e,t,r,n){if(Ja=null,e=Sf(n),e=Gn(e),e!==null)if(t=ds(e),t===null)e=null;else if(r=t.tag,r===13){if(e=I0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ja=e,null}function G0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(L2()){case _f:return 1;case L0:return 4;case Ka:case F2:return 16;case F0:return 536870912;default:return 16}default:return 16}}var sn=null,Pf=null,Ea=null;function Y0(){if(Ea)return Ea;var e,t=Pf,r=t.length,n,s="value"in sn?sn.value:sn.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[o-n];n++);return Ea=s.slice(e,1<n?1-n:void 0)}function Pa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ea(){return!0}function Fm(){return!1}function At(e){function t(r,n,s,o,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ea:Fm,this.isPropagationStopped=Fm,this}return Te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ea)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ea)},persist:function(){},isPersistent:ea}),t}var mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Af=At(mo),Ri=Te({},mo,{view:0,detail:0}),J2=At(Ri),Uc,Wc,To,Dl=Te({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==To&&(To&&e.type==="mousemove"?(Uc=e.screenX-To.screenX,Wc=e.screenY-To.screenY):Wc=Uc=0,To=e),Uc)},movementY:function(e){return"movementY"in e?e.movementY:Wc}}),zm=At(Dl),Z2=Te({},Dl,{dataTransfer:0}),ej=At(Z2),tj=Te({},Ri,{relatedTarget:0}),Hc=At(tj),rj=Te({},mo,{animationName:0,elapsedTime:0,pseudoElement:0}),nj=At(rj),sj=Te({},mo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oj=At(sj),ij=Te({},mo,{data:0}),Bm=At(ij),aj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cj[e])?!!t[e]:!1}function Tf(){return uj}var dj=Te({},Ri,{key:function(e){if(e.key){var t=aj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tf,charCode:function(e){return e.type==="keypress"?Pa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fj=At(dj),hj=Te({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Um=At(hj),mj=Te({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tf}),pj=At(mj),gj=Te({},mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),vj=At(gj),xj=Te({},Dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yj=At(xj),wj=[9,13,27,32],Rf=Pr&&"CompositionEvent"in window,Vo=null;Pr&&"documentMode"in document&&(Vo=document.documentMode);var bj=Pr&&"TextEvent"in window&&!Vo,K0=Pr&&(!Rf||Vo&&8<Vo&&11>=Vo),Wm=" ",Hm=!1;function Q0(e,t){switch(e){case"keyup":return wj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var As=!1;function jj(e,t){switch(e){case"compositionend":return X0(t);case"keypress":return t.which!==32?null:(Hm=!0,Wm);case"textInput":return e=t.data,e===Wm&&Hm?null:e;default:return null}}function Nj(e,t){if(As)return e==="compositionend"||!Rf&&Q0(e,t)?(e=Y0(),Ea=Pf=sn=null,As=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return K0&&t.locale!=="ko"?null:t.data;default:return null}}var Sj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sj[e.type]:t==="textarea"}function J0(e,t,r,n){P0(n),t=Za(t,"onChange"),0<t.length&&(r=new Af("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Go=null,li=null;function _j(e){cv(e,0)}function Ml(e){var t=Os(e);if(j0(t))return e}function kj(e,t){if(e==="change")return t}var Z0=!1;if(Pr){var qc;if(Pr){var Vc="oninput"in document;if(!Vc){var Vm=document.createElement("div");Vm.setAttribute("oninput","return;"),Vc=typeof Vm.oninput=="function"}qc=Vc}else qc=!1;Z0=qc&&(!document.documentMode||9<document.documentMode)}function Gm(){Go&&(Go.detachEvent("onpropertychange",ev),li=Go=null)}function ev(e){if(e.propertyName==="value"&&Ml(li)){var t=[];J0(t,li,e,Sf(e)),O0(_j,t)}}function Cj(e,t,r){e==="focusin"?(Gm(),Go=t,li=r,Go.attachEvent("onpropertychange",ev)):e==="focusout"&&Gm()}function Ej(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(li)}function Pj(e,t){if(e==="click")return Ml(t)}function Aj(e,t){if(e==="input"||e==="change")return Ml(t)}function Tj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var er=typeof Object.is=="function"?Object.is:Tj;function ci(e,t){if(er(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Mu.call(t,s)||!er(e[s],t[s]))return!1}return!0}function Ym(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Km(e,t){var r=Ym(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ym(r)}}function tv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rv(){for(var e=window,t=Va();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Va(e.document)}return t}function Of(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rj(e){var t=rv(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&tv(r.ownerDocument.documentElement,r)){if(n!==null&&Of(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Km(r,o);var a=Km(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Oj=Pr&&"documentMode"in document&&11>=document.documentMode,Ts=null,td=null,Yo=null,rd=!1;function Qm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;rd||Ts==null||Ts!==Va(n)||(n=Ts,"selectionStart"in n&&Of(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yo&&ci(Yo,n)||(Yo=n,n=Za(td,"onSelect"),0<n.length&&(t=new Af("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ts)))}function ta(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Rs={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionend:ta("Transition","TransitionEnd")},Gc={},nv={};Pr&&(nv=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function $l(e){if(Gc[e])return Gc[e];if(!Rs[e])return e;var t=Rs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in nv)return Gc[e]=t[r];return e}var sv=$l("animationend"),ov=$l("animationiteration"),iv=$l("animationstart"),av=$l("transitionend"),lv=new Map,Xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(e,t){lv.set(e,t),us(t,[e])}for(var Yc=0;Yc<Xm.length;Yc++){var Kc=Xm[Yc],Ij=Kc.toLowerCase(),Dj=Kc[0].toUpperCase()+Kc.slice(1);Cn(Ij,"on"+Dj)}Cn(sv,"onAnimationEnd");Cn(ov,"onAnimationIteration");Cn(iv,"onAnimationStart");Cn("dblclick","onDoubleClick");Cn("focusin","onFocus");Cn("focusout","onBlur");Cn(av,"onTransitionEnd");Js("onMouseEnter",["mouseout","mouseover"]);Js("onMouseLeave",["mouseout","mouseover"]);Js("onPointerEnter",["pointerout","pointerover"]);Js("onPointerLeave",["pointerout","pointerover"]);us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));us("onBeforeInput",["compositionend","keypress","textInput","paste"]);us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bo));function Jm(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,I2(n,t,void 0,e),e.currentTarget=null}function cv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Jm(s,l,u),o=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Jm(s,l,u),o=c}}}if(Ya)throw e=Xu,Ya=!1,Xu=null,e}function _e(e,t){var r=t[ad];r===void 0&&(r=t[ad]=new Set);var n=e+"__bubble";r.has(n)||(uv(t,e,2,!1),r.add(n))}function Qc(e,t,r){var n=0;t&&(n|=4),uv(r,e,n,t)}var ra="_reactListening"+Math.random().toString(36).slice(2);function ui(e){if(!e[ra]){e[ra]=!0,v0.forEach(function(r){r!=="selectionchange"&&(Mj.has(r)||Qc(r,!1,e),Qc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ra]||(t[ra]=!0,Qc("selectionchange",!1,t))}}function uv(e,t,r,n){switch(G0(t)){case 1:var s=Q2;break;case 4:s=X2;break;default:s=Ef}r=s.bind(null,t,r,e),s=void 0,!Qu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Xc(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Gn(l),a===null)return;if(c=a.tag,c===5||c===6){n=o=a;continue e}l=l.parentNode}}n=n.return}O0(function(){var u=o,f=Sf(r),d=[];e:{var m=lv.get(e);if(m!==void 0){var p=Af,w=e;switch(e){case"keypress":if(Pa(r)===0)break e;case"keydown":case"keyup":p=fj;break;case"focusin":w="focus",p=Hc;break;case"focusout":w="blur",p=Hc;break;case"beforeblur":case"afterblur":p=Hc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=zm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ej;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=pj;break;case sv:case ov:case iv:p=nj;break;case av:p=vj;break;case"scroll":p=J2;break;case"wheel":p=yj;break;case"copy":case"cut":case"paste":p=oj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Um}var g=(t&4)!==0,x=!g&&e==="scroll",y=g?m!==null?m+"Capture":null:m;g=[];for(var v=u,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,y!==null&&(j=si(v,y),j!=null&&g.push(di(v,j,b)))),x)break;v=v.return}0<g.length&&(m=new p(m,w,null,r,f),d.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==Yu&&(w=r.relatedTarget||r.fromElement)&&(Gn(w)||w[Ar]))break e;if((p||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=u,w=w?Gn(w):null,w!==null&&(x=ds(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(g=zm,j="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Um,j="onPointerLeave",y="onPointerEnter",v="pointer"),x=p==null?m:Os(p),b=w==null?m:Os(w),m=new g(j,v+"leave",p,r,f),m.target=x,m.relatedTarget=b,j=null,Gn(f)===u&&(g=new g(y,v+"enter",w,r,f),g.target=b,g.relatedTarget=x,j=g),x=j,p&&w)t:{for(g=p,y=w,v=0,b=g;b;b=vs(b))v++;for(b=0,j=y;j;j=vs(j))b++;for(;0<v-b;)g=vs(g),v--;for(;0<b-v;)y=vs(y),b--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=vs(g),y=vs(y)}g=null}else g=null;p!==null&&Zm(d,m,p,g,!1),w!==null&&x!==null&&Zm(d,x,w,g,!0)}}e:{if(m=u?Os(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var N=kj;else if(qm(m))if(Z0)N=Aj;else{N=Ej;var S=Cj}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=Pj);if(N&&(N=N(e,u))){J0(d,N,r,f);break e}S&&S(e,m,u),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&Wu(m,"number",m.value)}switch(S=u?Os(u):window,e){case"focusin":(qm(S)||S.contentEditable==="true")&&(Ts=S,td=u,Yo=null);break;case"focusout":Yo=td=Ts=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,Qm(d,r,f);break;case"selectionchange":if(Oj)break;case"keydown":case"keyup":Qm(d,r,f)}var _;if(Rf)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else As?Q0(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(K0&&r.locale!=="ko"&&(As||C!=="onCompositionStart"?C==="onCompositionEnd"&&As&&(_=Y0()):(sn=f,Pf="value"in sn?sn.value:sn.textContent,As=!0)),S=Za(u,C),0<S.length&&(C=new Bm(C,e,null,r,f),d.push({event:C,listeners:S}),_?C.data=_:(_=X0(r),_!==null&&(C.data=_)))),(_=bj?jj(e,r):Nj(e,r))&&(u=Za(u,"onBeforeInput"),0<u.length&&(f=new Bm("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=_))}cv(d,t)})}function di(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Za(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=si(e,r),o!=null&&n.unshift(di(e,o,s)),o=si(e,t),o!=null&&n.push(di(e,o,s))),e=e.return}return n}function vs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zm(e,t,r,n,s){for(var o=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=si(r,o),c!=null&&a.unshift(di(r,c,l))):s||(c=si(r,o),c!=null&&a.push(di(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var $j=/\r\n?/g,Lj=/\u0000|\uFFFD/g;function ep(e){return(typeof e=="string"?e:""+e).replace($j,`
`).replace(Lj,"")}function na(e,t,r){if(t=ep(t),ep(e)!==t&&r)throw Error(L(425))}function el(){}var nd=null,sd=null;function od(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var id=typeof setTimeout=="function"?setTimeout:void 0,Fj=typeof clearTimeout=="function"?clearTimeout:void 0,tp=typeof Promise=="function"?Promise:void 0,zj=typeof queueMicrotask=="function"?queueMicrotask:typeof tp<"u"?function(e){return tp.resolve(null).then(e).catch(Bj)}:id;function Bj(e){setTimeout(function(){throw e})}function Jc(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ai(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ai(t)}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),lr="__reactFiber$"+po,fi="__reactProps$"+po,Ar="__reactContainer$"+po,ad="__reactEvents$"+po,Uj="__reactListeners$"+po,Wj="__reactHandles$"+po;function Gn(e){var t=e[lr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ar]||r[lr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=rp(e);e!==null;){if(r=e[lr])return r;e=rp(e)}return t}e=r,r=e.parentNode}return null}function Oi(e){return e=e[lr]||e[Ar],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Os(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Ll(e){return e[fi]||null}var ld=[],Is=-1;function En(e){return{current:e}}function Ce(e){0>Is||(e.current=ld[Is],ld[Is]=null,Is--)}function Ne(e,t){Is++,ld[Is]=e.current,e.current=t}var Nn={},nt=En(Nn),xt=En(!1),Zn=Nn;function Zs(e,t){var r=e.type.contextTypes;if(!r)return Nn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function yt(e){return e=e.childContextTypes,e!=null}function tl(){Ce(xt),Ce(nt)}function np(e,t,r){if(nt.current!==Nn)throw Error(L(168));Ne(nt,t),Ne(xt,r)}function dv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,C2(e)||"Unknown",s));return Te({},r,n)}function rl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nn,Zn=nt.current,Ne(nt,e),Ne(xt,xt.current),!0}function sp(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=dv(e,t,Zn),n.__reactInternalMemoizedMergedChildContext=e,Ce(xt),Ce(nt),Ne(nt,e)):Ce(xt),Ne(xt,r)}var Sr=null,Fl=!1,Zc=!1;function fv(e){Sr===null?Sr=[e]:Sr.push(e)}function Hj(e){Fl=!0,fv(e)}function Pn(){if(!Zc&&Sr!==null){Zc=!0;var e=0,t=we;try{var r=Sr;for(we=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Sr=null,Fl=!1}catch(s){throw Sr!==null&&(Sr=Sr.slice(e+1)),$0(_f,Pn),s}finally{we=t,Zc=!1}}return null}var Ds=[],Ms=0,nl=null,sl=0,Ot=[],It=0,es=null,kr=1,Cr="";function zn(e,t){Ds[Ms++]=sl,Ds[Ms++]=nl,nl=e,sl=t}function hv(e,t,r){Ot[It++]=kr,Ot[It++]=Cr,Ot[It++]=es,es=e;var n=kr;e=Cr;var s=32-Jt(n)-1;n&=~(1<<s),r+=1;var o=32-Jt(t)+s;if(30<o){var a=s-s%5;o=(n&(1<<a)-1).toString(32),n>>=a,s-=a,kr=1<<32-Jt(t)+s|r<<s|n,Cr=o+e}else kr=1<<o|r<<s|n,Cr=e}function If(e){e.return!==null&&(zn(e,1),hv(e,1,0))}function Df(e){for(;e===nl;)nl=Ds[--Ms],Ds[Ms]=null,sl=Ds[--Ms],Ds[Ms]=null;for(;e===es;)es=Ot[--It],Ot[It]=null,Cr=Ot[--It],Ot[It]=null,kr=Ot[--It],Ot[It]=null}var kt=null,_t=null,Ee=!1,Qt=null;function mv(e,t){var r=Dt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function op(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,_t=fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,_t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=es!==null?{id:kr,overflow:Cr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Dt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,kt=e,_t=null,!0):!1;default:return!1}}function cd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ud(e){if(Ee){var t=_t;if(t){var r=t;if(!op(e,t)){if(cd(e))throw Error(L(418));t=fn(r.nextSibling);var n=kt;t&&op(e,t)?mv(n,r):(e.flags=e.flags&-4097|2,Ee=!1,kt=e)}}else{if(cd(e))throw Error(L(418));e.flags=e.flags&-4097|2,Ee=!1,kt=e}}}function ip(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function sa(e){if(e!==kt)return!1;if(!Ee)return ip(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!od(e.type,e.memoizedProps)),t&&(t=_t)){if(cd(e))throw pv(),Error(L(418));for(;t;)mv(e,t),t=fn(t.nextSibling)}if(ip(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){_t=fn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}_t=null}}else _t=kt?fn(e.stateNode.nextSibling):null;return!0}function pv(){for(var e=_t;e;)e=fn(e.nextSibling)}function eo(){_t=kt=null,Ee=!1}function Mf(e){Qt===null?Qt=[e]:Qt.push(e)}var qj=$r.ReactCurrentBatchConfig;function Ro(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function oa(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ap(e){var t=e._init;return t(e._payload)}function gv(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=gn(y,v),y.index=0,y.sibling=null,y}function o(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,j){return v===null||v.tag!==6?(v=iu(b,y.mode,j),v.return=y,v):(v=s(v,b),v.return=y,v)}function c(y,v,b,j){var N=b.type;return N===Ps?f(y,v,b.props.children,j,b.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Jr&&ap(N)===v.type)?(j=s(v,b.props),j.ref=Ro(y,v,b),j.return=y,j):(j=Ma(b.type,b.key,b.props,null,y.mode,j),j.ref=Ro(y,v,b),j.return=y,j)}function u(y,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=au(b,y.mode,j),v.return=y,v):(v=s(v,b.children||[]),v.return=y,v)}function f(y,v,b,j,N){return v===null||v.tag!==7?(v=Xn(b,y.mode,j,N),v.return=y,v):(v=s(v,b),v.return=y,v)}function d(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=iu(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Yi:return b=Ma(v.type,v.key,v.props,null,y.mode,b),b.ref=Ro(y,null,v),b.return=y,b;case Es:return v=au(v,y.mode,b),v.return=y,v;case Jr:var j=v._init;return d(y,j(v._payload),b)}if(Fo(v)||Co(v))return v=Xn(v,y.mode,b,null),v.return=y,v;oa(y,v)}return null}function m(y,v,b,j){var N=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(y,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yi:return b.key===N?c(y,v,b,j):null;case Es:return b.key===N?u(y,v,b,j):null;case Jr:return N=b._init,m(y,v,N(b._payload),j)}if(Fo(b)||Co(b))return N!==null?null:f(y,v,b,j,null);oa(y,b)}return null}function p(y,v,b,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(b)||null,l(v,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Yi:return y=y.get(j.key===null?b:j.key)||null,c(v,y,j,N);case Es:return y=y.get(j.key===null?b:j.key)||null,u(v,y,j,N);case Jr:var S=j._init;return p(y,v,b,S(j._payload),N)}if(Fo(j)||Co(j))return y=y.get(b)||null,f(v,y,j,N,null);oa(v,j)}return null}function w(y,v,b,j){for(var N=null,S=null,_=v,C=v=0,z=null;_!==null&&C<b.length;C++){_.index>C?(z=_,_=null):z=_.sibling;var O=m(y,_,b[C],j);if(O===null){_===null&&(_=z);break}e&&_&&O.alternate===null&&t(y,_),v=o(O,v,C),S===null?N=O:S.sibling=O,S=O,_=z}if(C===b.length)return r(y,_),Ee&&zn(y,C),N;if(_===null){for(;C<b.length;C++)_=d(y,b[C],j),_!==null&&(v=o(_,v,C),S===null?N=_:S.sibling=_,S=_);return Ee&&zn(y,C),N}for(_=n(y,_);C<b.length;C++)z=p(_,y,C,b[C],j),z!==null&&(e&&z.alternate!==null&&_.delete(z.key===null?C:z.key),v=o(z,v,C),S===null?N=z:S.sibling=z,S=z);return e&&_.forEach(function(H){return t(y,H)}),Ee&&zn(y,C),N}function g(y,v,b,j){var N=Co(b);if(typeof N!="function")throw Error(L(150));if(b=N.call(b),b==null)throw Error(L(151));for(var S=N=null,_=v,C=v=0,z=null,O=b.next();_!==null&&!O.done;C++,O=b.next()){_.index>C?(z=_,_=null):z=_.sibling;var H=m(y,_,O.value,j);if(H===null){_===null&&(_=z);break}e&&_&&H.alternate===null&&t(y,_),v=o(H,v,C),S===null?N=H:S.sibling=H,S=H,_=z}if(O.done)return r(y,_),Ee&&zn(y,C),N;if(_===null){for(;!O.done;C++,O=b.next())O=d(y,O.value,j),O!==null&&(v=o(O,v,C),S===null?N=O:S.sibling=O,S=O);return Ee&&zn(y,C),N}for(_=n(y,_);!O.done;C++,O=b.next())O=p(_,y,C,O.value,j),O!==null&&(e&&O.alternate!==null&&_.delete(O.key===null?C:O.key),v=o(O,v,C),S===null?N=O:S.sibling=O,S=O);return e&&_.forEach(function(K){return t(y,K)}),Ee&&zn(y,C),N}function x(y,v,b,j){if(typeof b=="object"&&b!==null&&b.type===Ps&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Yi:e:{for(var N=b.key,S=v;S!==null;){if(S.key===N){if(N=b.type,N===Ps){if(S.tag===7){r(y,S.sibling),v=s(S,b.props.children),v.return=y,y=v;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Jr&&ap(N)===S.type){r(y,S.sibling),v=s(S,b.props),v.ref=Ro(y,S,b),v.return=y,y=v;break e}r(y,S);break}else t(y,S);S=S.sibling}b.type===Ps?(v=Xn(b.props.children,y.mode,j,b.key),v.return=y,y=v):(j=Ma(b.type,b.key,b.props,null,y.mode,j),j.ref=Ro(y,v,b),j.return=y,y=j)}return a(y);case Es:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(y,v.sibling),v=s(v,b.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=au(b,y.mode,j),v.return=y,y=v}return a(y);case Jr:return S=b._init,x(y,v,S(b._payload),j)}if(Fo(b))return w(y,v,b,j);if(Co(b))return g(y,v,b,j);oa(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(y,v.sibling),v=s(v,b),v.return=y,y=v):(r(y,v),v=iu(b,y.mode,j),v.return=y,y=v),a(y)):r(y,v)}return x}var to=gv(!0),vv=gv(!1),ol=En(null),il=null,$s=null,$f=null;function Lf(){$f=$s=il=null}function Ff(e){var t=ol.current;Ce(ol),e._currentValue=t}function dd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Hs(e,t){il=e,$f=$s=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function Ft(e){var t=e._currentValue;if($f!==e)if(e={context:e,memoizedValue:t,next:null},$s===null){if(il===null)throw Error(L(308));$s=e,il.dependencies={lanes:0,firstContext:e}}else $s=$s.next=e;return t}var Yn=null;function zf(e){Yn===null?Yn=[e]:Yn.push(e)}function xv(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,zf(t)):(r.next=s.next,s.next=r),t.interleaved=r,Tr(e,n)}function Tr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Zr=!1;function Bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Er(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ve&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Tr(e,r)}return s=n.interleaved,s===null?(t.next=t,zf(n)):(t.next=s.next,s.next=t),n.interleaved=t,Tr(e,r)}function Aa(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kf(e,r)}}function lp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function al(e,t,r,n){var s=e.updateQueue;Zr=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(o!==null){var d=s.baseState;a=0,f=u=c=null,l=o;do{var m=l.lane,p=l.eventTime;if((n&m)===m){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,g=l;switch(m=t,p=r,g.tag){case 1:if(w=g.payload,typeof w=="function"){d=w.call(p,d,m);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,m=typeof w=="function"?w.call(p,d,m):w,m==null)break e;d=Te({},d,m);break e;case 2:Zr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);rs|=a,e.lanes=a,e.memoizedState=d}}function cp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var Ii={},dr=En(Ii),hi=En(Ii),mi=En(Ii);function Kn(e){if(e===Ii)throw Error(L(174));return e}function Uf(e,t){switch(Ne(mi,t),Ne(hi,e),Ne(dr,Ii),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qu(t,e)}Ce(dr),Ne(dr,t)}function ro(){Ce(dr),Ce(hi),Ce(mi)}function wv(e){Kn(mi.current);var t=Kn(dr.current),r=qu(t,e.type);t!==r&&(Ne(hi,e),Ne(dr,r))}function Wf(e){hi.current===e&&(Ce(dr),Ce(hi))}var Pe=En(0);function ll(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var eu=[];function Hf(){for(var e=0;e<eu.length;e++)eu[e]._workInProgressVersionPrimary=null;eu.length=0}var Ta=$r.ReactCurrentDispatcher,tu=$r.ReactCurrentBatchConfig,ts=0,Ae=null,Fe=null,He=null,cl=!1,Ko=!1,pi=0,Vj=0;function Ze(){throw Error(L(321))}function qf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!er(e[r],t[r]))return!1;return!0}function Vf(e,t,r,n,s,o){if(ts=o,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ta.current=e===null||e.memoizedState===null?Qj:Xj,e=r(n,s),Ko){o=0;do{if(Ko=!1,pi=0,25<=o)throw Error(L(301));o+=1,He=Fe=null,t.updateQueue=null,Ta.current=Jj,e=r(n,s)}while(Ko)}if(Ta.current=ul,t=Fe!==null&&Fe.next!==null,ts=0,He=Fe=Ae=null,cl=!1,t)throw Error(L(300));return e}function Gf(){var e=pi!==0;return pi=0,e}function ar(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ae.memoizedState=He=e:He=He.next=e,He}function zt(){if(Fe===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=He===null?Ae.memoizedState:He.next;if(t!==null)He=t,Fe=e;else{if(e===null)throw Error(L(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},He===null?Ae.memoizedState=He=e:He=He.next=e}return He}function gi(e,t){return typeof t=="function"?t(e):t}function ru(e){var t=zt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=Fe,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=a=null,c=null,u=o;do{var f=u.lane;if((ts&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,a=n):c=c.next=d,Ae.lanes|=f,rs|=f}u=u.next}while(u!==null&&u!==o);c===null?a=n:c.next=l,er(n,t.memoizedState)||(vt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Ae.lanes|=o,rs|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nu(e){var t=zt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);er(o,t.memoizedState)||(vt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function bv(){}function jv(e,t){var r=Ae,n=zt(),s=t(),o=!er(n.memoizedState,s);if(o&&(n.memoizedState=s,vt=!0),n=n.queue,Yf(_v.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||He!==null&&He.memoizedState.tag&1){if(r.flags|=2048,vi(9,Sv.bind(null,r,n,s,t),void 0,null),qe===null)throw Error(L(349));ts&30||Nv(r,t,s)}return s}function Nv(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Sv(e,t,r,n){t.value=r,t.getSnapshot=n,kv(t)&&Cv(e)}function _v(e,t,r){return r(function(){kv(t)&&Cv(e)})}function kv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!er(e,r)}catch{return!0}}function Cv(e){var t=Tr(e,1);t!==null&&Zt(t,e,1,-1)}function up(e){var t=ar();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:e},t.queue=e,e=e.dispatch=Kj.bind(null,Ae,e),[t.memoizedState,e]}function vi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ev(){return zt().memoizedState}function Ra(e,t,r,n){var s=ar();Ae.flags|=e,s.memoizedState=vi(1|t,r,void 0,n===void 0?null:n)}function zl(e,t,r,n){var s=zt();n=n===void 0?null:n;var o=void 0;if(Fe!==null){var a=Fe.memoizedState;if(o=a.destroy,n!==null&&qf(n,a.deps)){s.memoizedState=vi(t,r,o,n);return}}Ae.flags|=e,s.memoizedState=vi(1|t,r,o,n)}function dp(e,t){return Ra(8390656,8,e,t)}function Yf(e,t){return zl(2048,8,e,t)}function Pv(e,t){return zl(4,2,e,t)}function Av(e,t){return zl(4,4,e,t)}function Tv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rv(e,t,r){return r=r!=null?r.concat([e]):null,zl(4,4,Tv.bind(null,t,e),r)}function Kf(){}function Ov(e,t){var r=zt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Iv(e,t){var r=zt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Dv(e,t,r){return ts&21?(er(r,t)||(r=z0(),Ae.lanes|=r,rs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=r)}function Gj(e,t){var r=we;we=r!==0&&4>r?r:4,e(!0);var n=tu.transition;tu.transition={};try{e(!1),t()}finally{we=r,tu.transition=n}}function Mv(){return zt().memoizedState}function Yj(e,t,r){var n=pn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$v(e))Lv(t,r);else if(r=xv(e,t,r,n),r!==null){var s=at();Zt(r,e,n,s),Fv(r,t,n)}}function Kj(e,t,r){var n=pn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($v(e))Lv(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,r);if(s.hasEagerState=!0,s.eagerState=l,er(l,a)){var c=t.interleaved;c===null?(s.next=s,zf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=xv(e,t,s,n),r!==null&&(s=at(),Zt(r,e,n,s),Fv(r,t,n))}}function $v(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Lv(e,t){Ko=cl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Fv(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kf(e,r)}}var ul={readContext:Ft,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},Qj={readContext:Ft,useCallback:function(e,t){return ar().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:dp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ra(4194308,4,Tv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var r=ar();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ar();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Yj.bind(null,Ae,e),[n.memoizedState,e]},useRef:function(e){var t=ar();return e={current:e},t.memoizedState=e},useState:up,useDebugValue:Kf,useDeferredValue:function(e){return ar().memoizedState=e},useTransition:function(){var e=up(!1),t=e[0];return e=Gj.bind(null,e[1]),ar().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ae,s=ar();if(Ee){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),qe===null)throw Error(L(349));ts&30||Nv(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,dp(_v.bind(null,n,o,e),[e]),n.flags|=2048,vi(9,Sv.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=ar(),t=qe.identifierPrefix;if(Ee){var r=Cr,n=kr;r=(n&~(1<<32-Jt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=pi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Vj++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xj={readContext:Ft,useCallback:Ov,useContext:Ft,useEffect:Yf,useImperativeHandle:Rv,useInsertionEffect:Pv,useLayoutEffect:Av,useMemo:Iv,useReducer:ru,useRef:Ev,useState:function(){return ru(gi)},useDebugValue:Kf,useDeferredValue:function(e){var t=zt();return Dv(t,Fe.memoizedState,e)},useTransition:function(){var e=ru(gi)[0],t=zt().memoizedState;return[e,t]},useMutableSource:bv,useSyncExternalStore:jv,useId:Mv,unstable_isNewReconciler:!1},Jj={readContext:Ft,useCallback:Ov,useContext:Ft,useEffect:Yf,useImperativeHandle:Rv,useInsertionEffect:Pv,useLayoutEffect:Av,useMemo:Iv,useReducer:nu,useRef:Ev,useState:function(){return nu(gi)},useDebugValue:Kf,useDeferredValue:function(e){var t=zt();return Fe===null?t.memoizedState=e:Dv(t,Fe.memoizedState,e)},useTransition:function(){var e=nu(gi)[0],t=zt().memoizedState;return[e,t]},useMutableSource:bv,useSyncExternalStore:jv,useId:Mv,unstable_isNewReconciler:!1};function Gt(e,t){if(e&&e.defaultProps){t=Te({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function fd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Te({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bl={isMounted:function(e){return(e=e._reactInternals)?ds(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=at(),s=pn(e),o=Er(n,s);o.payload=t,r!=null&&(o.callback=r),t=hn(e,o,s),t!==null&&(Zt(t,e,s,n),Aa(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=at(),s=pn(e),o=Er(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=hn(e,o,s),t!==null&&(Zt(t,e,s,n),Aa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=at(),n=pn(e),s=Er(r,n);s.tag=2,t!=null&&(s.callback=t),t=hn(e,s,n),t!==null&&(Zt(t,e,n,r),Aa(t,e,n))}};function fp(e,t,r,n,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!ci(r,n)||!ci(s,o):!0}function zv(e,t,r){var n=!1,s=Nn,o=t.contextType;return typeof o=="object"&&o!==null?o=Ft(o):(s=yt(t)?Zn:nt.current,n=t.contextTypes,o=(n=n!=null)?Zs(e,s):Nn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function hp(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bl.enqueueReplaceState(t,t.state,null)}function hd(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Bf(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Ft(o):(o=yt(t)?Zn:nt.current,s.context=Zs(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(fd(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Bl.enqueueReplaceState(s,s.state,null),al(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function no(e,t){try{var r="",n=t;do r+=k2(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function su(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function md(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Zj=typeof WeakMap=="function"?WeakMap:Map;function Bv(e,t,r){r=Er(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){fl||(fl=!0,Sd=n),md(e,t)},r}function Uv(e,t,r){r=Er(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){md(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){md(e,t),typeof n!="function"&&(mn===null?mn=new Set([this]):mn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function mp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Zj;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=hN.bind(null,e,t,r),t.then(e,e))}function pp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gp(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Er(-1,1),t.tag=2,hn(r,t,1))),r.lanes|=1),e)}var eN=$r.ReactCurrentOwner,vt=!1;function it(e,t,r,n){t.child=e===null?vv(t,null,r,n):to(t,e.child,r,n)}function vp(e,t,r,n,s){r=r.render;var o=t.ref;return Hs(t,s),n=Vf(e,t,r,n,o,s),r=Gf(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rr(e,t,s)):(Ee&&r&&If(t),t.flags|=1,it(e,t,n,s),t.child)}function xp(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!nh(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Wv(e,t,o,n,s)):(e=Ma(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:ci,r(a,n)&&e.ref===t.ref)return Rr(e,t,s)}return t.flags|=1,e=gn(o,n),e.ref=t.ref,e.return=t,t.child=e}function Wv(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(ci(o,n)&&e.ref===t.ref)if(vt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,Rr(e,t,s)}return pd(e,t,r,n,s)}function Hv(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Fs,Nt),Nt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(Fs,Nt),Nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ne(Fs,Nt),Nt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ne(Fs,Nt),Nt|=n;return it(e,t,s,r),t.child}function qv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function pd(e,t,r,n,s){var o=yt(r)?Zn:nt.current;return o=Zs(t,o),Hs(t,s),r=Vf(e,t,r,n,o,s),n=Gf(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rr(e,t,s)):(Ee&&n&&If(t),t.flags|=1,it(e,t,r,s),t.child)}function yp(e,t,r,n,s){if(yt(r)){var o=!0;rl(t)}else o=!1;if(Hs(t,s),t.stateNode===null)Oa(e,t),zv(t,r,n),hd(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ft(u):(u=yt(r)?Zn:nt.current,u=Zs(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&hp(t,a,n,u),Zr=!1;var m=t.memoizedState;a.state=m,al(t,n,a,s),c=t.memoizedState,l!==n||m!==c||xt.current||Zr?(typeof f=="function"&&(fd(t,r,f,n),c=t.memoizedState),(l=Zr||fp(t,r,l,n,m,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,yv(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Gt(t.type,l),a.props=u,d=t.pendingProps,m=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ft(c):(c=yt(r)?Zn:nt.current,c=Zs(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||m!==c)&&hp(t,a,n,c),Zr=!1,m=t.memoizedState,a.state=m,al(t,n,a,s);var w=t.memoizedState;l!==d||m!==w||xt.current||Zr?(typeof p=="function"&&(fd(t,r,p,n),w=t.memoizedState),(u=Zr||fp(t,r,u,n,m,w,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),a.props=n,a.state=w,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return gd(e,t,r,n,o,s)}function gd(e,t,r,n,s,o){qv(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&sp(t,r,!1),Rr(e,t,o);n=t.stateNode,eN.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=to(t,e.child,null,o),t.child=to(t,null,l,o)):it(e,t,l,o),t.memoizedState=n.state,s&&sp(t,r,!0),t.child}function Vv(e){var t=e.stateNode;t.pendingContext?np(e,t.pendingContext,t.pendingContext!==t.context):t.context&&np(e,t.context,!1),Uf(e,t.containerInfo)}function wp(e,t,r,n,s){return eo(),Mf(s),t.flags|=256,it(e,t,r,n),t.child}var vd={dehydrated:null,treeContext:null,retryLane:0};function xd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gv(e,t,r){var n=t.pendingProps,s=Pe.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ne(Pe,s&1),e===null)return ud(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Hl(a,n,0,null),e=Xn(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=xd(r),t.memoizedState=vd,e):Qf(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return tN(e,t,a,n,l,s,r);if(o){o=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=gn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=gn(l,o):(o=Xn(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?xd(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=vd,n}return o=e.child,e=o.sibling,n=gn(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Qf(e,t){return t=Hl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ia(e,t,r,n){return n!==null&&Mf(n),to(t,e.child,null,r),e=Qf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tN(e,t,r,n,s,o,a){if(r)return t.flags&256?(t.flags&=-257,n=su(Error(L(422))),ia(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Hl({mode:"visible",children:n.children},s,0,null),o=Xn(o,s,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&to(t,e.child,null,a),t.child.memoizedState=xd(a),t.memoizedState=vd,o);if(!(t.mode&1))return ia(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(L(419)),n=su(o,n,void 0),ia(e,t,a,n)}if(l=(a&e.childLanes)!==0,vt||l){if(n=qe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Tr(e,s),Zt(n,e,s,-1))}return rh(),n=su(Error(L(421))),ia(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=mN.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,_t=fn(s.nextSibling),kt=t,Ee=!0,Qt=null,e!==null&&(Ot[It++]=kr,Ot[It++]=Cr,Ot[It++]=es,kr=e.id,Cr=e.overflow,es=t),t=Qf(t,n.children),t.flags|=4096,t)}function bp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),dd(e.return,t,r)}function ou(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Yv(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(it(e,t,n.children,r),n=Pe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bp(e,r,t);else if(e.tag===19)bp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ne(Pe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ll(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ou(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ll(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ou(t,!0,r,null,o);break;case"together":ou(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),rs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=gn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=gn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rN(e,t,r){switch(t.tag){case 3:Vv(t),eo();break;case 5:wv(t);break;case 1:yt(t.type)&&rl(t);break;case 4:Uf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ne(ol,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ne(Pe,Pe.current&1),t.flags|=128,null):r&t.child.childLanes?Gv(e,t,r):(Ne(Pe,Pe.current&1),e=Rr(e,t,r),e!==null?e.sibling:null);Ne(Pe,Pe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Yv(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(Pe,Pe.current),n)break;return null;case 22:case 23:return t.lanes=0,Hv(e,t,r)}return Rr(e,t,r)}var Kv,yd,Qv,Xv;Kv=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yd=function(){};Qv=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Kn(dr.current);var o=null;switch(r){case"input":s=Bu(e,s),n=Bu(e,n),o=[];break;case"select":s=Te({},s,{value:void 0}),n=Te({},n,{value:void 0}),o=[];break;case"textarea":s=Hu(e,s),n=Hu(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=el)}Vu(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ri.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ri.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&_e("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Xv=function(e,t,r,n){r!==n&&(t.flags|=4)};function Oo(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nN(e,t,r){var n=t.pendingProps;switch(Df(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return yt(t.type)&&tl(),et(t),null;case 3:return n=t.stateNode,ro(),Ce(xt),Ce(nt),Hf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qt!==null&&(Cd(Qt),Qt=null))),yd(e,t),et(t),null;case 5:Wf(t);var s=Kn(mi.current);if(r=t.type,e!==null&&t.stateNode!=null)Qv(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return et(t),null}if(e=Kn(dr.current),sa(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[lr]=t,n[fi]=o,e=(t.mode&1)!==0,r){case"dialog":_e("cancel",n),_e("close",n);break;case"iframe":case"object":case"embed":_e("load",n);break;case"video":case"audio":for(s=0;s<Bo.length;s++)_e(Bo[s],n);break;case"source":_e("error",n);break;case"img":case"image":case"link":_e("error",n),_e("load",n);break;case"details":_e("toggle",n);break;case"input":Am(n,o),_e("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},_e("invalid",n);break;case"textarea":Rm(n,o),_e("invalid",n)}Vu(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&na(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&na(n.textContent,l,e),s=["children",""+l]):ri.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&_e("scroll",n)}switch(r){case"input":Ki(n),Tm(n,o,!0);break;case"textarea":Ki(n),Om(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=el)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[lr]=t,e[fi]=n,Kv(e,t,!1,!1),t.stateNode=e;e:{switch(a=Gu(r,n),r){case"dialog":_e("cancel",e),_e("close",e),s=n;break;case"iframe":case"object":case"embed":_e("load",e),s=n;break;case"video":case"audio":for(s=0;s<Bo.length;s++)_e(Bo[s],e);s=n;break;case"source":_e("error",e),s=n;break;case"img":case"image":case"link":_e("error",e),_e("load",e),s=n;break;case"details":_e("toggle",e),s=n;break;case"input":Am(e,n),s=Bu(e,n),_e("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Te({},n,{value:void 0}),_e("invalid",e);break;case"textarea":Rm(e,n),s=Hu(e,n),_e("invalid",e);break;default:s=n}Vu(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?E0(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&k0(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ni(e,c):typeof c=="number"&&ni(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ri.hasOwnProperty(o)?c!=null&&o==="onScroll"&&_e("scroll",e):c!=null&&wf(e,o,c,a))}switch(r){case"input":Ki(e),Tm(e,n,!1);break;case"textarea":Ki(e),Om(e);break;case"option":n.value!=null&&e.setAttribute("value",""+jn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?zs(e,!!n.multiple,o,!1):n.defaultValue!=null&&zs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=el)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)Xv(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=Kn(mi.current),Kn(dr.current),sa(t)){if(n=t.stateNode,r=t.memoizedProps,n[lr]=t,(o=n.nodeValue!==r)&&(e=kt,e!==null))switch(e.tag){case 3:na(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&na(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lr]=t,t.stateNode=n}return et(t),null;case 13:if(Ce(Pe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&_t!==null&&t.mode&1&&!(t.flags&128))pv(),eo(),t.flags|=98560,o=!1;else if(o=sa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(L(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[lr]=t}else eo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),o=!1}else Qt!==null&&(Cd(Qt),Qt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Pe.current&1?ze===0&&(ze=3):rh())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return ro(),yd(e,t),e===null&&ui(t.stateNode.containerInfo),et(t),null;case 10:return Ff(t.type._context),et(t),null;case 17:return yt(t.type)&&tl(),et(t),null;case 19:if(Ce(Pe),o=t.memoizedState,o===null)return et(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)Oo(o,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ll(e),a!==null){for(t.flags|=128,Oo(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ne(Pe,Pe.current&1|2),t.child}e=e.sibling}o.tail!==null&&De()>so&&(t.flags|=128,n=!0,Oo(o,!1),t.lanes=4194304)}else{if(!n)if(e=ll(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Oo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ee)return et(t),null}else 2*De()-o.renderingStartTime>so&&r!==1073741824&&(t.flags|=128,n=!0,Oo(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=De(),t.sibling=null,r=Pe.current,Ne(Pe,n?r&1|2:r&1),t):(et(t),null);case 22:case 23:return th(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Nt&1073741824&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function sN(e,t){switch(Df(t),t.tag){case 1:return yt(t.type)&&tl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ro(),Ce(xt),Ce(nt),Hf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wf(t),null;case 13:if(Ce(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));eo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Pe),null;case 4:return ro(),null;case 10:return Ff(t.type._context),null;case 22:case 23:return th(),null;case 24:return null;default:return null}}var aa=!1,tt=!1,oN=typeof WeakSet=="function"?WeakSet:Set,q=null;function Ls(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Oe(e,t,n)}else r.current=null}function wd(e,t,r){try{r()}catch(n){Oe(e,t,n)}}var jp=!1;function iN(e,t){if(nd=Xa,e=rv(),Of(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,f=0,d=e,m=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(l=a+s),d!==o||n!==0&&d.nodeType!==3||(c=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)m=d,d=p;for(;;){if(d===e)break t;if(m===r&&++u===s&&(l=a),m===o&&++f===n&&(c=a),(p=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(sd={focusedElem:e,selectionRange:r},Xa=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,x=w.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Gt(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(j){Oe(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return w=jp,jp=!1,w}function Qo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&wd(t,r,o)}s=s.next}while(s!==n)}}function Ul(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function bd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Jv(e){var t=e.alternate;t!==null&&(e.alternate=null,Jv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lr],delete t[fi],delete t[ad],delete t[Uj],delete t[Wj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zv(e){return e.tag===5||e.tag===3||e.tag===4}function Np(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=el));else if(n!==4&&(e=e.child,e!==null))for(jd(e,t,r),e=e.sibling;e!==null;)jd(e,t,r),e=e.sibling}function Nd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Nd(e,t,r),e=e.sibling;e!==null;)Nd(e,t,r),e=e.sibling}var Ye=null,Yt=!1;function Hr(e,t,r){for(r=r.child;r!==null;)ex(e,t,r),r=r.sibling}function ex(e,t,r){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Il,r)}catch{}switch(r.tag){case 5:tt||Ls(r,t);case 6:var n=Ye,s=Yt;Ye=null,Hr(e,t,r),Ye=n,Yt=s,Ye!==null&&(Yt?(e=Ye,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ye.removeChild(r.stateNode));break;case 18:Ye!==null&&(Yt?(e=Ye,r=r.stateNode,e.nodeType===8?Jc(e.parentNode,r):e.nodeType===1&&Jc(e,r),ai(e)):Jc(Ye,r.stateNode));break;case 4:n=Ye,s=Yt,Ye=r.stateNode.containerInfo,Yt=!0,Hr(e,t,r),Ye=n,Yt=s;break;case 0:case 11:case 14:case 15:if(!tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&wd(r,t,a),s=s.next}while(s!==n)}Hr(e,t,r);break;case 1:if(!tt&&(Ls(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Oe(r,t,l)}Hr(e,t,r);break;case 21:Hr(e,t,r);break;case 22:r.mode&1?(tt=(n=tt)||r.memoizedState!==null,Hr(e,t,r),tt=n):Hr(e,t,r);break;default:Hr(e,t,r)}}function Sp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new oN),t.forEach(function(n){var s=pN.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ht(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ye=l.stateNode,Yt=!1;break e;case 3:Ye=l.stateNode.containerInfo,Yt=!0;break e;case 4:Ye=l.stateNode.containerInfo,Yt=!0;break e}l=l.return}if(Ye===null)throw Error(L(160));ex(o,a,s),Ye=null,Yt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Oe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tx(t,e),t=t.sibling}function tx(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),sr(e),n&4){try{Qo(3,e,e.return),Ul(3,e)}catch(g){Oe(e,e.return,g)}try{Qo(5,e,e.return)}catch(g){Oe(e,e.return,g)}}break;case 1:Ht(t,e),sr(e),n&512&&r!==null&&Ls(r,r.return);break;case 5:if(Ht(t,e),sr(e),n&512&&r!==null&&Ls(r,r.return),e.flags&32){var s=e.stateNode;try{ni(s,"")}catch(g){Oe(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&N0(s,o),Gu(l,a);var u=Gu(l,o);for(a=0;a<c.length;a+=2){var f=c[a],d=c[a+1];f==="style"?E0(s,d):f==="dangerouslySetInnerHTML"?k0(s,d):f==="children"?ni(s,d):wf(s,f,d,u)}switch(l){case"input":Uu(s,o);break;case"textarea":S0(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?zs(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?zs(s,!!o.multiple,o.defaultValue,!0):zs(s,!!o.multiple,o.multiple?[]:"",!1))}s[fi]=o}catch(g){Oe(e,e.return,g)}}break;case 6:if(Ht(t,e),sr(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){Oe(e,e.return,g)}}break;case 3:if(Ht(t,e),sr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ai(t.containerInfo)}catch(g){Oe(e,e.return,g)}break;case 4:Ht(t,e),sr(e);break;case 13:Ht(t,e),sr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Zf=De())),n&4&&Sp(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(tt=(u=tt)||f,Ht(t,e),tt=u):Ht(t,e),sr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(q=e,f=e.child;f!==null;){for(d=q=f;q!==null;){switch(m=q,p=m.child,m.tag){case 0:case 11:case 14:case 15:Qo(4,m,m.return);break;case 1:Ls(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(g){Oe(n,r,g)}}break;case 5:Ls(m,m.return);break;case 22:if(m.memoizedState!==null){kp(d);continue}}p!==null?(p.return=m,q=p):kp(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=C0("display",a))}catch(g){Oe(e,e.return,g)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Oe(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ht(t,e),sr(e),n&4&&Sp(e);break;case 21:break;default:Ht(t,e),sr(e)}}function sr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Zv(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ni(s,""),n.flags&=-33);var o=Np(e);Nd(e,o,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Np(e);jd(e,l,a);break;default:throw Error(L(161))}}catch(c){Oe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aN(e,t,r){q=e,rx(e)}function rx(e,t,r){for(var n=(e.mode&1)!==0;q!==null;){var s=q,o=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||aa;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||tt;l=aa;var u=tt;if(aa=a,(tt=c)&&!u)for(q=s;q!==null;)a=q,c=a.child,a.tag===22&&a.memoizedState!==null?Cp(s):c!==null?(c.return=a,q=c):Cp(s);for(;o!==null;)q=o,rx(o),o=o.sibling;q=s,aa=l,tt=u}_p(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,q=o):_p(e)}}function _p(e){for(;q!==null;){var t=q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tt||Ul(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!tt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Gt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&cp(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}cp(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&ai(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}tt||t.flags&512&&bd(t)}catch(m){Oe(t,t.return,m)}}if(t===e){q=null;break}if(r=t.sibling,r!==null){r.return=t.return,q=r;break}q=t.return}}function kp(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,q=r;break}q=t.return}}function Cp(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ul(4,t)}catch(c){Oe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Oe(t,s,c)}}var o=t.return;try{bd(t)}catch(c){Oe(t,o,c)}break;case 5:var a=t.return;try{bd(t)}catch(c){Oe(t,a,c)}}}catch(c){Oe(t,t.return,c)}if(t===e){q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,q=l;break}q=t.return}}var lN=Math.ceil,dl=$r.ReactCurrentDispatcher,Xf=$r.ReactCurrentOwner,Mt=$r.ReactCurrentBatchConfig,ve=0,qe=null,Le=null,Qe=0,Nt=0,Fs=En(0),ze=0,xi=null,rs=0,Wl=0,Jf=0,Xo=null,pt=null,Zf=0,so=1/0,jr=null,fl=!1,Sd=null,mn=null,la=!1,on=null,hl=0,Jo=0,_d=null,Ia=-1,Da=0;function at(){return ve&6?De():Ia!==-1?Ia:Ia=De()}function pn(e){return e.mode&1?ve&2&&Qe!==0?Qe&-Qe:qj.transition!==null?(Da===0&&(Da=z0()),Da):(e=we,e!==0||(e=window.event,e=e===void 0?16:G0(e.type)),e):1}function Zt(e,t,r,n){if(50<Jo)throw Jo=0,_d=null,Error(L(185));Ti(e,r,n),(!(ve&2)||e!==qe)&&(e===qe&&(!(ve&2)&&(Wl|=r),ze===4&&rn(e,Qe)),wt(e,n),r===1&&ve===0&&!(t.mode&1)&&(so=De()+500,Fl&&Pn()))}function wt(e,t){var r=e.callbackNode;q2(e,t);var n=Qa(e,e===qe?Qe:0);if(n===0)r!==null&&Mm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Mm(r),t===1)e.tag===0?Hj(Ep.bind(null,e)):fv(Ep.bind(null,e)),zj(function(){!(ve&6)&&Pn()}),r=null;else{switch(B0(n)){case 1:r=_f;break;case 4:r=L0;break;case 16:r=Ka;break;case 536870912:r=F0;break;default:r=Ka}r=ux(r,nx.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nx(e,t){if(Ia=-1,Da=0,ve&6)throw Error(L(327));var r=e.callbackNode;if(qs()&&e.callbackNode!==r)return null;var n=Qa(e,e===qe?Qe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ml(e,n);else{t=n;var s=ve;ve|=2;var o=ox();(qe!==e||Qe!==t)&&(jr=null,so=De()+500,Qn(e,t));do try{dN();break}catch(l){sx(e,l)}while(!0);Lf(),dl.current=o,ve=s,Le!==null?t=0:(qe=null,Qe=0,t=ze)}if(t!==0){if(t===2&&(s=Ju(e),s!==0&&(n=s,t=kd(e,s))),t===1)throw r=xi,Qn(e,0),rn(e,n),wt(e,De()),r;if(t===6)rn(e,n);else{if(s=e.current.alternate,!(n&30)&&!cN(s)&&(t=ml(e,n),t===2&&(o=Ju(e),o!==0&&(n=o,t=kd(e,o))),t===1))throw r=xi,Qn(e,0),rn(e,n),wt(e,De()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:Bn(e,pt,jr);break;case 3:if(rn(e,n),(n&130023424)===n&&(t=Zf+500-De(),10<t)){if(Qa(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){at(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=id(Bn.bind(null,e,pt,jr),t);break}Bn(e,pt,jr);break;case 4:if(rn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Jt(n);o=1<<a,a=t[a],a>s&&(s=a),n&=~o}if(n=s,n=De()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lN(n/1960))-n,10<n){e.timeoutHandle=id(Bn.bind(null,e,pt,jr),n);break}Bn(e,pt,jr);break;case 5:Bn(e,pt,jr);break;default:throw Error(L(329))}}}return wt(e,De()),e.callbackNode===r?nx.bind(null,e):null}function kd(e,t){var r=Xo;return e.current.memoizedState.isDehydrated&&(Qn(e,t).flags|=256),e=ml(e,t),e!==2&&(t=pt,pt=r,t!==null&&Cd(t)),e}function Cd(e){pt===null?pt=e:pt.push.apply(pt,e)}function cN(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!er(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rn(e,t){for(t&=~Jf,t&=~Wl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Jt(t),n=1<<r;e[r]=-1,t&=~n}}function Ep(e){if(ve&6)throw Error(L(327));qs();var t=Qa(e,0);if(!(t&1))return wt(e,De()),null;var r=ml(e,t);if(e.tag!==0&&r===2){var n=Ju(e);n!==0&&(t=n,r=kd(e,n))}if(r===1)throw r=xi,Qn(e,0),rn(e,t),wt(e,De()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bn(e,pt,jr),wt(e,De()),null}function eh(e,t){var r=ve;ve|=1;try{return e(t)}finally{ve=r,ve===0&&(so=De()+500,Fl&&Pn())}}function ns(e){on!==null&&on.tag===0&&!(ve&6)&&qs();var t=ve;ve|=1;var r=Mt.transition,n=we;try{if(Mt.transition=null,we=1,e)return e()}finally{we=n,Mt.transition=r,ve=t,!(ve&6)&&Pn()}}function th(){Nt=Fs.current,Ce(Fs)}function Qn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Fj(r)),Le!==null)for(r=Le.return;r!==null;){var n=r;switch(Df(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&tl();break;case 3:ro(),Ce(xt),Ce(nt),Hf();break;case 5:Wf(n);break;case 4:ro();break;case 13:Ce(Pe);break;case 19:Ce(Pe);break;case 10:Ff(n.type._context);break;case 22:case 23:th()}r=r.return}if(qe=e,Le=e=gn(e.current,null),Qe=Nt=t,ze=0,xi=null,Jf=Wl=rs=0,pt=Xo=null,Yn!==null){for(t=0;t<Yn.length;t++)if(r=Yn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,n.next=a}r.pending=n}Yn=null}return e}function sx(e,t){do{var r=Le;try{if(Lf(),Ta.current=ul,cl){for(var n=Ae.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}cl=!1}if(ts=0,He=Fe=Ae=null,Ko=!1,pi=0,Xf.current=null,r===null||r.return===null){ze=1,xi=t,Le=null;break}e:{var o=e,a=r.return,l=r,c=t;if(t=Qe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=pp(a);if(p!==null){p.flags&=-257,gp(p,a,l,o,t),p.mode&1&&mp(o,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var g=new Set;g.add(c),t.updateQueue=g}else w.add(c);break e}else{if(!(t&1)){mp(o,u,t),rh();break e}c=Error(L(426))}}else if(Ee&&l.mode&1){var x=pp(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),gp(x,a,l,o,t),Mf(no(c,l));break e}}o=c=no(c,l),ze!==4&&(ze=2),Xo===null?Xo=[o]:Xo.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=Bv(o,c,t);lp(o,y);break e;case 1:l=c;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(mn===null||!mn.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=Uv(o,l,t);lp(o,j);break e}}o=o.return}while(o!==null)}ax(r)}catch(N){t=N,Le===r&&r!==null&&(Le=r=r.return);continue}break}while(!0)}function ox(){var e=dl.current;return dl.current=ul,e===null?ul:e}function rh(){(ze===0||ze===3||ze===2)&&(ze=4),qe===null||!(rs&268435455)&&!(Wl&268435455)||rn(qe,Qe)}function ml(e,t){var r=ve;ve|=2;var n=ox();(qe!==e||Qe!==t)&&(jr=null,Qn(e,t));do try{uN();break}catch(s){sx(e,s)}while(!0);if(Lf(),ve=r,dl.current=n,Le!==null)throw Error(L(261));return qe=null,Qe=0,ze}function uN(){for(;Le!==null;)ix(Le)}function dN(){for(;Le!==null&&!M2();)ix(Le)}function ix(e){var t=cx(e.alternate,e,Nt);e.memoizedProps=e.pendingProps,t===null?ax(e):Le=t,Xf.current=null}function ax(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=sN(r,t),r!==null){r.flags&=32767,Le=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Le=null;return}}else if(r=nN(r,t,Nt),r!==null){Le=r;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);ze===0&&(ze=5)}function Bn(e,t,r){var n=we,s=Mt.transition;try{Mt.transition=null,we=1,fN(e,t,r,n)}finally{Mt.transition=s,we=n}return null}function fN(e,t,r,n){do qs();while(on!==null);if(ve&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(V2(e,o),e===qe&&(Le=qe=null,Qe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||la||(la=!0,ux(Ka,function(){return qs(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Mt.transition,Mt.transition=null;var a=we;we=1;var l=ve;ve|=4,Xf.current=null,iN(e,r),tx(r,e),Rj(sd),Xa=!!nd,sd=nd=null,e.current=r,aN(r),$2(),ve=l,we=a,Mt.transition=o}else e.current=r;if(la&&(la=!1,on=e,hl=s),o=e.pendingLanes,o===0&&(mn=null),z2(r.stateNode),wt(e,De()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(fl)throw fl=!1,e=Sd,Sd=null,e;return hl&1&&e.tag!==0&&qs(),o=e.pendingLanes,o&1?e===_d?Jo++:(Jo=0,_d=e):Jo=0,Pn(),null}function qs(){if(on!==null){var e=B0(hl),t=Mt.transition,r=we;try{if(Mt.transition=null,we=16>e?16:e,on===null)var n=!1;else{if(e=on,on=null,hl=0,ve&6)throw Error(L(331));var s=ve;for(ve|=4,q=e.current;q!==null;){var o=q,a=o.child;if(q.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(q=u;q!==null;){var f=q;switch(f.tag){case 0:case 11:case 15:Qo(8,f,o)}var d=f.child;if(d!==null)d.return=f,q=d;else for(;q!==null;){f=q;var m=f.sibling,p=f.return;if(Jv(f),f===u){q=null;break}if(m!==null){m.return=p,q=m;break}q=p}}}var w=o.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}q=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,q=a;else e:for(;q!==null;){if(o=q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Qo(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,q=y;break e}q=o.return}}var v=e.current;for(q=v;q!==null;){a=q;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,q=b;else e:for(a=v;q!==null;){if(l=q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ul(9,l)}}catch(N){Oe(l,l.return,N)}if(l===a){q=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,q=j;break e}q=l.return}}if(ve=s,Pn(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Il,e)}catch{}n=!0}return n}finally{we=r,Mt.transition=t}}return!1}function Pp(e,t,r){t=no(r,t),t=Bv(e,t,1),e=hn(e,t,1),t=at(),e!==null&&(Ti(e,1,t),wt(e,t))}function Oe(e,t,r){if(e.tag===3)Pp(e,e,r);else for(;t!==null;){if(t.tag===3){Pp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(mn===null||!mn.has(n))){e=no(r,e),e=Uv(t,e,1),t=hn(t,e,1),e=at(),t!==null&&(Ti(t,1,e),wt(t,e));break}}t=t.return}}function hN(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&r,qe===e&&(Qe&r)===r&&(ze===4||ze===3&&(Qe&130023424)===Qe&&500>De()-Zf?Qn(e,0):Jf|=r),wt(e,t)}function lx(e,t){t===0&&(e.mode&1?(t=Ji,Ji<<=1,!(Ji&130023424)&&(Ji=4194304)):t=1);var r=at();e=Tr(e,t),e!==null&&(Ti(e,t,r),wt(e,r))}function mN(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),lx(e,r)}function pN(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),lx(e,r)}var cx;cx=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)vt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return vt=!1,rN(e,t,r);vt=!!(e.flags&131072)}else vt=!1,Ee&&t.flags&1048576&&hv(t,sl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Oa(e,t),e=t.pendingProps;var s=Zs(t,nt.current);Hs(t,r),s=Vf(null,t,n,e,s,r);var o=Gf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yt(n)?(o=!0,rl(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bf(t),s.updater=Bl,t.stateNode=s,s._reactInternals=t,hd(t,n,e,r),t=gd(null,t,n,!0,o,r)):(t.tag=0,Ee&&o&&If(t),it(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Oa(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=vN(n),e=Gt(n,e),s){case 0:t=pd(null,t,n,e,r);break e;case 1:t=yp(null,t,n,e,r);break e;case 11:t=vp(null,t,n,e,r);break e;case 14:t=xp(null,t,n,Gt(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gt(n,s),pd(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gt(n,s),yp(e,t,n,s,r);case 3:e:{if(Vv(t),e===null)throw Error(L(387));n=t.pendingProps,o=t.memoizedState,s=o.element,yv(e,t),al(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=no(Error(L(423)),t),t=wp(e,t,n,r,s);break e}else if(n!==s){s=no(Error(L(424)),t),t=wp(e,t,n,r,s);break e}else for(_t=fn(t.stateNode.containerInfo.firstChild),kt=t,Ee=!0,Qt=null,r=vv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(eo(),n===s){t=Rr(e,t,r);break e}it(e,t,n,r)}t=t.child}return t;case 5:return wv(t),e===null&&ud(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,od(n,s)?a=null:o!==null&&od(n,o)&&(t.flags|=32),qv(e,t),it(e,t,a,r),t.child;case 6:return e===null&&ud(t),null;case 13:return Gv(e,t,r);case 4:return Uf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=to(t,null,n,r):it(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gt(n,s),vp(e,t,n,s,r);case 7:return it(e,t,t.pendingProps,r),t.child;case 8:return it(e,t,t.pendingProps.children,r),t.child;case 12:return it(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,Ne(ol,n._currentValue),n._currentValue=a,o!==null)if(er(o.value,a)){if(o.children===s.children&&!xt.current){t=Rr(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Er(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),dd(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(L(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),dd(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}it(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Hs(t,r),s=Ft(s),n=n(s),t.flags|=1,it(e,t,n,r),t.child;case 14:return n=t.type,s=Gt(n,t.pendingProps),s=Gt(n.type,s),xp(e,t,n,s,r);case 15:return Wv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gt(n,s),Oa(e,t),t.tag=1,yt(n)?(e=!0,rl(t)):e=!1,Hs(t,r),zv(t,n,s),hd(t,n,s,r),gd(null,t,n,!0,e,r);case 19:return Yv(e,t,r);case 22:return Hv(e,t,r)}throw Error(L(156,t.tag))};function ux(e,t){return $0(e,t)}function gN(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,r,n){return new gN(e,t,r,n)}function nh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vN(e){if(typeof e=="function")return nh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jf)return 11;if(e===Nf)return 14}return 2}function gn(e,t){var r=e.alternate;return r===null?(r=Dt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ma(e,t,r,n,s,o){var a=2;if(n=e,typeof e=="function")nh(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ps:return Xn(r.children,s,o,t);case bf:a=8,s|=8;break;case $u:return e=Dt(12,r,t,s|2),e.elementType=$u,e.lanes=o,e;case Lu:return e=Dt(13,r,t,s),e.elementType=Lu,e.lanes=o,e;case Fu:return e=Dt(19,r,t,s),e.elementType=Fu,e.lanes=o,e;case w0:return Hl(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x0:a=10;break e;case y0:a=9;break e;case jf:a=11;break e;case Nf:a=14;break e;case Jr:a=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Dt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Xn(e,t,r,n){return e=Dt(7,e,n,t),e.lanes=r,e}function Hl(e,t,r,n){return e=Dt(22,e,n,t),e.elementType=w0,e.lanes=r,e.stateNode={isHidden:!1},e}function iu(e,t,r){return e=Dt(6,e,null,t),e.lanes=r,e}function au(e,t,r){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xN(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bc(0),this.expirationTimes=Bc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bc(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sh(e,t,r,n,s,o,a,l,c){return e=new xN(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Dt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bf(o),e}function yN(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Es,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function dx(e){if(!e)return Nn;e=e._reactInternals;e:{if(ds(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(yt(r))return dv(e,r,t)}return t}function fx(e,t,r,n,s,o,a,l,c){return e=sh(r,n,!0,e,s,o,a,l,c),e.context=dx(null),r=e.current,n=at(),s=pn(r),o=Er(n,s),o.callback=t??null,hn(r,o,s),e.current.lanes=s,Ti(e,s,n),wt(e,n),e}function ql(e,t,r,n){var s=t.current,o=at(),a=pn(s);return r=dx(r),t.context===null?t.context=r:t.pendingContext=r,t=Er(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=hn(s,t,a),e!==null&&(Zt(e,s,a,o),Aa(e,s,a)),a}function pl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ap(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function oh(e,t){Ap(e,t),(e=e.alternate)&&Ap(e,t)}function wN(){return null}var hx=typeof reportError=="function"?reportError:function(e){console.error(e)};function ih(e){this._internalRoot=e}Vl.prototype.render=ih.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));ql(e,t,null,null)};Vl.prototype.unmount=ih.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ns(function(){ql(null,e,null,null)}),t[Ar]=null}};function Vl(e){this._internalRoot=e}Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=H0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<tn.length&&t!==0&&t<tn[r].priority;r++);tn.splice(r,0,e),r===0&&V0(e)}};function ah(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tp(){}function bN(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=pl(a);o.call(u)}}var a=fx(t,n,e,0,null,!1,!1,"",Tp);return e._reactRootContainer=a,e[Ar]=a.current,ui(e.nodeType===8?e.parentNode:e),ns(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=pl(c);l.call(u)}}var c=sh(e,0,!1,null,null,!1,!1,"",Tp);return e._reactRootContainer=c,e[Ar]=c.current,ui(e.nodeType===8?e.parentNode:e),ns(function(){ql(t,c,r,n)}),c}function Yl(e,t,r,n,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=pl(a);l.call(c)}}ql(t,a,e,s)}else a=bN(r,t,e,s,n);return pl(a)}U0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=zo(t.pendingLanes);r!==0&&(kf(t,r|1),wt(t,De()),!(ve&6)&&(so=De()+500,Pn()))}break;case 13:ns(function(){var n=Tr(e,1);if(n!==null){var s=at();Zt(n,e,1,s)}}),oh(e,1)}};Cf=function(e){if(e.tag===13){var t=Tr(e,134217728);if(t!==null){var r=at();Zt(t,e,134217728,r)}oh(e,134217728)}};W0=function(e){if(e.tag===13){var t=pn(e),r=Tr(e,t);if(r!==null){var n=at();Zt(r,e,t,n)}oh(e,t)}};H0=function(){return we};q0=function(e,t){var r=we;try{return we=e,t()}finally{we=r}};Ku=function(e,t,r){switch(t){case"input":if(Uu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ll(n);if(!s)throw Error(L(90));j0(n),Uu(n,s)}}}break;case"textarea":S0(e,r);break;case"select":t=r.value,t!=null&&zs(e,!!r.multiple,t,!1)}};T0=eh;R0=ns;var jN={usingClientEntryPoint:!1,Events:[Oi,Os,Ll,P0,A0,eh]},Io={findFiberByHostInstance:Gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NN={bundleType:Io.bundleType,version:Io.version,rendererPackageName:Io.rendererPackageName,rendererConfig:Io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=D0(e),e===null?null:e.stateNode},findFiberByHostInstance:Io.findFiberByHostInstance||wN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ca.isDisabled&&ca.supportsFiber)try{Il=ca.inject(NN),ur=ca}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jN;Pt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ah(t))throw Error(L(200));return yN(e,t,null,r)};Pt.createRoot=function(e,t){if(!ah(e))throw Error(L(299));var r=!1,n="",s=hx;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sh(e,1,!1,null,null,r,!1,n,s),e[Ar]=t.current,ui(e.nodeType===8?e.parentNode:e),new ih(t)};Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=D0(t),e=e===null?null:e.stateNode,e};Pt.flushSync=function(e){return ns(e)};Pt.hydrate=function(e,t,r){if(!Gl(t))throw Error(L(200));return Yl(null,e,t,!0,r)};Pt.hydrateRoot=function(e,t,r){if(!ah(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",a=hx;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=fx(t,null,e,1,r??null,s,!1,o,a),e[Ar]=t.current,ui(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Vl(t)};Pt.render=function(e,t,r){if(!Gl(t))throw Error(L(200));return Yl(null,e,t,!1,r)};Pt.unmountComponentAtNode=function(e){if(!Gl(e))throw Error(L(40));return e._reactRootContainer?(ns(function(){Yl(null,null,e,!1,function(){e._reactRootContainer=null,e[Ar]=null})}),!0):!1};Pt.unstable_batchedUpdates=eh;Pt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gl(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Yl(e,t,r,!1,n)};Pt.version="18.3.1-next-f1338f8080-20240426";function mx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mx)}catch(e){console.error(e)}}mx(),m0.exports=Pt;var go=m0.exports;const px=hf(go);var Rp=go;Du.createRoot=Rp.createRoot,Du.hydrateRoot=Rp.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yi.apply(this,arguments)}var an;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(an||(an={}));const Op="popstate";function SN(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:a,hash:l}=n.location;return Ed("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:gl(s)}return kN(t,r,null,e)}function Me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _N(){return Math.random().toString(36).substr(2,8)}function Ip(e,t){return{usr:e.state,key:e.key,idx:t}}function Ed(e,t,r,n){return r===void 0&&(r=null),yi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?vo(t):t,{state:r,key:t&&t.key||n||_N()})}function gl(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function kN(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,a=s.history,l=an.Pop,c=null,u=f();u==null&&(u=0,a.replaceState(yi({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function d(){l=an.Pop;let x=f(),y=x==null?null:x-u;u=x,c&&c({action:l,location:g.location,delta:y})}function m(x,y){l=an.Push;let v=Ed(g.location,x,y);u=f()+1;let b=Ip(v,u),j=g.createHref(v);try{a.pushState(b,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}o&&c&&c({action:l,location:g.location,delta:1})}function p(x,y){l=an.Replace;let v=Ed(g.location,x,y);u=f();let b=Ip(v,u),j=g.createHref(v);a.replaceState(b,"",j),o&&c&&c({action:l,location:g.location,delta:0})}function w(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof x=="string"?x:gl(x);return v=v.replace(/ $/,"%20"),Me(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return l},get location(){return e(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Op,d),c=x,()=>{s.removeEventListener(Op,d),c=null}},createHref(x){return t(s,x)},createURL:w,encodeLocation(x){let y=w(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(x){return a.go(x)}};return g}var Dp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Dp||(Dp={}));function CN(e,t,r){return r===void 0&&(r="/"),EN(e,t,r)}function EN(e,t,r,n){let s=typeof t=="string"?vo(t):t,o=lh(s.pathname||"/",r);if(o==null)return null;let a=vx(e);PN(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=BN(o);l=LN(a[c],u)}return l}function vx(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Me(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=vn([n,c.relativePath]),f=r.concat(c);o.children&&o.children.length>0&&(Me(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vx(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:MN(u,o.index),routesMeta:f})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of xx(o.path))s(o,a,c)}),t}function xx(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let a=xx(n.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function PN(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:$N(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const AN=/^:[\w-]+$/,TN=3,RN=2,ON=1,IN=10,DN=-2,Mp=e=>e==="*";function MN(e,t){let r=e.split("/"),n=r.length;return r.some(Mp)&&(n+=DN),t&&(n+=RN),r.filter(s=>!Mp(s)).reduce((s,o)=>s+(AN.test(o)?TN:o===""?ON:IN),n)}function $N(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function LN(e,t,r){let{routesMeta:n}=e,s={},o="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=o==="/"?t:t.slice(o.length)||"/",d=FN({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:vn([o,d.pathname]),pathnameBase:qN(vn([o,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(o=vn([o,d.pathnameBase]))}return a}function FN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=zN(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:m,isOptional:p}=f;if(m==="*"){let g=l[d]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const w=l[d];return p&&!w?u[m]=void 0:u[m]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function zN(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),gx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function BN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function UN(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?vo(e):e;return{pathname:r?r.startsWith("/")?r:WN(r,t):t,search:VN(n),hash:GN(s)}}function WN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function lu(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HN(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ch(e,t){let r=HN(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function uh(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=vo(e):(s=yi({},e),Me(!s.pathname||!s.pathname.includes("?"),lu("?","pathname","search",s)),Me(!s.pathname||!s.pathname.includes("#"),lu("#","pathname","hash",s)),Me(!s.search||!s.search.includes("#"),lu("#","search","hash",s)));let o=e===""||s.pathname==="",a=o?"/":s.pathname,l;if(a==null)l=r;else{let d=t.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),d-=1;s.pathname=m.join("/")}l=d>=0?t[d]:"/"}let c=UN(s,l),u=a&&a!=="/"&&a.endsWith("/"),f=(o||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const vn=e=>e.join("/").replace(/\/\/+/g,"/"),qN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,GN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function YN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const yx=["post","put","patch","delete"];new Set(yx);const KN=["get",...yx];new Set(KN);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wi.apply(this,arguments)}const dh=h.createContext(null),QN=h.createContext(null),An=h.createContext(null),Kl=h.createContext(null),pr=h.createContext({outlet:null,matches:[],isDataRoute:!1}),wx=h.createContext(null);function XN(e,t){let{relative:r}=t===void 0?{}:t;xo()||Me(!1);let{basename:n,navigator:s}=h.useContext(An),{hash:o,pathname:a,search:l}=jx(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:vn([n,a])),s.createHref({pathname:c,search:l,hash:o})}function xo(){return h.useContext(Kl)!=null}function gr(){return xo()||Me(!1),h.useContext(Kl).location}function bx(e){h.useContext(An).static||h.useLayoutEffect(e)}function $e(){let{isDataRoute:e}=h.useContext(pr);return e?fS():JN()}function JN(){xo()||Me(!1);let e=h.useContext(dh),{basename:t,future:r,navigator:n}=h.useContext(An),{matches:s}=h.useContext(pr),{pathname:o}=gr(),a=JSON.stringify(ch(s,r.v7_relativeSplatPath)),l=h.useRef(!1);return bx(()=>{l.current=!0}),h.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=uh(u,JSON.parse(a),o,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:vn([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,a,o,e])}const ZN=h.createContext(null);function eS(e){let t=h.useContext(pr).outlet;return t&&h.createElement(ZN.Provider,{value:e},t)}function Ql(){let{matches:e}=h.useContext(pr),t=e[e.length-1];return t?t.params:{}}function jx(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(An),{matches:s}=h.useContext(pr),{pathname:o}=gr(),a=JSON.stringify(ch(s,n.v7_relativeSplatPath));return h.useMemo(()=>uh(e,JSON.parse(a),o,r==="path"),[e,a,o,r])}function tS(e,t){return rS(e,t)}function rS(e,t,r,n){xo()||Me(!1);let{navigator:s,static:o}=h.useContext(An),{matches:a}=h.useContext(pr),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let f=gr(),d;if(t){var m;let y=typeof t=="string"?vo(t):t;u==="/"||(m=y.pathname)!=null&&m.startsWith(u)||Me(!1),d=y}else d=f;let p=d.pathname||"/",w=p;if(u!=="/"){let y=u.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=CN(e,{pathname:w}),x=aS(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:vn([u,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:vn([u,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return t&&x?h.createElement(Kl.Provider,{value:{location:wi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:an.Pop}},x):x}function nS(){let e=dS(),t=YN(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,null)}const sS=h.createElement(nS,null);class oS extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(pr.Provider,{value:this.props.routeContext},h.createElement(wx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iS(e){let{routeContext:t,match:r,children:n}=e,s=h.useContext(dh);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(pr.Provider,{value:t},n)}function aS(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||Me(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:m,errors:p}=r,w=d.route.loader&&m[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,d,m)=>{let p,w=!1,g=null,x=null;r&&(p=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||sS,c&&(u<0&&m===0?(hS("route-fallback"),w=!0,x=null):u===m&&(w=!0,x=d.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,m+1)),v=()=>{let b;return p?b=g:w?b=x:d.route.Component?b=h.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=f,h.createElement(iS,{match:d,routeContext:{outlet:f,matches:y,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?h.createElement(oS,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var Nx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Nx||{}),vl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vl||{});function lS(e){let t=h.useContext(dh);return t||Me(!1),t}function cS(e){let t=h.useContext(QN);return t||Me(!1),t}function uS(e){let t=h.useContext(pr);return t||Me(!1),t}function Sx(e){let t=uS(),r=t.matches[t.matches.length-1];return r.route.id||Me(!1),r.route.id}function dS(){var e;let t=h.useContext(wx),r=cS(vl.UseRouteError),n=Sx(vl.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function fS(){let{router:e}=lS(Nx.UseNavigateStable),t=Sx(vl.UseNavigateStable),r=h.useRef(!1);return bx(()=>{r.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,wi({fromRouteId:t},o)))},[e,t])}const $p={};function hS(e,t,r){$p[e]||($p[e]=!0)}function mS(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function pS(e){let{to:t,replace:r,state:n,relative:s}=e;xo()||Me(!1);let{future:o,static:a}=h.useContext(An),{matches:l}=h.useContext(pr),{pathname:c}=gr(),u=$e(),f=uh(t,ch(l,o.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(f);return h.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function gS(e){return eS(e.context)}function ke(e){Me(!1)}function vS(e){let{basename:t="/",children:r=null,location:n,navigationType:s=an.Pop,navigator:o,static:a=!1,future:l}=e;xo()&&Me(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:o,static:a,future:wi({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof n=="string"&&(n=vo(n));let{pathname:f="/",search:d="",hash:m="",state:p=null,key:w="default"}=n,g=h.useMemo(()=>{let x=lh(f,c);return x==null?null:{location:{pathname:x,search:d,hash:m,state:p,key:w},navigationType:s}},[c,f,d,m,p,w,s]);return g==null?null:h.createElement(An.Provider,{value:u},h.createElement(Kl.Provider,{children:r,value:g}))}function xS(e){let{children:t,location:r}=e;return tS(Pd(t),r)}new Promise(()=>{});function Pd(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,s)=>{if(!h.isValidElement(n))return;let o=[...t,s];if(n.type===h.Fragment){r.push.apply(r,Pd(n.props.children,o));return}n.type!==ke&&Me(!1),!n.props.index||!n.props.children||Me(!1);let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Pd(n.props.children,o)),r.push(a)}),r}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ad.apply(this,arguments)}function yS(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function wS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bS(e,t){return e.button===0&&(!t||t==="_self")&&!wS(e)}function Td(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function jS(e,t){let r=Td(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const NS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],SS="6";try{window.__reactRouterVersion=SS}catch{}const _S="startTransition",Lp=qa[_S];function kS(e){let{basename:t,children:r,future:n,window:s}=e,o=h.useRef();o.current==null&&(o.current=SN({window:s,v5Compat:!0}));let a=o.current,[l,c]=h.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},f=h.useCallback(d=>{u&&Lp?Lp(()=>c(d)):c(d)},[c,u]);return h.useLayoutEffect(()=>a.listen(f),[a,f]),h.useEffect(()=>mS(n),[n]),h.createElement(vS,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const CS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ES=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ue=h.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,m=yS(t,NS),{basename:p}=h.useContext(An),w,g=!1;if(typeof u=="string"&&ES.test(u)&&(w=u,CS))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),N=lh(j.pathname,p);j.origin===b.origin&&N!=null?u=N+j.search+j.hash:g=!0}catch{}let x=XN(u,{relative:s}),y=PS(u,{replace:a,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:d});function v(b){n&&n(b),b.defaultPrevented||y(b)}return h.createElement("a",Ad({},m,{href:w||x,onClick:g||o?n:v,ref:r,target:c}))});var Fp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fp||(Fp={}));var zp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(zp||(zp={}));function PS(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:l}=t===void 0?{}:t,c=$e(),u=gr(),f=jx(e,{relative:a});return h.useCallback(d=>{if(bS(d,r)){d.preventDefault();let m=n!==void 0?n:gl(u)===gl(f);c(e,{replace:m,state:s,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,f,n,s,r,e,o,a,l])}function _x(e){let t=h.useRef(Td(e)),r=h.useRef(!1),n=gr(),s=h.useMemo(()=>jS(n.search,r.current?null:t.current),[n.search]),o=$e(),a=h.useCallback((l,c)=>{const u=Td(typeof l=="function"?l(s):l);r.current=!0,o("?"+u,c)},[o,s]);return[s,a]}var AS=Object.defineProperty,TS=(e,t,r)=>t in e?AS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cu=(e,t,r)=>(TS(e,typeof t!="symbol"?t+"":t,r),r);let RS=class{constructor(){cu(this,"current",this.detect()),cu(this,"handoffState","pending"),cu(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Jn=new RS,$t=(e,t)=>{Jn.isServer?h.useEffect(e,t):h.useLayoutEffect(e,t)};function xn(e){let t=h.useRef(e);return $t(()=>{t.current=e},[e]),t}let je=function(e){let t=xn(e);return T.useCallback((...r)=>t.current(...r),[t])};function OS(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Or(){let e=[],t={addEventListener(r,n,s,o){return r.addEventListener(n,s,o),t.add(()=>r.removeEventListener(n,s,o))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return OS(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,s){let o=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:o})})},group(r){let n=Or();return r(n),this.add(()=>n.dispose())},add(r){return e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let s of e.splice(n,1))s()}},dispose(){for(let r of e.splice(0))r()}};return t}function Xl(){let[e]=h.useState(Or);return h.useEffect(()=>()=>e.dispose(),[e]),e}function IS(){let e=typeof document>"u";return"useSyncExternalStore"in qa?(t=>t.useSyncExternalStore)(qa)(()=>()=>{},()=>!1,()=>!e):!1}function fh(){let e=IS(),[t,r]=h.useState(Jn.isHandoffComplete);return t&&Jn.isHandoffComplete===!1&&r(!1),h.useEffect(()=>{t!==!0&&r(!0)},[t]),h.useEffect(()=>Jn.handoff(),[]),e?!1:t}var Bp;let Di=(Bp=T.useId)!=null?Bp:function(){let e=fh(),[t,r]=T.useState(e?()=>Jn.nextId():null);return $t(()=>{t===null&&r(Jn.nextId())},[t]),t!=null?""+t:void 0};function rt(e,t,...r){if(e in t){let s=t[e];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,rt),n}function Mi(e){return Jn.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Rd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Od=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Od||{}),DS=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(DS||{}),MS=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(MS||{});function kx(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Rd)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var hh=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(hh||{});function mh(e,t=0){var r;return e===((r=Mi(e))==null?void 0:r.body)?!1:rt(t,{0(){return e.matches(Rd)},1(){let n=e;for(;n!==null;){if(n.matches(Rd))return!0;n=n.parentElement}return!1}})}function Cx(e){let t=Mi(e);Or().nextFrame(()=>{t&&!mh(t.activeElement,0)&&LS(e)})}var $S=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))($S||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function LS(e){e==null||e.focus({preventScroll:!0})}let FS=["textarea","input"].join(",");function zS(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,FS))!=null?r:!1}function Ex(e,t=r=>r){return e.slice().sort((r,n)=>{let s=t(r),o=t(n);if(s===null||o===null)return 0;let a=s.compareDocumentPosition(o);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function BS(e,t){return US(kx(),t,{relativeTo:e})}function US(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:s=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?r?Ex(e):e:kx(e);s.length>0&&a.length>1&&(a=a.filter(p=>!s.includes(p))),n=n??o.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(n))-1;if(t&4)return Math.max(0,a.indexOf(n))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},f=0,d=a.length,m;do{if(f>=d||f+d<=0)return 0;let p=c+f;if(t&16)p=(p+d)%d;else{if(p<0)return 3;if(p>=d)return 1}m=a[p],m==null||m.focus(u),f+=l}while(m!==o.activeElement);return t&6&&zS(m)&&m.select(),2}function WS(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function HS(){return/Android/gi.test(window.navigator.userAgent)}function qS(){return WS()||HS()}function ua(e,t,r){let n=xn(t);h.useEffect(()=>{function s(o){n.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[e,r])}function VS(e,t,r){let n=xn(t);h.useEffect(()=>{function s(o){n.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[e,r])}function GS(e,t,r=!0){let n=h.useRef(!1);h.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function s(a,l){if(!n.current||a.defaultPrevented)return;let c=l(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function f(d){return typeof d=="function"?f(d()):Array.isArray(d)||d instanceof Set?d:[d]}(e);for(let f of u){if(f===null)continue;let d=f instanceof HTMLElement?f:f.current;if(d!=null&&d.contains(c)||a.composed&&a.composedPath().includes(d))return}return!mh(c,hh.Loose)&&c.tabIndex!==-1&&a.preventDefault(),t(a,c)}let o=h.useRef(null);ua("pointerdown",a=>{var l,c;n.current&&(o.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),ua("mousedown",a=>{var l,c;n.current&&(o.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),ua("click",a=>{qS()||o.current&&(s(a,()=>o.current),o.current=null)},!0),ua("touchend",a=>s(a,()=>a.target instanceof HTMLElement?a.target:null),!0),VS("blur",a=>s(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function YS(...e){return h.useMemo(()=>Mi(...e),[...e])}function Up(e){var t;if(e.type)return e.type;let r=(t=e.as)!=null?t:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function Px(e,t){let[r,n]=h.useState(()=>Up(e));return $t(()=>{n(Up(e))},[e.type,e.as]),$t(()=>{r||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&n("button")},[r,t]),r}let Ax=Symbol();function KS(e,t=!0){return Object.assign(e,{[Ax]:t})}function Lr(...e){let t=h.useRef(e);h.useEffect(()=>{t.current=e},[e]);let r=je(n=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(n):s.current=n)});return e.every(n=>n==null||(n==null?void 0:n[Ax]))?void 0:r}function Wp(e){return[e.screenX,e.screenY]}function QS(){let e=h.useRef([-1,-1]);return{wasMoved(t){let r=Wp(t);return e.current[0]===r[0]&&e.current[1]===r[1]?!1:(e.current=r,!0)},update(t){e.current=Wp(t)}}}function XS({container:e,accept:t,walk:r,enabled:n=!0}){let s=h.useRef(t),o=h.useRef(r);h.useEffect(()=>{s.current=t,o.current=r},[t,r]),$t(()=>{if(!e||!n)return;let a=Mi(e);if(!a)return;let l=s.current,c=o.current,u=Object.assign(d=>l(d),{acceptNode:l}),f=a.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;f.nextNode();)c(f.currentNode)},[e,n,s,o])}function xl(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var oo=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(oo||{}),ln=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ln||{});function Fr({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:s,visible:o=!0,name:a,mergeRefs:l}){l=l??JS;let c=Rx(t,e);if(o)return da(c,r,n,a,l);let u=s??0;if(u&2){let{static:f=!1,...d}=c;if(f)return da(d,r,n,a,l)}if(u&1){let{unmount:f=!0,...d}=c;return rt(f?0:1,{0(){return null},1(){return da({...d,hidden:!0,style:{display:"none"}},r,n,a,l)}})}return da(c,r,n,a,l)}function da(e,t={},r,n,s){let{as:o=r,children:a,refName:l="ref",...c}=uu(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},f=typeof a=="function"?a(t):a;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let d={};if(t){let m=!1,p=[];for(let[w,g]of Object.entries(t))typeof g=="boolean"&&(m=!0),g===!0&&p.push(w);m&&(d["data-headlessui-state"]=p.join(" "))}if(o===h.Fragment&&Object.keys(Hp(c)).length>0){if(!h.isValidElement(f)||Array.isArray(f)&&f.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`));let m=f.props,p=typeof(m==null?void 0:m.className)=="function"?(...g)=>xl(m==null?void 0:m.className(...g),c.className):xl(m==null?void 0:m.className,c.className),w=p?{className:p}:{};return h.cloneElement(f,Object.assign({},Rx(f.props,Hp(uu(c,["ref"]))),d,u,{ref:s(f.ref,u.ref)},w))}return h.createElement(o,Object.assign({},uu(c,["ref"]),o!==h.Fragment&&u,o!==h.Fragment&&d),f)}function Tx(){let e=h.useRef([]),t=h.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function JS(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function Rx(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):t[s]=n[s];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(t,{[n](s,...o){let a=r[n];for(let l of a){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...o)}}});return t}function vr(e){var t;return Object.assign(h.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Hp(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function uu(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}let ph=h.createContext(null);ph.displayName="OpenClosedContext";var Ke=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ke||{});function Jl(){return h.useContext(ph)}function gh({value:e,children:t}){return T.createElement(ph.Provider,{value:e},t)}function Ox(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=(t==null?void 0:t.getAttribute("disabled"))==="";return n&&ZS(r)?!1:n}function ZS(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function e_(e){throw new Error("Unexpected object: "+e)}var Xt=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Xt||{});function t_(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),s=n??-1;switch(e.focus){case 0:{for(let o=0;o<r.length;++o)if(!t.resolveDisabled(r[o],o,r))return o;return n}case 1:{for(let o=s-1;o>=0;--o)if(!t.resolveDisabled(r[o],o,r))return o;return n}case 2:{for(let o=s+1;o<r.length;++o)if(!t.resolveDisabled(r[o],o,r))return o;return n}case 3:{for(let o=r.length-1;o>=0;--o)if(!t.resolveDisabled(r[o],o,r))return o;return n}case 4:{for(let o=0;o<r.length;++o)if(t.resolveId(r[o],o,r)===e.id)return o;return n}case 5:return null;default:e_(e)}}var Re=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Re||{});function vh(){let e=h.useRef(!1);return $t(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var qp;let r_=(qp=T.startTransition)!=null?qp:function(e){e()};var n_=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(n_||{}),s_=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(s_||{});let o_={0:e=>({...e,disclosureState:rt(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},xh=h.createContext(null);xh.displayName="DisclosureContext";function yh(e){let t=h.useContext(xh);if(t===null){let r=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,yh),r}return t}let wh=h.createContext(null);wh.displayName="DisclosureAPIContext";function Ix(e){let t=h.useContext(wh);if(t===null){let r=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ix),r}return t}let bh=h.createContext(null);bh.displayName="DisclosurePanelContext";function i_(){return h.useContext(bh)}function a_(e,t){return rt(t.type,o_,e,t)}let l_=h.Fragment;function c_(e,t){let{defaultOpen:r=!1,...n}=e,s=h.useRef(null),o=Lr(t,KS(x=>{s.current=x},e.as===void 0||e.as===h.Fragment)),a=h.useRef(null),l=h.useRef(null),c=h.useReducer(a_,{disclosureState:r?0:1,linkedPanel:!1,buttonRef:l,panelRef:a,buttonId:null,panelId:null}),[{disclosureState:u,buttonId:f},d]=c,m=je(x=>{d({type:1});let y=Mi(s);if(!y||!f)return;let v=x?x instanceof HTMLElement?x:x.current instanceof HTMLElement?x.current:y.getElementById(f):y.getElementById(f);v==null||v.focus()}),p=h.useMemo(()=>({close:m}),[m]),w=h.useMemo(()=>({open:u===0,close:m}),[u,m]),g={ref:o};return T.createElement(xh.Provider,{value:c},T.createElement(wh.Provider,{value:p},T.createElement(gh,{value:rt(u,{0:Ke.Open,1:Ke.Closed})},Fr({ourProps:g,theirProps:n,slot:w,defaultTag:l_,name:"Disclosure"}))))}let u_="button";function d_(e,t){let r=Di(),{id:n=`headlessui-disclosure-button-${r}`,...s}=e,[o,a]=yh("Disclosure.Button"),l=i_(),c=l===null?!1:l===o.panelId,u=h.useRef(null),f=Lr(u,t,c?null:o.buttonRef),d=Tx();h.useEffect(()=>{if(!c)return a({type:2,buttonId:n}),()=>{a({type:2,buttonId:null})}},[n,a,c]);let m=je(v=>{var b;if(c){if(o.disclosureState===1)return;switch(v.key){case Re.Space:case Re.Enter:v.preventDefault(),v.stopPropagation(),a({type:0}),(b=o.buttonRef.current)==null||b.focus();break}}else switch(v.key){case Re.Space:case Re.Enter:v.preventDefault(),v.stopPropagation(),a({type:0});break}}),p=je(v=>{switch(v.key){case Re.Space:v.preventDefault();break}}),w=je(v=>{var b;Ox(v.currentTarget)||e.disabled||(c?(a({type:0}),(b=o.buttonRef.current)==null||b.focus()):a({type:0}))}),g=h.useMemo(()=>({open:o.disclosureState===0}),[o]),x=Px(e,u),y=c?{ref:f,type:x,onKeyDown:m,onClick:w}:{ref:f,id:n,type:x,"aria-expanded":o.disclosureState===0,"aria-controls":o.linkedPanel?o.panelId:void 0,onKeyDown:m,onKeyUp:p,onClick:w};return Fr({mergeRefs:d,ourProps:y,theirProps:s,slot:g,defaultTag:u_,name:"Disclosure.Button"})}let f_="div",h_=oo.RenderStrategy|oo.Static;function m_(e,t){let r=Di(),{id:n=`headlessui-disclosure-panel-${r}`,...s}=e,[o,a]=yh("Disclosure.Panel"),{close:l}=Ix("Disclosure.Panel"),c=Tx(),u=Lr(t,o.panelRef,w=>{r_(()=>a({type:w?4:5}))});h.useEffect(()=>(a({type:3,panelId:n}),()=>{a({type:3,panelId:null})}),[n,a]);let f=Jl(),d=f!==null?(f&Ke.Open)===Ke.Open:o.disclosureState===0,m=h.useMemo(()=>({open:o.disclosureState===0,close:l}),[o,l]),p={ref:u,id:n};return T.createElement(bh.Provider,{value:o.panelId},Fr({mergeRefs:c,ourProps:p,theirProps:s,slot:m,defaultTag:f_,features:h_,visible:d,name:"Disclosure.Panel"}))}let p_=vr(c_),g_=vr(d_),v_=vr(m_),qt=Object.assign(p_,{Button:g_,Panel:v_}),Vp=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Gp(e){var t,r;let n=(t=e.innerText)!=null?t:"",s=e.cloneNode(!0);if(!(s instanceof HTMLElement))return n;let o=!1;for(let l of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),o=!0;let a=o?(r=s.innerText)!=null?r:"":n;return Vp.test(a)&&(a=a.replace(Vp,"")),a}function x_(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let r=e.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(s=>{let o=document.getElementById(s);if(o){let a=o.getAttribute("aria-label");return typeof a=="string"?a.trim():Gp(o).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return Gp(e).trim()}function y_(e){let t=h.useRef(""),r=h.useRef("");return je(()=>{let n=e.current;if(!n)return"";let s=n.innerText;if(t.current===s)return r.current;let o=x_(n).trim().toLowerCase();return t.current=s,r.current=o,o})}var w_=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(w_||{}),b_=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(b_||{}),j_=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(j_||{});function du(e,t=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,n=Ex(t(e.items.slice()),o=>o.dataRef.current.domRef.current),s=r?n.indexOf(r):null;return s===-1&&(s=null),{items:n,activeItemIndex:s}}let N_={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,t)=>{var r;let n=du(e),s=t_(t,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeItemIndex:s,activationTrigger:(r=t.trigger)!=null?r:1}},3:(e,t)=>{let r=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),s=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(a=>{var l;return((l=a.dataRef.current.textValue)==null?void 0:l.startsWith(n))&&!a.dataRef.current.disabled}),o=s?e.items.indexOf(s):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:o,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let r=du(e,n=>[...n,{id:t.id,dataRef:t.dataRef}]);return{...e,...r}},6:(e,t)=>{let r=du(e,n=>{let s=n.findIndex(o=>o.id===t.id);return s!==-1&&n.splice(s,1),n});return{...e,...r,activationTrigger:1}}},jh=h.createContext(null);jh.displayName="MenuContext";function Zl(e){let t=h.useContext(jh);if(t===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Zl),r}return t}function S_(e,t){return rt(t.type,N_,e,t)}let __=h.Fragment;function k_(e,t){let{__demoMode:r=!1,...n}=e,s=h.useReducer(S_,{__demoMode:r,menuState:r?0:1,buttonRef:h.createRef(),itemsRef:h.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsRef:a,buttonRef:l},c]=s,u=Lr(t);GS([l,a],(p,w)=>{var g;c({type:1}),mh(w,hh.Loose)||(p.preventDefault(),(g=l.current)==null||g.focus())},o===0);let f=je(()=>{c({type:1})}),d=h.useMemo(()=>({open:o===0,close:f}),[o,f]),m={ref:u};return T.createElement(jh.Provider,{value:s},T.createElement(gh,{value:rt(o,{0:Ke.Open,1:Ke.Closed})},Fr({ourProps:m,theirProps:n,slot:d,defaultTag:__,name:"Menu"})))}let C_="button";function E_(e,t){var r;let n=Di(),{id:s=`headlessui-menu-button-${n}`,...o}=e,[a,l]=Zl("Menu.Button"),c=Lr(a.buttonRef,t),u=Xl(),f=je(g=>{switch(g.key){case Re.Space:case Re.Enter:case Re.ArrowDown:g.preventDefault(),g.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:Xt.First}));break;case Re.ArrowUp:g.preventDefault(),g.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:Xt.Last}));break}}),d=je(g=>{switch(g.key){case Re.Space:g.preventDefault();break}}),m=je(g=>{if(Ox(g.currentTarget))return g.preventDefault();e.disabled||(a.menuState===0?(l({type:1}),u.nextFrame(()=>{var x;return(x=a.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})})):(g.preventDefault(),l({type:0})))}),p=h.useMemo(()=>({open:a.menuState===0}),[a]),w={ref:c,id:s,type:Px(e,a.buttonRef),"aria-haspopup":"menu","aria-controls":(r=a.itemsRef.current)==null?void 0:r.id,"aria-expanded":a.menuState===0,onKeyDown:f,onKeyUp:d,onClick:m};return Fr({ourProps:w,theirProps:o,slot:p,defaultTag:C_,name:"Menu.Button"})}let P_="div",A_=oo.RenderStrategy|oo.Static;function T_(e,t){var r,n;let s=Di(),{id:o=`headlessui-menu-items-${s}`,...a}=e,[l,c]=Zl("Menu.Items"),u=Lr(l.itemsRef,t),f=YS(l.itemsRef),d=Xl(),m=Jl(),p=m!==null?(m&Ke.Open)===Ke.Open:l.menuState===0;h.useEffect(()=>{let v=l.itemsRef.current;v&&l.menuState===0&&v!==(f==null?void 0:f.activeElement)&&v.focus({preventScroll:!0})},[l.menuState,l.itemsRef,f]),XS({container:l.itemsRef.current,enabled:l.menuState===0,accept(v){return v.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});let w=je(v=>{var b,j;switch(d.dispose(),v.key){case Re.Space:if(l.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),c({type:3,value:v.key});case Re.Enter:if(v.preventDefault(),v.stopPropagation(),c({type:1}),l.activeItemIndex!==null){let{dataRef:N}=l.items[l.activeItemIndex];(j=(b=N.current)==null?void 0:b.domRef.current)==null||j.click()}Cx(l.buttonRef.current);break;case Re.ArrowDown:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:Xt.Next});case Re.ArrowUp:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:Xt.Previous});case Re.Home:case Re.PageUp:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:Xt.First});case Re.End:case Re.PageDown:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:Xt.Last});case Re.Escape:v.preventDefault(),v.stopPropagation(),c({type:1}),Or().nextFrame(()=>{var N;return(N=l.buttonRef.current)==null?void 0:N.focus({preventScroll:!0})});break;case Re.Tab:v.preventDefault(),v.stopPropagation(),c({type:1}),Or().nextFrame(()=>{BS(l.buttonRef.current,v.shiftKey?Od.Previous:Od.Next)});break;default:v.key.length===1&&(c({type:3,value:v.key}),d.setTimeout(()=>c({type:4}),350));break}}),g=je(v=>{switch(v.key){case Re.Space:v.preventDefault();break}}),x=h.useMemo(()=>({open:l.menuState===0}),[l]),y={"aria-activedescendant":l.activeItemIndex===null||(r=l.items[l.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=l.buttonRef.current)==null?void 0:n.id,id:o,onKeyDown:w,onKeyUp:g,role:"menu",tabIndex:0,ref:u};return Fr({ourProps:y,theirProps:a,slot:x,defaultTag:P_,features:A_,visible:p,name:"Menu.Items"})}let R_=h.Fragment;function O_(e,t){let r=Di(),{id:n=`headlessui-menu-item-${r}`,disabled:s=!1,...o}=e,[a,l]=Zl("Menu.Item"),c=a.activeItemIndex!==null?a.items[a.activeItemIndex].id===n:!1,u=h.useRef(null),f=Lr(t,u);$t(()=>{if(a.__demoMode||a.menuState!==0||!c||a.activationTrigger===0)return;let N=Or();return N.requestAnimationFrame(()=>{var S,_;(_=(S=u.current)==null?void 0:S.scrollIntoView)==null||_.call(S,{block:"nearest"})}),N.dispose},[a.__demoMode,u,c,a.menuState,a.activationTrigger,a.activeItemIndex]);let d=y_(u),m=h.useRef({disabled:s,domRef:u,get textValue(){return d()}});$t(()=>{m.current.disabled=s},[m,s]),$t(()=>(l({type:5,id:n,dataRef:m}),()=>l({type:6,id:n})),[m,n]);let p=je(()=>{l({type:1})}),w=je(N=>{if(s)return N.preventDefault();l({type:1}),Cx(a.buttonRef.current)}),g=je(()=>{if(s)return l({type:2,focus:Xt.Nothing});l({type:2,focus:Xt.Specific,id:n})}),x=QS(),y=je(N=>x.update(N)),v=je(N=>{x.wasMoved(N)&&(s||c||l({type:2,focus:Xt.Specific,id:n,trigger:0}))}),b=je(N=>{x.wasMoved(N)&&(s||c&&l({type:2,focus:Xt.Nothing}))}),j=h.useMemo(()=>({active:c,disabled:s,close:p}),[c,s,p]);return Fr({ourProps:{id:n,ref:f,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,disabled:void 0,onClick:w,onFocus:g,onPointerEnter:y,onMouseEnter:y,onPointerMove:v,onMouseMove:v,onPointerLeave:b,onMouseLeave:b},theirProps:o,slot:j,defaultTag:R_,name:"Menu.Item"})}let I_=vr(k_),D_=vr(E_),M_=vr(T_),$_=vr(O_),qr=Object.assign(I_,{Button:D_,Items:M_,Item:$_});function L_(e=0){let[t,r]=h.useState(e),n=vh(),s=h.useCallback(c=>{n.current&&r(u=>u|c)},[t,n]),o=h.useCallback(c=>!!(t&c),[t]),a=h.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=h.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:t,addFlag:s,hasFlag:o,removeFlag:a,toggleFlag:l}}function F_(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}function fu(e,...t){e&&t.length>0&&e.classList.add(...t)}function hu(e,...t){e&&t.length>0&&e.classList.remove(...t)}function z_(e,t){let r=Or();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:s}=getComputedStyle(e),[o,a]=[n,s].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(f=>f.includes("ms")?parseFloat(f):parseFloat(f)*1e3).sort((f,d)=>d-f);return u}),l=o+a;if(l!==0){r.group(u=>{u.setTimeout(()=>{t(),u.dispose()},l),u.addEventListener(e,"transitionrun",f=>{f.target===f.currentTarget&&u.dispose()})});let c=r.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),c())})}else t();return r.add(()=>t()),r.dispose}function B_(e,t,r,n){let s=r?"enter":"leave",o=Or(),a=n!==void 0?F_(n):()=>{};s==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let l=rt(s,{enter:()=>t.enter,leave:()=>t.leave}),c=rt(s,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=rt(s,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return hu(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),fu(e,...t.base,...l,...u),o.nextFrame(()=>{hu(e,...t.base,...l,...u),fu(e,...t.base,...l,...c),z_(e,()=>(hu(e,...t.base,...l),fu(e,...t.base,...t.entered),a()))}),o.dispose}function U_({immediate:e,container:t,direction:r,classes:n,onStart:s,onStop:o}){let a=vh(),l=Xl(),c=xn(r);$t(()=>{e&&(c.current="enter")},[e]),$t(()=>{let u=Or();l.add(u.dispose);let f=t.current;if(f&&c.current!=="idle"&&a.current)return u.dispose(),s.current(c.current),u.add(B_(f,n.current,c.current==="enter",()=>{u.dispose(),o.current(c.current)})),u.dispose},[r])}function Vr(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let ec=h.createContext(null);ec.displayName="TransitionContext";var W_=(e=>(e.Visible="visible",e.Hidden="hidden",e))(W_||{});function H_(){let e=h.useContext(ec);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function q_(){let e=h.useContext(tc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let tc=h.createContext(null);tc.displayName="NestingContext";function rc(e){return"children"in e?rc(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Dx(e,t){let r=xn(e),n=h.useRef([]),s=vh(),o=Xl(),a=je((p,w=ln.Hidden)=>{let g=n.current.findIndex(({el:x})=>x===p);g!==-1&&(rt(w,{[ln.Unmount](){n.current.splice(g,1)},[ln.Hidden](){n.current[g].state="hidden"}}),o.microTask(()=>{var x;!rc(n)&&s.current&&((x=r.current)==null||x.call(r))}))}),l=je(p=>{let w=n.current.find(({el:g})=>g===p);return w?w.state!=="visible"&&(w.state="visible"):n.current.push({el:p,state:"visible"}),()=>a(p,ln.Unmount)}),c=h.useRef([]),u=h.useRef(Promise.resolve()),f=h.useRef({enter:[],leave:[],idle:[]}),d=je((p,w,g)=>{c.current.splice(0),t&&(t.chains.current[w]=t.chains.current[w].filter(([x])=>x!==p)),t==null||t.chains.current[w].push([p,new Promise(x=>{c.current.push(x)})]),t==null||t.chains.current[w].push([p,new Promise(x=>{Promise.all(f.current[w].map(([y,v])=>v)).then(()=>x())})]),w==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>g(w)):g(w)}),m=je((p,w,g)=>{Promise.all(f.current[w].splice(0).map(([x,y])=>y)).then(()=>{var x;(x=c.current.shift())==null||x()}).then(()=>g(w))});return h.useMemo(()=>({children:n,register:l,unregister:a,onStart:d,onStop:m,wait:u,chains:f}),[l,a,n,d,m,f,u])}function V_(){}let G_=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Yp(e){var t;let r={};for(let n of G_)r[n]=(t=e[n])!=null?t:V_;return r}function Y_(e){let t=h.useRef(Yp(e));return h.useEffect(()=>{t.current=Yp(e)},[e]),t}let K_="div",Mx=oo.RenderStrategy;function Q_(e,t){var r,n;let{beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:c,enterFrom:u,enterTo:f,entered:d,leave:m,leaveFrom:p,leaveTo:w,...g}=e,x=h.useRef(null),y=Lr(x,t),v=(r=g.unmount)==null||r?ln.Unmount:ln.Hidden,{show:b,appear:j,initial:N}=H_(),[S,_]=h.useState(b?"visible":"hidden"),C=q_(),{register:z,unregister:O}=C;h.useEffect(()=>z(x),[z,x]),h.useEffect(()=>{if(v===ln.Hidden&&x.current){if(b&&S!=="visible"){_("visible");return}return rt(S,{hidden:()=>O(x),visible:()=>z(x)})}},[S,x,z,O,b,v]);let H=xn({base:Vr(g.className),enter:Vr(c),enterFrom:Vr(u),enterTo:Vr(f),entered:Vr(d),leave:Vr(m),leaveFrom:Vr(p),leaveTo:Vr(w)}),K=Y_({beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l}),D=fh();h.useEffect(()=>{if(D&&S==="visible"&&x.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,S,D]);let R=N&&!j,M=j&&b&&N,P=!D||R?"idle":b?"enter":"leave",B=L_(0),k=je(X=>rt(X,{enter:()=>{B.addFlag(Ke.Opening),K.current.beforeEnter()},leave:()=>{B.addFlag(Ke.Closing),K.current.beforeLeave()},idle:()=>{}})),A=je(X=>rt(X,{enter:()=>{B.removeFlag(Ke.Opening),K.current.afterEnter()},leave:()=>{B.removeFlag(Ke.Closing),K.current.afterLeave()},idle:()=>{}})),F=Dx(()=>{_("hidden"),O(x)},C),$=h.useRef(!1);U_({immediate:M,container:x,classes:H,direction:P,onStart:xn(X=>{$.current=!0,F.onStart(x,X,k)}),onStop:xn(X=>{$.current=!1,F.onStop(x,X,A),X==="leave"&&!rc(F)&&(_("hidden"),O(x))})});let U=g,Q={ref:y};return M?U={...U,className:xl(g.className,...H.current.enter,...H.current.enterFrom)}:$.current&&(U.className=xl(g.className,(n=x.current)==null?void 0:n.className),U.className===""&&delete U.className),T.createElement(tc.Provider,{value:F},T.createElement(gh,{value:rt(S,{visible:Ke.Open,hidden:Ke.Closed})|B.flags},Fr({ourProps:Q,theirProps:U,defaultTag:K_,features:Mx,visible:S==="visible",name:"Transition.Child"})))}function X_(e,t){let{show:r,appear:n=!1,unmount:s=!0,...o}=e,a=h.useRef(null),l=Lr(a,t);fh();let c=Jl();if(r===void 0&&c!==null&&(r=(c&Ke.Open)===Ke.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,f]=h.useState(r?"visible":"hidden"),d=Dx(()=>{f("hidden")}),[m,p]=h.useState(!0),w=h.useRef([r]);$t(()=>{m!==!1&&w.current[w.current.length-1]!==r&&(w.current.push(r),p(!1))},[w,r]);let g=h.useMemo(()=>({show:r,appear:n,initial:m}),[r,n,m]);h.useEffect(()=>{if(r)f("visible");else if(!rc(d))f("hidden");else{let b=a.current;if(!b)return;let j=b.getBoundingClientRect();j.x===0&&j.y===0&&j.width===0&&j.height===0&&f("hidden")}},[r,d]);let x={unmount:s},y=je(()=>{var b;m&&p(!1),(b=e.beforeEnter)==null||b.call(e)}),v=je(()=>{var b;m&&p(!1),(b=e.beforeLeave)==null||b.call(e)});return T.createElement(tc.Provider,{value:d},T.createElement(ec.Provider,{value:g},Fr({ourProps:{...x,as:h.Fragment,children:T.createElement($x,{ref:l,...x,...o,beforeEnter:y,beforeLeave:v})},theirProps:{},defaultTag:h.Fragment,features:Mx,visible:u==="visible",name:"Transition"})))}function J_(e,t){let r=h.useContext(ec)!==null,n=Jl()!==null;return T.createElement(T.Fragment,null,!r&&n?T.createElement(Id,{ref:t,...e}):T.createElement($x,{ref:t,...e}))}let Id=vr(X_),$x=vr(Q_),Z_=vr(J_),ek=Object.assign(Id,{Child:Z_,Root:Id});function tk({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Vs=h.forwardRef(tk);function rk({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const nk=h.forwardRef(rk);function sk({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const ok=h.forwardRef(sk);function ik({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const $i=h.forwardRef(ik);function ak({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const lk=h.forwardRef(ak);function ck({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const uk=h.forwardRef(ck);function dk({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const fk=h.forwardRef(dk);function hk({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const mk=h.forwardRef(hk);function pk({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const gk=h.forwardRef(pk);function vk({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const Kp=h.forwardRef(vk);function xk({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const yk=h.forwardRef(xk);function wk({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const bk=h.forwardRef(wk);function jk({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Nk=h.forwardRef(jk),Sk={},Qp=e=>{let t;const r=new Set,n=(f,d)=>{const m=typeof f=="function"?f(t):f;if(!Object.is(m,t)){const p=t;t=d??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(w=>w(t,p))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(Sk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,c);return c},_k=e=>e?Qp(e):Qp;var Lx={exports:{}},Fx={},zx={exports:{}},Bx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var io=h;function kk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ck=typeof Object.is=="function"?Object.is:kk,Ek=io.useState,Pk=io.useEffect,Ak=io.useLayoutEffect,Tk=io.useDebugValue;function Rk(e,t){var r=t(),n=Ek({inst:{value:r,getSnapshot:t}}),s=n[0].inst,o=n[1];return Ak(function(){s.value=r,s.getSnapshot=t,mu(s)&&o({inst:s})},[e,r,t]),Pk(function(){return mu(s)&&o({inst:s}),e(function(){mu(s)&&o({inst:s})})},[e]),Tk(r),r}function mu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ck(e,r)}catch{return!0}}function Ok(e,t){return t()}var Ik=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ok:Rk;Bx.useSyncExternalStore=io.useSyncExternalStore!==void 0?io.useSyncExternalStore:Ik;zx.exports=Bx;var Dk=zx.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=h,Mk=Dk;function $k(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lk=typeof Object.is=="function"?Object.is:$k,Fk=Mk.useSyncExternalStore,zk=nc.useRef,Bk=nc.useEffect,Uk=nc.useMemo,Wk=nc.useDebugValue;Fx.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var o=zk(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=Uk(function(){function c(p){if(!u){if(u=!0,f=p,p=n(p),s!==void 0&&a.hasValue){var w=a.value;if(s(w,p))return d=w}return d=p}if(w=d,Lk(f,p))return w;var g=n(p);return s!==void 0&&s(w,g)?(f=p,w):(f=p,d=g)}var u=!1,f,d,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,s]);var l=Fk(e,o[0],o[1]);return Bk(function(){a.hasValue=!0,a.value=l},[l]),Wk(l),l};Lx.exports=Fx;var Hk=Lx.exports;const qk=hf(Hk),Ux={},{useDebugValue:Vk}=T,{useSyncExternalStoreWithSelector:Gk}=qk;let Xp=!1;const Yk=e=>e;function Kk(e,t=Yk,r){(Ux?"production":void 0)!=="production"&&r&&!Xp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Xp=!0);const n=Gk(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Vk(n),n}const Jp=e=>{(Ux?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?_k(e):e,r=(n,s)=>Kk(t,n,s);return Object.assign(r,t),r},Wx=e=>e?Jp(e):Jp,Qk="modulepreload",Xk=function(e){return"/Carvy/"+e},Zp={},ao=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Xk(c),c in Zp)return;Zp[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Qk,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((m,p)=>{d.addEventListener("load",m),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},Jk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ao(async()=>{const{default:n}=await Promise.resolve().then(()=>yo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Nh extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Zk extends Nh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class eC extends Nh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class tC extends Nh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Dd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Dd||(Dd={}));var rC=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class nC{constructor(t,{headers:r={},customFetch:n,region:s=Dd.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Jk(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return rC(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:a}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(l["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(l["Content-Type"]="application/json",u=JSON.stringify(a)));const f=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(w=>{throw new Zk(w)}),d=f.headers.get("x-relay-error");if(d&&d==="true")throw new eC(f);if(!f.ok)throw new tC(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield f.json():m==="application/octet-stream"?p=yield f.blob():m==="text/event-stream"?p=f:m==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var gt={},Sh={},sc={},Li={},oc={},ic={},sC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},lo=sC();const oC=lo.fetch,Hx=lo.fetch.bind(lo),qx=lo.Headers,iC=lo.Request,aC=lo.Response,yo=Object.freeze(Object.defineProperty({__proto__:null,Headers:qx,Request:iC,Response:aC,default:Hx,fetch:oC},Symbol.toStringTag,{value:"Module"})),lC=Jb(yo);var ac={};Object.defineProperty(ac,"__esModule",{value:!0});let cC=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ac.default=cC;var Vx=Lt&&Lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ic,"__esModule",{value:!0});const uC=Vx(lC),dC=Vx(ac);let fC=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=uC.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,l,c;let u=null,f=null,d=null,m=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=y:f=JSON.parse(y))}const g=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,m=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const g=await o.text();try{u=JSON.parse(g),Array.isArray(u)&&o.status===404&&(f=[],u=null,m=200,p="OK")}catch{o.status===404&&g===""?(m=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,p="OK"),u&&this.shouldThrowOnError)throw new dC.default(u)}return{error:u,data:f,count:d,status:m,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var a,l,c;return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};ic.default=fC;var hC=Lt&&Lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oc,"__esModule",{value:!0});const mC=hC(ic);let pC=class extends mC.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};oc.default=pC;var gC=Lt&&Lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Li,"__esModule",{value:!0});const vC=gC(oc);let xC=class extends vC.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Li.default=xC;var yC=Lt&&Lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sc,"__esModule",{value:!0});const Do=yC(Li);let wC=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Do.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Do.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new Do.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Do.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Do.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};sc.default=wC;var lc={},cc={};Object.defineProperty(cc,"__esModule",{value:!0});cc.version=void 0;cc.version="0.0.0-automated";Object.defineProperty(lc,"__esModule",{value:!0});lc.DEFAULT_HEADERS=void 0;const bC=cc;lc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${bC.version}`};var Gx=Lt&&Lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sh,"__esModule",{value:!0});const jC=Gx(sc),NC=Gx(Li),SC=lc;let _C=class Yx{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},SC.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new jC.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Yx(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{l.searchParams.append(f,d)})):(a="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new NC.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Sh.default=_C;var wo=Lt&&Lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gt,"__esModule",{value:!0});gt.PostgrestError=gt.PostgrestBuilder=gt.PostgrestTransformBuilder=gt.PostgrestFilterBuilder=gt.PostgrestQueryBuilder=gt.PostgrestClient=void 0;const Kx=wo(Sh);gt.PostgrestClient=Kx.default;const Qx=wo(sc);gt.PostgrestQueryBuilder=Qx.default;const Xx=wo(Li);gt.PostgrestFilterBuilder=Xx.default;const Jx=wo(oc);gt.PostgrestTransformBuilder=Jx.default;const Zx=wo(ic);gt.PostgrestBuilder=Zx.default;const ey=wo(ac);gt.PostgrestError=ey.default;var kC=gt.default={PostgrestClient:Kx.default,PostgrestQueryBuilder:Qx.default,PostgrestFilterBuilder:Xx.default,PostgrestTransformBuilder:Jx.default,PostgrestBuilder:Zx.default,PostgrestError:ey.default};const{PostgrestClient:CC,PostgrestQueryBuilder:CI,PostgrestFilterBuilder:EI,PostgrestTransformBuilder:PI,PostgrestBuilder:AI,PostgrestError:TI}=kC,EC="2.11.2",PC={"X-Client-Info":`realtime-js/${EC}`},AC="1.0.0",ty=1e4,TC=1e3;var Gs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gs||(Gs={}));var jt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(jt||(jt={}));var Kt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Kt||(Kt={}));var Md;(function(e){e.websocket="websocket"})(Md||(Md={}));var Hn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Hn||(Hn={}));class RC{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+o));a=a+o;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class ry{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var be;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(be||(be={}));const eg=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,a)=>(o[a]=OC(a,e,t,s),o),{})},OC=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,a=r[e];return o&&!n.includes(o)?ny(o,a):$d(a)},ny=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return $C(t,r)}switch(e){case be.bool:return IC(t);case be.float4:case be.float8:case be.int2:case be.int4:case be.int8:case be.numeric:case be.oid:return DC(t);case be.json:case be.jsonb:return MC(t);case be.timestamp:return LC(t);case be.abstime:case be.date:case be.daterange:case be.int4range:case be.int8range:case be.money:case be.reltime:case be.text:case be.time:case be.timestamptz:case be.timetz:case be.tsrange:case be.tstzrange:return $d(t);default:return $d(t)}},$d=e=>e,IC=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},DC=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},MC=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$C=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const a=e.slice(1,r);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(l=>ny(t,l))}return e},LC=e=>typeof e=="string"?e.replace(" ","T"):e,sy=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class pu{constructor(t,r,n={},s=ty){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var tg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(tg||(tg={}));class Zo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zo.syncState(this.state,s,o,a),this.pendingDiffs.forEach(c=>{this.state=Zo.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Zo.syncDiff(this.state,s,o,a),l())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(o,(u,f)=>{a[u]||(c[u]=f)}),this.map(a,(u,f)=>{const d=o[u];if(d){const m=f.map(x=>x.presence_ref),p=d.map(x=>x.presence_ref),w=f.filter(x=>p.indexOf(x.presence_ref)<0),g=d.filter(x=>m.indexOf(x.presence_ref)<0);w.length>0&&(l[u]=w),g.length>0&&(c[u]=g)}else l[u]=f}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(p=>p.presence_ref),m=f.filter(p=>d.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,f,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(rg||(rg={}));var ng;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ng||(ng={}));var Nr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Nr||(Nr={}));class _h{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new pu(this,Kt.join,this.params,this.timeout),this.rejoinTimer=new ry(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kt.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Zo(this),this.broadcastEndpointURL=sy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:a,private:l}}=this.params;this._onError(f=>t==null?void 0:t(Nr.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Nr.CLOSED));const c={},u={broadcast:o,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var d;if(this.socket.setAuth(),f===void 0){t==null||t(Nr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,p=(d=m==null?void 0:m.length)!==null&&d!==void 0?d:0,w=[];for(let g=0;g<p;g++){const x=m[g],{filter:{event:y,schema:v,table:b,filter:j}}=x,N=f&&f[g];if(N&&N.event===y&&N.schema===v&&N.table===b&&N.filter===j)w.push(Object.assign(Object.assign({},x),{id:N.id}));else{this.unsubscribe(),t==null||t(Nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Nr.SUBSCRIBED);return}}).receive("error",f=>{t==null||t(Nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new pu(this,Kt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new pu(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Kt;if(n&&[l,c,u,f].indexOf(a)>=0&&n!==this._joinRef())return;let m=this._onMessage(a,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,g,x;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(g=p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(p=>p.callback(m,n)):(o=this.bindings[a])===null||o===void 0||o.filter(p=>{var w,g,x,y,v,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const j=p.id,N=(w=p.filter)===null||w===void 0?void 0:w.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(v=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:g,table:x,commit_timestamp:y,type:v,errors:b}=w;m=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:y,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(w))}p.callback(m,n)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&_h.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Kt.close,{},t)}_onError(t){this._on(Kt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=eg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=eg(t.columns,t.old_record)),r}}const FC=()=>{},zC=typeof WebSocket<"u",BC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class UC{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=PC,this.params={},this.timeout=ty,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=FC,this.conn=null,this.sendBuffer=[],this.serializer=new RC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...l)=>ao(async()=>{const{default:c}=await Promise.resolve().then(()=>yo);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${Md.websocket}`,this.httpEndpoint=sy(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,a)=>a(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ry(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(zC){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new WC(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ao(async()=>{const{default:t}=await import("./browser-DB6uGzBz.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:AC}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Gs.connecting:return Hn.Connecting;case Gs.open:return Hn.Open;case Gs.closing:return Hn.Closing;default:return Hn.Closed}}isConnected(){return this.connectionState()===Hn.Open}channel(t,r={config:{}}){const n=new _h(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:o}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Kt.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(TC,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,o),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,o,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Kt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([BC],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class WC{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Gs.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class kh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function We(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class HC extends kh{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ld extends kh{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var qC=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const oy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ao(async()=>{const{default:n}=await Promise.resolve().then(()=>yo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},VC=()=>qC(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ao(()=>Promise.resolve().then(()=>yo),void 0)).Response:Response}),Fd=e=>{if(Array.isArray(e))return e.map(r=>Fd(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Fd(n)}),t};var fs=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const gu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GC=(e,t,r)=>fs(void 0,void 0,void 0,function*(){const n=yield VC();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new HC(gu(s),e.status||500))}).catch(s=>{t(new Ld(gu(s),s))}):t(new Ld(gu(e),e))}),YC=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Fi(e,t,r,n,s,o){return fs(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,YC(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>GC(c,l,n))})})}function yl(e,t,r,n){return fs(this,void 0,void 0,function*(){return Fi(e,"GET",t,r,n)})}function en(e,t,r,n,s){return fs(this,void 0,void 0,function*(){return Fi(e,"POST",t,n,s,r)})}function KC(e,t,r,n,s){return fs(this,void 0,void 0,function*(){return Fi(e,"PUT",t,n,s,r)})}function QC(e,t,r,n){return fs(this,void 0,void 0,function*(){return Fi(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function iy(e,t,r,n,s){return fs(this,void 0,void 0,function*(){return Fi(e,"DELETE",t,n,s,r)})}var ft=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const XC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class JC{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=oy(s)}uploadOrUpdate(t,r,n,s){return ft(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},sg),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:o,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),m=yield d.json();return d.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(o){if(We(o))return{data:null,error:o};throw o}})}upload(t,r,n){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return ft(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:sg.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:f}),m=yield d.json();return d.ok?{data:{path:o,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(We(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ft(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield en(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+o.url),l=a.searchParams.get("token");if(!l)throw new kh("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}update(t,r,n){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ft(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}copy(t,r,n){return ft(this,void 0,void 0,function*(){try{return{data:{path:(yield en(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return ft(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield en(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return ft(this,void 0,void 0,function*(){try{const s=yield en(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}download(t,r){return ft(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield yl(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}info(t){return ft(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield yl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Fd(n),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}exists(t){return ft(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield QC(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(We(n)&&n instanceof Ld){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return ft(this,void 0,void 0,function*(){try{return{data:yield iy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}list(t,r,n){return ft(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},XC),r),{prefix:t||""});return{data:yield en(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const ZC="2.7.1",eE={"X-Client-Info":`storage-js/${ZC}`};var xs=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class tE{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},eE),r),this.fetch=oy(n)}listBuckets(){return xs(this,void 0,void 0,function*(){try{return{data:yield yl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(We(t))return{data:null,error:t};throw t}})}getBucket(t){return xs(this,void 0,void 0,function*(){try{return{data:yield yl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return xs(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return xs(this,void 0,void 0,function*(){try{return{data:yield KC(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}emptyBucket(t){return xs(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}deleteBucket(t){return xs(this,void 0,void 0,function*(){try{return{data:yield iy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}}class rE extends tE{constructor(t,r={},n){super(t,r,n)}from(t){return new JC(this.url,this.headers,t,this.fetch)}}const nE="2.49.3";let Uo="";typeof Deno<"u"?Uo="deno":typeof document<"u"?Uo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Uo="react-native":Uo="node";const sE={"X-Client-Info":`supabase-js-${Uo}/${nE}`},oE={headers:sE},iE={schema:"public"},aE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lE={};var cE=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const uE=e=>{let t;return e?t=e:typeof fetch>"u"?t=Hx:t=fetch,(...r)=>t(...r)},dE=()=>typeof Headers>"u"?qx:Headers,fE=(e,t,r)=>{const n=uE(r),s=dE();return(o,a)=>cE(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},a),{headers:u}))})};var hE=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function mE(e){return e.replace(/\/$/,"")}function pE(e,t){const{db:r,auth:n,realtime:s,global:o}=e,{db:a,auth:l,realtime:c,global:u}=t,f={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),o),accessToken:()=>hE(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const ay="2.69.1",Cs=30*1e3,zd=3,vu=zd*Cs,gE="http://localhost:9999",vE="supabase.auth.token",xE={"X-Client-Info":`gotrue-js/${ay}`},Bd="X-Supabase-Api-Version",ly={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wE=6e5;class Ch extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class bE extends Ch{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function jE(e){return ae(e)&&e.name==="AuthApiError"}class cy extends Ch{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Tn extends Ch{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Kr extends Tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function NE(e){return ae(e)&&e.name==="AuthSessionMissingError"}class xu extends Tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fa extends Tn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ha extends Tn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function SE(e){return ae(e)&&e.name==="AuthImplicitGrantRedirectError"}class og extends Tn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ud extends Tn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function yu(e){return ae(e)&&e.name==="AuthRetryableFetchError"}class ig extends Tn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ei extends Tn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ag="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lg=` 	
\r=`.split(""),_E=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<lg.length;t+=1)e[lg[t].charCodeAt(0)]=-2;for(let t=0;t<ag.length;t+=1)e[ag[t].charCodeAt(0)]=t;return e})();function uy(e,t,r){const n=_E[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function cg(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{EE(a,n,r)};for(let a=0;a<e.length;a+=1)uy(e.charCodeAt(a),s,o);return t.join("")}function kE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function CE(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}kE(n,t)}}function EE(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function PE(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)uy(e.charCodeAt(s),r,n);return new Uint8Array(t)}function AE(e){const t=[];return CE(e,r=>t.push(r)),new Uint8Array(t)}function TE(e){return Math.round(Date.now()/1e3)+e}function RE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ir=()=>typeof window<"u"&&typeof document<"u",$n={tested:!1,writable:!1},ti=()=>{if(!ir())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($n.tested)return $n.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),$n.tested=!0,$n.writable=!0}catch{$n.tested=!0,$n.writable=!1}return $n.writable};function OE(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const dy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ao(async()=>{const{default:n}=await Promise.resolve().then(()=>yo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},IE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fy=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ma=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pa=async(e,t)=>{await e.removeItem(t)};class uc{constructor(){this.promise=new uc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}uc.promiseConstructor=Promise;function wu(e){const t=e.split(".");if(t.length!==3)throw new ei("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!yE.test(t[n]))throw new ei("JWT not in base64url format");return{header:JSON.parse(cg(t[0])),payload:JSON.parse(cg(t[1])),signature:PE(t[2]),raw:{header:t[0],payload:t[1]}}}async function DE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ME(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){n(a);return}}catch(a){if(!t(o,a)){s(a);return}}})()})}function $E(e){return("0"+e.toString(16)).substr(-2)}function LE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,$E).join("")}async function FE(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function zE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await FE(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ys(e,t,r=!1){const n=LE();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await fy(e,`${t}-code-verifier`,s);const o=await zE(n);return[o,n===o?"plain":"s256"]}const BE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function UE(e){const t=e.headers.get(Bd);if(!t||!t.match(BE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function WE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function HE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var qE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Un=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),VE=[502,503,504];async function ug(e){var t;if(!IE(e))throw new Ud(Un(e),0);if(VE.includes(e.status))throw new Ud(Un(e),e.status);let r;try{r=await e.json()}catch(o){throw new cy(Un(o),o)}let n;const s=UE(e);if(s&&s.getTime()>=ly["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ig(Un(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Kr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new ig(Un(r),e.status,r.weak_password.reasons);throw new bE(Un(r),e.status||500,n)}const GE=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function pe(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Bd]||(o[Bd]=ly["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await YE(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function YE(e,t,r,n,s,o){const a=GE(t,n,s,o);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new Ud(Un(c),0)}if(l.ok||await ug(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await ug(c)}}function Qr(e){var t;let r=null;JE(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=TE(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function dg(e){const t=Qr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function nn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function KE(e){return{data:e,error:null}}function QE(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,a=qE(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function XE(e){return e}function JE(e){return e.access_token&&e.refresh_token&&e.expires_in}var ZE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class e4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=dy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:nn})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ZE(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:QE,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:nn})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:XE});if(f.error)throw f.error;const d=await f.json(),m=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ae(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:nn})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:nn})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:nn})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}}const t4={getItem:e=>ti()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ti()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ti()&&globalThis.localStorage.removeItem(e)}};function fg(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function r4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ws={debug:!!(globalThis&&ti()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class n4 extends hy{}async function s4(e,t,r){ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ws.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new n4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ws.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}r4();const o4={url:gE,storageKey:vE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function hg(e,t,r){return await r()}class bi{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bi.nextInstanceID,bi.nextInstanceID+=1,this.instanceID>0&&ir()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},o4),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new e4({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=dy(s.fetch),this.lock=s.lock||hg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ir()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=s4:this.lock=hg,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ti()?this.storage=t4:(this.memoryStorage={},this.storage=fg(this.memoryStorage)):(this.memoryStorage={},this.storage=fg(this.memoryStorage)),ir()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ay}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=OE(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ir()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),SE(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ae(r)?{error:r}:{error:new cy("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Qr}),{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:f,password:d,options:m}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await ys(this.storage,this.storageKey)),o=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:d,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:w},xform:Qr})}else if("phone"in t){const{phone:f,password:d,options:m}=t;o=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Qr})}else throw new fa("You must provide either an email or phone number and a password");const{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:a,options:l}=t;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:dg})}else if("phone"in t){const{phone:o,password:a,options:l}=t;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:dg})}else throw new fa("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new xu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await ma(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Qr});if(await pa(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new xu}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(ae(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:a}=t,l=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new xu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await ys(this.storage,this.storageKey));const{error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new fa("You must provide either an email or phone number.")}catch(l){if(ae(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Qr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await ys(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:KE})}catch(o){if(ae(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Kr;const{error:s}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ae(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:a}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:a,error:l}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new fa("You must provide either an email or phone number and a type")}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ma(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<vu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:nn}):await this._useSession(async r=>{var n,s,o;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kr}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:nn})})}catch(r){if(ae(r))return NE(r)&&(await this._removeSession(),await pa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Kr;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ys(this.storage,this.storageKey));const{data:u,error:f}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:nn});if(f)throw f;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kr;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:a}=wu(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Kr;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ir())throw new ha("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ha(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new og("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ha("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new og("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!a||!u)throw new ha("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let m=f+d;c&&(m=parseInt(c));const p=m-f;p*1e3<=Cs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const w=m-d;f-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,f):f-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,f);const{data:g,error:x}=await this._getUser(o);if(x)throw x;const y={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:d,expires_at:m,refresh_token:a,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(ae(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ma(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(jE(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await pa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=RE(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ys(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(ae(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var a,l,c,u,f;const{data:d,error:m}=o;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return ir()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ae(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)throw a;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ME(async s=>(s>0&&await DE(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qr})),(s,o)=>{const a=200*Math.pow(2,s);return o&&yu(o)&&Date.now()+a-n<Cs})}catch(n){if(this._debug(r,"error",n),ae(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ir()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ma(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<vu;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${vu}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),yu(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Kr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new uc;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new Kr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),ae(o)){const a={session:null,error:o};return yu(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await fy(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await pa(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ir()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Cs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Cs}ms, refresh threshold is ${zd} ticks`),s<=zd&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof hy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ir()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,a]=await ys(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:a,error:l}=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=wu(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n||(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+wE>Date.now()))return n;const{data:s,error:o}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new ei("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===t),!n)throw new ei("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};n=p.session.access_token}const{header:s,payload:o,signature:a,raw:{header:l,payload:c}}=wu(n);if(WE(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:a},error:null}}const u=HE(s.alg),f=await this.fetchJwk(s.kid,r),d=await crypto.subtle.importKey("jwk",f,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,a,AE(`${l}.${c}`)))throw new ei("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}}bi.nextInstanceID=0;const i4=bi;class a4 extends i4{constructor(t){super(t)}}var l4=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class c4{constructor(t,r,n){var s,o,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=mE(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:iE,realtime:lE,auth:Object.assign(Object.assign({},aE),{storageKey:c}),global:oE},f=pE(n??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=fE(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new CC(`${l}/rest/v1`,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new nC(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new rE(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return l4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:a,lock:l,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new a4({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new UC(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const u4=(e,t,r)=>new c4(e,t,r),d4="https://gcejhxrwyftlzbztngug.supabase.co",f4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdjZWpoeHJ3eWZ0bHpienRuZ3VnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk0MDM3NTksImV4cCI6MjA1NDk3OTc1OX0.dTPrJembkfcqPWyByD08JrCotwee_cgLTzo18k2buLg",Y=u4(d4,f4,{auth:{persistSession:!0,autoRefreshToken:!0,storageKey:"carvy-auth-storage"},global:{fetch:(e,t)=>fetch(e,t),headers:{"X-Client-Info":"carvy-web-client"}},db:{schema:"public"}});async function h4(){let e=3;for(;e>0;)try{const{data:t,error:r}=await Y.auth.getSession();if(r)throw r;return t.session}catch(t){if(console.error(`Error initializing auth (${e} retries left):`,t),e--,e===0)return console.error("Failed to initialize auth after multiple attempts"),null;await new Promise(r=>setTimeout(r,1e3))}return null}async function m4(e){try{const{error:t}=await Y.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin+"/Carvy/reset-password"});if(t)throw t;return{success:!0,message:"Password reset link sent to your email"}}catch(t){return console.error("Password reset error:",t),{success:!1,message:t.message||"Failed to send reset link"}}}async function p4(e){try{const{data:t,error:r}=await Y.auth.signInWithOAuth({provider:e,options:{redirectTo:window.location.origin+"/Carvy/"}});if(r)throw r;return{success:!0,data:t}}catch(t){return console.error(`${e} sign-in error:`,t),{success:!1,message:t.message||`Failed to sign in with ${e}`}}}function g4(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const v4=e=>{switch(e){case"success":return w4;case"info":return j4;case"warning":return b4;case"error":return N4;default:return null}},x4=Array(12).fill(0),y4=({visible:e,className:t})=>T.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},T.createElement("div",{className:"sonner-spinner"},x4.map((r,n)=>T.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),w4=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),b4=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),j4=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),N4=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),S4=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},T.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),_4=()=>{const[e,t]=T.useState(document.hidden);return T.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let Wd=1;class k4{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...s}=t,o=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Wd++,a=this.toasts.find(c=>c.id===o),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(c=>c.id===o?(this.publish({...c,...t,id:o,title:n}),{...c,...t,id:o,dismissible:l,title:n}):c):this.addToast({title:n,...s,dismissible:l,id:o}),o},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0}))),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let o=n!==void 0,a;const l=s.then(async u=>{if(a=["resolve",u],T.isValidElement(u))o=!1,this.create({id:n,type:"default",message:u});else if(E4(u)&&!u.ok){o=!1;const d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,m=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,p=typeof d=="object"?d:{message:d};this.create({id:n,type:"error",description:m,...p})}else if(u instanceof Error){o=!1;const d=typeof r.error=="function"?await r.error(u):r.error,m=typeof r.description=="function"?await r.description(u):r.description,p=typeof d=="object"?d:{message:d};this.create({id:n,type:"error",description:m,...p})}else if(r.success!==void 0){o=!1;const d=typeof r.success=="function"?await r.success(u):r.success,m=typeof r.description=="function"?await r.description(u):r.description,p=typeof d=="object"?d:{message:d};this.create({id:n,type:"success",description:m,...p})}}).catch(async u=>{if(a=["reject",u],r.error!==void 0){o=!1;const f=typeof r.error=="function"?await r.error(u):r.error,d=typeof r.description=="function"?await r.description(u):r.description,m=typeof f=="object"?f:{message:f};this.create({id:n,type:"error",description:d,...m})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,f)=>l.then(()=>a[0]==="reject"?f(a[1]):u(a[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||Wd++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ht=new k4,C4=(e,t)=>{const r=(t==null?void 0:t.id)||Wd++;return ht.addToast({title:e,...t,id:r}),r},E4=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",P4=C4,A4=()=>ht.toasts,T4=()=>ht.getActiveToasts(),W=Object.assign(P4,{success:ht.success,info:ht.info,warning:ht.warning,error:ht.error,custom:ht.custom,message:ht.message,promise:ht.promise,dismiss:ht.dismiss,loading:ht.loading},{getHistory:A4,getToasts:T4});g4("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ga(e){return e.label!==void 0}const R4=3,O4="24px",I4="16px",mg=4e3,D4=356,M4=14,$4=45,L4=200;function or(...e){return e.filter(Boolean).join(" ")}function F4(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const z4=e=>{var t,r,n,s,o,a,l,c,u;const{invert:f,toast:d,unstyled:m,interacting:p,setHeights:w,visibleToasts:g,heights:x,index:y,toasts:v,expanded:b,removeToast:j,defaultRichColors:N,closeButton:S,style:_,cancelButtonStyle:C,actionButtonStyle:z,className:O="",descriptionClassName:H="",duration:K,position:D,gap:R,expandByDefault:M,classNames:P,icons:B,closeButtonAriaLabel:k="Close toast"}=e,[A,F]=T.useState(null),[$,U]=T.useState(null),[Q,X]=T.useState(!1),[de,J]=T.useState(!1),[E,I]=T.useState(!1),[Z,re]=T.useState(!1),[ie,se]=T.useState(!1),[ot,ut]=T.useState(0),[Dn,Ur]=T.useState(0),Bt=T.useRef(d.duration||K||mg),Wi=T.useRef(null),dt=T.useRef(null),Ub=y===0,Wb=y+1<=g,Tt=d.type,ms=d.dismissible!==!1,Hb=d.className||"",qb=d.descriptionClassName||"",Hi=T.useMemo(()=>x.findIndex(ce=>ce.toastId===d.id)||0,[x,d.id]),Vb=T.useMemo(()=>{var ce;return(ce=d.closeButton)!=null?ce:S},[d.closeButton,S]),vm=T.useMemo(()=>d.duration||K||mg,[d.duration,K]),Ic=T.useRef(0),ps=T.useRef(0),xm=T.useRef(0),gs=T.useRef(null),[Gb,Yb]=D.split("-"),ym=T.useMemo(()=>x.reduce((ce,Be,Je)=>Je>=Hi?ce:ce+Be.height,0),[x,Hi]),wm=_4(),Kb=d.invert||f,Dc=Tt==="loading";ps.current=T.useMemo(()=>Hi*R+ym,[Hi,ym]),T.useEffect(()=>{Bt.current=vm},[vm]),T.useEffect(()=>{X(!0)},[]),T.useEffect(()=>{const ce=dt.current;if(ce){const Be=ce.getBoundingClientRect().height;return Ur(Be),w(Je=>[{toastId:d.id,height:Be,position:d.position},...Je]),()=>w(Je=>Je.filter(bt=>bt.toastId!==d.id))}},[w,d.id]),T.useLayoutEffect(()=>{if(!Q)return;const ce=dt.current,Be=ce.style.height;ce.style.height="auto";const Je=ce.getBoundingClientRect().height;ce.style.height=Be,Ur(Je),w(bt=>bt.find(Ge=>Ge.toastId===d.id)?bt.map(Ge=>Ge.toastId===d.id?{...Ge,height:Je}:Ge):[{toastId:d.id,height:Je,position:d.position},...bt])},[Q,d.title,d.description,w,d.id]);const Wr=T.useCallback(()=>{J(!0),ut(ps.current),w(ce=>ce.filter(Be=>Be.toastId!==d.id)),setTimeout(()=>{j(d)},L4)},[d,j,w,ps]);T.useEffect(()=>{if(d.promise&&Tt==="loading"||d.duration===1/0||d.type==="loading")return;let ce;return b||p||wm?(()=>{if(xm.current<Ic.current){const bt=new Date().getTime()-Ic.current;Bt.current=Bt.current-bt}xm.current=new Date().getTime()})():(()=>{Bt.current!==1/0&&(Ic.current=new Date().getTime(),ce=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),Wr()},Bt.current))})(),()=>clearTimeout(ce)},[b,p,d,Tt,wm,Wr]),T.useEffect(()=>{d.delete&&Wr()},[Wr,d.delete]);function Qb(){var ce;if(B!=null&&B.loading){var Be;return T.createElement("div",{className:or(P==null?void 0:P.loader,d==null||(Be=d.classNames)==null?void 0:Be.loader,"sonner-loader"),"data-visible":Tt==="loading"},B.loading)}return T.createElement(y4,{className:or(P==null?void 0:P.loader,d==null||(ce=d.classNames)==null?void 0:ce.loader),visible:Tt==="loading"})}var bm,jm;return T.createElement("li",{tabIndex:0,ref:dt,className:or(O,Hb,P==null?void 0:P.toast,d==null||(t=d.classNames)==null?void 0:t.toast,P==null?void 0:P.default,P==null?void 0:P[Tt],d==null||(r=d.classNames)==null?void 0:r[Tt]),"data-sonner-toast":"","data-rich-colors":(bm=d.richColors)!=null?bm:N,"data-styled":!(d.jsx||d.unstyled||m),"data-mounted":Q,"data-promise":!!d.promise,"data-swiped":ie,"data-removed":de,"data-visible":Wb,"data-y-position":Gb,"data-x-position":Yb,"data-index":y,"data-front":Ub,"data-swiping":E,"data-dismissible":ms,"data-type":Tt,"data-invert":Kb,"data-swipe-out":Z,"data-swipe-direction":$,"data-expanded":!!(b||M&&Q),style:{"--index":y,"--toasts-before":y,"--z-index":v.length-y,"--offset":`${de?ot:ps.current}px`,"--initial-height":M?"auto":`${Dn}px`,..._,...d.style},onDragEnd:()=>{I(!1),F(null),gs.current=null},onPointerDown:ce=>{Dc||!ms||(Wi.current=new Date,ut(ps.current),ce.target.setPointerCapture(ce.pointerId),ce.target.tagName!=="BUTTON"&&(I(!0),gs.current={x:ce.clientX,y:ce.clientY}))},onPointerUp:()=>{var ce,Be,Je;if(Z||!ms)return;gs.current=null;const bt=Number(((ce=dt.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),qi=Number(((Be=dt.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ge=new Date().getTime()-((Je=Wi.current)==null?void 0:Je.getTime()),Rt=A==="x"?bt:qi,Vi=Math.abs(Rt)/Ge;if(Math.abs(Rt)>=$4||Vi>.11){ut(ps.current),d.onDismiss==null||d.onDismiss.call(d,d),U(A==="x"?bt>0?"right":"left":qi>0?"down":"up"),Wr(),re(!0);return}else{var Ut,Wt;(Ut=dt.current)==null||Ut.style.setProperty("--swipe-amount-x","0px"),(Wt=dt.current)==null||Wt.style.setProperty("--swipe-amount-y","0px")}se(!1),I(!1),F(null)},onPointerMove:ce=>{var Be,Je,bt;if(!gs.current||!ms||((Be=window.getSelection())==null?void 0:Be.toString().length)>0)return;const Ge=ce.clientY-gs.current.y,Rt=ce.clientX-gs.current.x;var Vi;const Ut=(Vi=e.swipeDirections)!=null?Vi:F4(D);!A&&(Math.abs(Rt)>1||Math.abs(Ge)>1)&&F(Math.abs(Rt)>Math.abs(Ge)?"x":"y");let Wt={x:0,y:0};const Nm=Mn=>1/(1.5+Math.abs(Mn)/20);if(A==="y"){if(Ut.includes("top")||Ut.includes("bottom"))if(Ut.includes("top")&&Ge<0||Ut.includes("bottom")&&Ge>0)Wt.y=Ge;else{const Mn=Ge*Nm(Ge);Wt.y=Math.abs(Mn)<Math.abs(Ge)?Mn:Ge}}else if(A==="x"&&(Ut.includes("left")||Ut.includes("right")))if(Ut.includes("left")&&Rt<0||Ut.includes("right")&&Rt>0)Wt.x=Rt;else{const Mn=Rt*Nm(Rt);Wt.x=Math.abs(Mn)<Math.abs(Rt)?Mn:Rt}(Math.abs(Wt.x)>0||Math.abs(Wt.y)>0)&&se(!0),(Je=dt.current)==null||Je.style.setProperty("--swipe-amount-x",`${Wt.x}px`),(bt=dt.current)==null||bt.style.setProperty("--swipe-amount-y",`${Wt.y}px`)}},Vb&&!d.jsx&&Tt!=="loading"?T.createElement("button",{"aria-label":k,"data-disabled":Dc,"data-close-button":!0,onClick:Dc||!ms?()=>{}:()=>{Wr(),d.onDismiss==null||d.onDismiss.call(d,d)},className:or(P==null?void 0:P.closeButton,d==null||(n=d.classNames)==null?void 0:n.closeButton)},(jm=B==null?void 0:B.close)!=null?jm:S4):null,Tt||d.icon||d.promise?T.createElement("div",{"data-icon":"",className:or(P==null?void 0:P.icon,d==null||(s=d.classNames)==null?void 0:s.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Qb():null,d.type!=="loading"?d.icon||(B==null?void 0:B[Tt])||v4(Tt):null):null,T.createElement("div",{"data-content":"",className:or(P==null?void 0:P.content,d==null||(o=d.classNames)==null?void 0:o.content)},T.createElement("div",{"data-title":"",className:or(P==null?void 0:P.title,d==null||(a=d.classNames)==null?void 0:a.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?T.createElement("div",{"data-description":"",className:or(H,qb,P==null?void 0:P.description,d==null||(l=d.classNames)==null?void 0:l.description)},typeof d.description=="function"?d.description():d.description):null),T.isValidElement(d.cancel)?d.cancel:d.cancel&&ga(d.cancel)?T.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||C,onClick:ce=>{ga(d.cancel)&&ms&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,ce),Wr())},className:or(P==null?void 0:P.cancelButton,d==null||(c=d.classNames)==null?void 0:c.cancelButton)},d.cancel.label):null,T.isValidElement(d.action)?d.action:d.action&&ga(d.action)?T.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||z,onClick:ce=>{ga(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,ce),!ce.defaultPrevented&&Wr())},className:or(P==null?void 0:P.actionButton,d==null||(u=d.classNames)==null?void 0:u.actionButton)},d.action.label):null)};function pg(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function B4(e,t){const r={};return[e,t].forEach((n,s)=>{const o=s===1,a=o?"--mobile-offset":"--offset",l=o?I4:O4;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${a}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${a}-${u}`]=l:r[`${a}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}const U4=T.forwardRef(function(t,r){const{invert:n,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:l,className:c,offset:u,mobileOffset:f,theme:d="light",richColors:m,duration:p,style:w,visibleToasts:g=R4,toastOptions:x,dir:y=pg(),gap:v=M4,icons:b,containerAriaLabel:j="Notifications"}=t,[N,S]=T.useState([]),_=T.useMemo(()=>Array.from(new Set([s].concat(N.filter($=>$.position).map($=>$.position)))),[N,s]),[C,z]=T.useState([]),[O,H]=T.useState(!1),[K,D]=T.useState(!1),[R,M]=T.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),P=T.useRef(null),B=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=T.useRef(null),A=T.useRef(!1),F=T.useCallback($=>{S(U=>{var Q;return(Q=U.find(X=>X.id===$.id))!=null&&Q.delete||ht.dismiss($.id),U.filter(({id:X})=>X!==$.id)})},[]);return T.useEffect(()=>ht.subscribe($=>{if($.dismiss){const U=N.map(Q=>Q.id===$.id?{...Q,delete:!0}:Q);requestAnimationFrame(()=>{S(U)});return}setTimeout(()=>{px.flushSync(()=>{S(U=>{const Q=U.findIndex(X=>X.id===$.id);return Q!==-1?[...U.slice(0,Q),{...U[Q],...$},...U.slice(Q+1)]:[$,...U]})})})}),[N]),T.useEffect(()=>{if(d!=="system"){M(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:U})=>{M(U?"dark":"light")})}catch{$.addListener(({matches:Q})=>{try{M(Q?"dark":"light")}catch(X){console.error(X)}})}},[d]),T.useEffect(()=>{N.length<=1&&H(!1)},[N]),T.useEffect(()=>{const $=U=>{var Q;if(o.every(J=>U[J]||U.code===J)){var de;H(!0),(de=P.current)==null||de.focus()}U.code==="Escape"&&(document.activeElement===P.current||(Q=P.current)!=null&&Q.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[o]),T.useEffect(()=>{if(P.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,A.current=!1)}},[P.current]),T.createElement("section",{ref:r,"aria-label":`${j} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map(($,U)=>{var Q;const[X,de]=$.split("-");return N.length?T.createElement("ol",{key:$,dir:y==="auto"?pg():y,tabIndex:-1,ref:P,className:c,"data-sonner-toaster":!0,"data-sonner-theme":R,"data-y-position":X,"data-lifted":O&&N.length>1&&!a,"data-x-position":de,style:{"--front-toast-height":`${((Q=C[0])==null?void 0:Q.height)||0}px`,"--width":`${D4}px`,"--gap":`${v}px`,...w,...B4(u,f)},onBlur:J=>{A.current&&!J.currentTarget.contains(J.relatedTarget)&&(A.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||A.current||(A.current=!0,k.current=J.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{K||H(!1)},onDragEnd:()=>H(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},N.filter(J=>!J.position&&U===0||J.position===$).map((J,E)=>{var I,Z;return T.createElement(z4,{key:J.id,icons:b,index:E,toast:J,defaultRichColors:m,duration:(I=x==null?void 0:x.duration)!=null?I:p,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:g,closeButton:(Z=x==null?void 0:x.closeButton)!=null?Z:l,interacting:K,position:$,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,closeButtonAriaLabel:x==null?void 0:x.closeButtonAriaLabel,removeToast:F,toasts:N.filter(re=>re.position==J.position),heights:C.filter(re=>re.position==J.position),setHeights:z,expandByDefault:a,gap:v,expanded:O,swipeDirections:t.swipeDirections})})):null}))}),Ve=Wx((e,t)=>({user:null,session:null,loading:!0,signIn:async(r,n)=>{var s;try{const{error:o,data:a}=await Y.auth.signInWithPassword({email:r,password:n});if(o)throw o;e({user:a.user,session:a.session}),console.log("Sign in successful:",(s=a.user)==null?void 0:s.id)}catch(o){throw console.error("Sign in error:",o),W.error(o.message||"Failed to sign in"),o}},signUp:async(r,n,s={})=>{try{const{error:o,data:a}=await Y.auth.signUp({email:r,password:n,options:{data:s.data}});if(o)throw o;e({user:a.user,session:a.session})}catch(o){throw console.error("Sign up error:",o),W.error(o.message||"Failed to sign up"),o}},signOut:async()=>{try{const{error:r}=await Y.auth.signOut();if(r)throw r;e({user:null,session:null})}catch(r){throw console.error("Sign out error:",r),W.error(r.message||"Failed to sign out"),r}},initialize:async()=>{try{e({loading:!0});const r=await h4();r?(console.log("Session found during initialization:",r.user.id),e({user:r.user,session:r})):(console.log("No session found during initialization"),e({user:null,session:null}));const{data:{subscription:n}}=Y.auth.onAuthStateChange((s,o)=>{var a;console.log("Auth state changed:",s,(a=o==null?void 0:o.user)==null?void 0:a.id),e({user:(o==null?void 0:o.user)||null,session:o})});e({cleanup:()=>{n.unsubscribe()},loading:!1})}catch(r){console.error("Error initializing auth:",r),W.error("Error initializing authentication. Some features might not work correctly."),e({loading:!1})}},getUserProfile:()=>{var s,o,a;const r=t().user;return r?{id:r.id,firstName:((s=r.user_metadata)==null?void 0:s.first_name)||"",lastName:((o=r.user_metadata)==null?void 0:o.last_name)||"",phoneNumber:((a=r.user_metadata)==null?void 0:a.phone_number)||"",balanceCredits:0,isAdmin:!1,ownerId:null}:null},forgotPassword:async r=>{const n=await m4(r);return n.success?W.success(n.message):W.error(n.message),n},signInWithSocial:async r=>{try{const n=await p4(r);if(!n.success&&n.message)throw W.error(n.message),new Error(n.message)}catch(n){throw console.error(`Sign in with ${r} error:`,n),W.error(n.message||`Failed to sign in with ${r}`),n}},cleanup:()=>{console.log("Default cleanup function called before initialization")}}));Ve.getState().initialize();const W4={};function H4(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var o;const a=c=>c===null?null:JSON.parse(c,void 0),l=(o=r.getItem(s))!=null?o:null;return l instanceof Promise?l.then(a):a(l)},setItem:(s,o)=>r.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>r.removeItem(s)}}const ji=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return ji(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return ji(n)(r)}}}},q4=(e,t)=>(r,n,s)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,y)=>({...y,...x}),...t},a=!1;const l=new Set,c=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...x)},n,s);const f=ji(o.serialize),d=()=>{const x=o.partialize({...n()});let y;const v=f({state:x,version:o.version}).then(b=>u.setItem(o.name,b)).catch(b=>{y=b});if(y)throw y;return v},m=s.setState;s.setState=(x,y)=>{m(x,y),d()};const p=e((...x)=>{r(...x),d()},n,s);let w;const g=()=>{var x;if(!u)return;a=!1,l.forEach(v=>v(n()));const y=((x=o.onRehydrateStorage)==null?void 0:x.call(o,n()))||void 0;return ji(u.getItem.bind(u))(o.name).then(v=>{if(v)return o.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return o.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var b;return w=o.merge(v,(b=n())!=null?b:p),r(w,!0),d()}).then(()=>{y==null||y(w,void 0),a=!0,c.forEach(v=>v(w))}).catch(v=>{y==null||y(void 0,v)})};return s.persist={setOptions:x=>{o={...o,...x},x.getStorage&&(u=x.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>a,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},g(),w||p},V4=(e,t)=>(r,n,s)=>{let o={storage:H4(()=>localStorage),partialize:g=>g,version:0,merge:(g,x)=>({...x,...g}),...t},a=!1;const l=new Set,c=new Set;let u=o.storage;if(!u)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...g)},n,s);const f=()=>{const g=o.partialize({...n()});return u.setItem(o.name,{state:g,version:o.version})},d=s.setState;s.setState=(g,x)=>{d(g,x),f()};const m=e((...g)=>{r(...g),f()},n,s);s.getInitialState=()=>m;let p;const w=()=>{var g,x;if(!u)return;a=!1,l.forEach(v=>{var b;return v((b=n())!=null?b:m)});const y=((x=o.onRehydrateStorage)==null?void 0:x.call(o,(g=n())!=null?g:m))||void 0;return ji(u.getItem.bind(u))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return[!0,o.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var b;const[j,N]=v;if(p=o.merge(N,(b=n())!=null?b:m),r(p,!0),j)return f()}).then(()=>{y==null||y(p,void 0),p=n(),a=!0,c.forEach(v=>v(p))}).catch(v=>{y==null||y(void 0,v)})};return s.persist={setOptions:g=>{o={...o,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>w(),hasHydrated:()=>a,onHydrate:g=>(l.add(g),()=>{l.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},o.skipHydration||w(),p||m},G4=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((W4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),q4(e,t)):V4(e,t),Y4=G4,hs=Wx()(Y4((e,t)=>({items:[],total:0,calculateTotal:r=>r.reduce((n,s)=>n+s.product.price*s.quantity,0),addItem:r=>{const n=t().items,s=n.find(c=>c.product.id===r.id);if((s?s.quantity:0)+1>r.stock){W.error(`Sorry, only ${r.stock} units available in stock`);return}let l;s?l=n.map(c=>c.product.id===r.id?{...c,quantity:c.quantity+1}:c):l=[...n,{product:r,quantity:1}],e({items:l,total:t().calculateTotal(l)})},removeItem:r=>{const n=t().items.filter(s=>s.product.id!==r);e({items:n,total:t().calculateTotal(n)})},updateQuantity:(r,n)=>{if(n<1){t().removeItem(r);return}const s=t().items,o=s.find(l=>l.product.id===r);if(o&&n>o.product.stock){W.error(`Sorry, only ${o.product.stock} units available in stock`);return}const a=s.map(l=>l.product.id===r?{...l,quantity:n}:l);e({items:a,total:t().calculateTotal(a)})},clearCart:()=>e({items:[],total:0})}),{name:"cart-storage"})),K4={home:"Home",shop:"Shop",about:"About",contact:"Contact",categories:"Categories",shops:"Shops",products:"Products",search:"Search",viewAll:"View All",browseShops:"Browse Shops",searchShops:"Search Shops",loadingShops:"Loading Shops...",noShopsFound:"No shops found",browseProducts:"Browse Products",searchProducts:"Search Products",searchCategories:"Search Brand",loadingProducts:"Loading Products...",noProductsFound:"No products found",addToCart:"Add to Cart",inStock:"In Stock",outOfStock:"Out of Stock",shoppingCart:"Shopping Cart",subtotal:"Subtotal",cart:"Cart",each:"Each",shippingTaxes:"Shipping & taxes calculated at checkout",checkout:"Checkout",or:"Or",continueShopping:"Continue Shopping",emptyCart:"Your cart is currently empty.",startShopping:"Start adding items to your cart to complete your order.",productNotFound:"Product Not Found",productDoesNotExist:"The product you are looking for does not exist.",backToProducts:"Back to Products",errorFetchingProduct:"Error fetching product details",pleaseLoginToAddToWishlist:"Please login to add items to your wishlist!",removedFromWishlist:"Removed from wishlist!",addedToWishlist:"Added to wishlist!",errorUpdatingWishlist:"Error updating wishlist",shareProduct:"Share Product",linkCopiedToClipboard:"Link copied to clipboard!",errorCopyingToClipboard:"Error copying to clipboard",description:"Description",compatibleWith:"Compatible With",remove:"Remove",quantity:"Quantity",relatedProducts:"Related Products",noRelatedProducts:"No related products found.",shopsNearYou:"Shops Near You",noShopsNearYou:"No shops found near you.",allCategories:"All Categories",selectCategory:"Select Category",clearFilters:"Clear Filters",filter:"Filter",sortBy:"Sort By",priceLowToHigh:"Price: Low to High",priceHighToLow:"Price: High to Low",nameAtoZ:"Name: A to Z",nameZtoA:"Name: Z to A",newestFirst:"Newest First",oldestFirst:"Oldest First",apply:"Apply",reset:"Reset",account:"Account",dashboard:"Dashboard",orders:"Orders",wishlist:"Wishlist",addresses:"Addresses",settings:"Settings",logout:"Logout",login:"Login",register:"Register",email:"Email",password:"Password",forgotPassword:"Forgot Password?",resetPassword:"Reset Password",confirmPassword:"Confirm Password",firstName:"First Name",lastName:"Last Name",phoneNumber:"Phone Number",streetAddress:"Street Address",buildingNumber:"Building Number",floor:"Floor",apartmentNumber:"Apartment Number",district:"District",city:"City",area:"Area",postalCode:"Postal Code",saveAddress:"Save Address",editAddress:"Edit Address",deleteAddress:"Delete Address",newAddress:"New Address",recipientName:"Recipient Name",isDefaultAddress:"Set as Default Address",noAddressesFound:"No addresses found. Add a new address to continue.",orderHistory:"Order History",orderDetails:"Order Details",orderNumber:"Order Number",orderDate:"Order Date",orderStatus:"Order Status",totalAmount:"Total Amount",paymentMethod:"Payment Method",shippingAddress:"Shipping Address",billingAddress:"Billing Address",orderItems:"Order Items",productName:"Product Name",price:"Price",quantityValue:"Quantity",noOrdersFound:"No orders found.",wishlistItems:"Wishlist Items",removeFromWishlist:"Remove from Wishlist",noWishlistItems:"No items in your wishlist. Start adding now!",profileSettings:"Profile Settings",updateProfile:"Update Profile",changePassword:"Change Password",currentPassword:"Current Password",newPassword:"New Password",confirmNewPassword:"Confirm New Password",updatePassword:"Update Password",contactUs:"Contact Us",fullName:"Full Name",message:"Message",sendMessage:"Send Message",aboutUs:"About Us",ourStory:"Our Story",ourMission:"Our Mission",ourVision:"Our Vision",ourValues:"Our Values",ourTeam:"Our Team",ourServices:"Our Services",ourClients:"Our Clients",ourPartners:"Our Partners",ourTestimonials:"Our Testimonials",ourBlog:"Our Blog",ourContactInfo:"Our Contact Info",ourAddress:"Our Address",ourPhone:"Our Phone",ourEmail:"Our Email",ourSocialMedia:"Our Social Media",ourCopyright:"Our Copyright",ourTermsOfService:"Our Terms of Service",ourPrivacyPolicy:"Our Privacy Policy",ourFAQ:"Our FAQ",ourSitemap:"Our Sitemap",cashOnDelivery:"Cash on Delivery",creditCard:"Credit Card",paymentInformation:"Payment Information",cardNumber:"Card Number",expiryDate:"Expiry Date",cvv:"CVV",completeOrder:"Complete Order",processing:"Processing...",cartEmpty:"Your cart is empty!",loginRequired:"You must be logged in to checkout.",pleaseSelectAddress:"Please select a shipping address.",orderSuccess:"Your order has been placed successfully!",orderError:"There was an error placing your order.",contactInformation:"Contact Information",shippingInformation:"Shipping Information",emailAddress:"Email Address",shipping:"Shipping",discount:"Discount",applyCoupon:"Apply Coupon",enterCouponCode:"Enter coupon code",invalidCoupon:"Invalid coupon code",couponApplied:"Coupon applied!",noProductsMatching:"No products matching",inThisShop:"in this shop",noProductsAvailable:"No products available",maxStockReached:"Maximum stock reached",brandName:"Zabtt",models:"Models",searchPlaceholder:"Search for parts or shops...",searching:"Searching...",viewAllResults:"View all results",noResults:"No results found for",browseModels:"Browse Models",allShops:"All Shops",filterByModels:"Filter by Model",allModels:"All Models",myOrders:"My Orders",pending:"Pending",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled",returnHome:"Return Home",noOrders:"No orders yet",selectOrderToViewDetails:"Select an order to view details",reorder:"Reorder",findPerfectParts:"Find the perfect parts for your car",browseThousands:"Browse thousands of car parts from trusted shops.",for:"For",reorderSuccess:"All items from your previous order have been added to your cart",reorderPartial:"Some items from your order have been added to cart. Others are currently unavailable.",reorderNoProducts:"Sorry, none of the items from your order are currently available",reorderError:"There was an error reordering. Please try again.",loadMore:"Load More",personalInformation:"Personal Information",notProvided:"Not Provided",quickActions:"Quick Actions",myCart:"My Cart",editProfile:"Edit Profile",saveChanges:"Save Changes",updatePhoneNumber:"Update Phone Number",phoneUpdated:"Phone number updated successfully",phoneUpdateError:"Failed to update phone number",applying:"Applying...",errorApplyingCoupon:"Error applying coupon",total:"Total",address:"Address",save:"Save",edit:"Edit",welcomeBack:"Welcome Back",signIn:"Sign In",signingIn:"Signing In...",dontHaveAccount:"Don't have an account?",createAccountNow:"Create account now",joinOurCommunity:"Join Our Community",createAccount:"Create Account",creatingYourAccount:"Creating your account...",alreadyHaveAccount:"Already have an account?",signInToYourAccount:"Sign in to your account",getInTouch:"Get in Touch With Our Team",yourName:"Your Name",yourEmail:"Your Email",subject:"Subject",sending:"Sending...",messageSent:"Your message has been sent! We'll get back to you soon.",phone:"Phone",followUs:"Follow Us",carDescription:"Your one-stop shop for car parts and accessories in Egypt.",quickLinks:"Quick Links",customerService:"Customer Service",connectWithUs:"Connect With Us",allRightsReserved:"All Rights Reserved",faq:"FAQ",termsAndConditions:"Terms and Conditions",resetYourPassword:"Reset Your Password",enterEmailInstructions:"Enter your email address and we'll send you a link to reset your password",checkYourEmail:"Check Your Email",resetLinkSent:"We've sent a password reset link to your email",backToLogin:"Back to Login",sendResetLink:"Send Reset Link",errorSendingResetLink:"Error sending reset link",invalidEmailAddress:"Invalid email address",invalidOrExpiredResetLink:"Invalid or expired reset link",createNewPassword:"Create New Password",enterNewPasswordBelow:"Enter your new password below",updating:"Updating...",passwordResetSuccess:"Password reset successfully",passwordResetFailed:"Failed to reset password",passwordStrength:"Password Strength",weak:"Weak",medium:"Medium",strong:"Strong",passwordsDontMatch:"Passwords don't match",passwordTooShort:"Password must be at least 8 characters long",passwordTooWeak:"Password is too weak",signingInWithGoogle:"Signing in with Google...",signingInWithFacebook:"Signing in with Facebook...",signingUpWithGoogle:"Signing up with Google...",signingUpWithFacebook:"Signing up with Facebook...",signInWithGoogle:"Sign in with Google",signInWithFacebook:"Sign in with Facebook",signUpWithGoogle:"Sign up with Google",signUpWithFacebook:"Sign up with Facebook",orContinueWith:"Or continue with","Sign in":"Sign in","Sign in With Google":"Sign in With Google","Sign in With Facebook":"Sign in With Facebook","Forgot Password ?":"Forgot Password?","Sign in Your Account":"Sign in Your Account","Dont Have Account?":"Don't Have Account?","Create Account":"Create Account","Or Continue With":"Or Continue With","Accept Terms":"Accept Terms","Terms and Conditions":"Terms and Conditions",savedAddresses:"Saved Addresses",addNewAddress:"Add New Address",noSavedAddresses:"No saved addresses yet",addYourFirstAddress:"Add your first address",addressName:"Address Name",apartment:"Apartment, suite, etc.",state:"State",zipCode:"Zip Code",country:"Country",primary:"Primary",makeDefaultAddress:"Make default address",defaultAddress:"Default Address",cancel:"Cancel",addressSaved:"Address saved successfully",addressDeleted:"Address deleted successfully",confirmDeleteAddress:"Are you sure you want to delete this address?",yes:"Yes",no:"No",defaultAddressChanged:"Default address changed",frequentlyAskedQuestions:"Frequently Asked Questions",faqIntro:"Find answers to the most common questions about our services and products.",faqQuestion1:"How do I place an order?",faqAnswer1:"You can place an order by browsing our categories, selecting the products you need, and adding them to your cart. Once you've added all desired items, proceed to checkout and follow the steps to complete your purchase.",faqQuestion2:"What payment methods do you accept?",faqAnswer2:"We currently accept cash on delivery only as a payment method. Payment by credit or debit card is not available at this time.",faqQuestion3:"Can I return parts I've purchased?",faqAnswer3:"Yes, we offer a 24-hour return policy. If you're not satisfied with your purchase, you can return it within 24 hours of delivery. The product must be in its original condition and packaging. Please contact customer service to initiate the return process.",faqQuestion4:"How can I track my order?",faqAnswer4:"Once your order has been shipped, you will receive a tracking number via email or SMS. You can use this number on our website to track the current status of your delivery.",faqQuestion5:"Do you offer international shipping?",faqAnswer5:"Currently, we only offer shipping within Egypt. We are working on expanding our shipping capabilities to serve more customers internationally in the future.",stillHaveQuestions:"Still have questions?",contactUsMessage:"Our customer support team is available to help you with any questions or concerns.",pageNotFound:"Page Not Found",pageDoesntExist:"The page you're looking for doesn't exist or has been moved."},Q4={home:"",shop:"",about:" ",contact:" ",categories:"",shops:"",products:"",search:"",viewAll:" ",browseShops:" ",searchShops:"  ",loadingShops:"  ...",noShopsFound:"    ",browseProducts:" ",searchProducts:"  ",searchCategories:"  ",loadingProducts:"  ...",noProductsFound:"    ",addToCart:"  ",inStock:"",outOfStock:" ",shoppingCart:" ",subtotal:" ",cart:"",each:"",shippingTaxes:"     ",checkout:"",or:"",continueShopping:" ",emptyCart:"  ",startShopping:"      ",productNotFound:"  ",productDoesNotExist:"     ",backToProducts:"  ",errorFetchingProduct:"     ",pleaseLoginToAddToWishlist:"       !",removedFromWishlist:"     !",addedToWishlist:"     !",errorUpdatingWishlist:"     ",shareProduct:" ",linkCopiedToClipboard:"    !",errorCopyingToClipboard:"     ",description:"",compatibleWith:" ",remove:"",quantity:"",relatedProducts:"  ",noRelatedProducts:"      .",shopsNearYou:"  ",noShopsNearYou:"      .",allCategories:" ",selectCategory:" ",clearFilters:" ",filter:"",sortBy:" ",priceLowToHigh:":    ",priceHighToLow:":    ",nameAtoZ:":    ",nameZtoA:":    ",newestFirst:" ",oldestFirst:" ",apply:"",reset:" ",account:"",dashboard:" ",orders:"",wishlist:"",addresses:"",settings:"",logout:" ",login:" ",register:"",email:" ",password:" ",forgotPassword:"  ",resetPassword:"   ",confirmPassword:"  ",firstName:" ",lastName:" ",phoneNumber:" ",streetAddress:" ",buildingNumber:" ",floor:"",apartmentNumber:" ",district:"",city:"",area:"",postalCode:" ",saveAddress:" ",editAddress:" ",deleteAddress:" ",newAddress:" ",recipientName:" ",isDefaultAddress:"  ",noAddressesFound:"    .    .",orderHistory:" ",orderDetails:" ",orderNumber:" ",orderDate:" ",orderStatus:" ",totalAmount:" ",paymentMethod:" ",shippingAddress:" ",billingAddress:" ",orderItems:" ",productName:" ",price:"",quantityValue:"",noOrdersFound:"    .",wishlistItems:" ",removeFromWishlist:"  ",noWishlistItems:"    .   !",profileSettings:"  ",updateProfile:"  ",changePassword:"  ",currentPassword:"  ",newPassword:"  ",confirmNewPassword:"   ",updatePassword:"  ",contactUs:" ",fullName:" ",message:"",sendMessage:" ",aboutUs:" ",ourStory:"",ourMission:"",ourVision:"",ourValues:"",ourTeam:"",ourServices:"",ourClients:"",ourPartners:"",ourTestimonials:" ",ourBlog:"",ourContactInfo:"  ",ourAddress:"",ourPhone:"",ourEmail:" ",ourSocialMedia:"  ",ourCopyright:" ",ourTermsOfService:" ",ourPrivacyPolicy:" ",ourFAQ:" ",ourSitemap:" ",cashOnDelivery:"  ",creditCard:" ",paymentInformation:" ",cardNumber:" ",expiryDate:" ",cvv:" ",completeOrder:" ",processing:" ...",cartEmpty:" !",loginRequired:"     .",pleaseSelectAddress:"   .",orderSuccess:"   !",orderError:"    .",contactInformation:" ",shippingInformation:" ",emailAddress:"  ",shipping:"",discount:"",applyCoupon:" ",enterCouponCode:"  ",invalidCoupon:"   ",couponApplied:"  !",noProductsMatching:"   ",inThisShop:"  ",noProductsAvailable:"   ",maxStockReached:"     ",brandName:"",models:"",searchPlaceholder:"     ...",searching:" ...",viewAllResults:"  ",noResults:"     ",browseModels:" ",allShops:" ",filterByModels:"  ",allModels:" ",for:"",myOrders:"",pending:" ",shipped:" ",delivered:" ",cancelled:" ",returnHome:"  ",noOrders:"    ",selectOrderToViewDetails:"   ",reorder:" ",findPerfectParts:"    ",browseThousands:"       .",reorderSuccess:"         ",reorderPartial:"        .     .",reorderNoProducts:"        ",reorderError:"    .    .",loadMore:" ",personalInformation:" ",notProvided:" ",quickActions:" ",myCart:" ",editProfile:"  ",saveChanges:" ",updatePhoneNumber:"  ",phoneUpdated:"    ",phoneUpdateError:"   ",applying:" ...",errorApplyingCoupon:"   ",total:"",address:"",save:"",edit:"",welcomeBack:" ",signIn:" ",signingIn:"  ...",dontHaveAccount:"  ",createAccountNow:"  ",joinOurCommunity:"  ",createAccount:" ",creatingYourAccount:"  ...",alreadyHaveAccount:"  ",signInToYourAccount:"   ",getInTouch:"  ",yourName:"",yourEmail:" ",subject:"",sending:" ...",messageSent:"  !   .",phone:"",followUs:"",carDescription:"       .",quickLinks:" ",customerService:" ",connectWithUs:" ",allRightsReserved:"  ",faq:" ",termsAndConditions:" ",resetYourPassword:"   ",enterEmailInstructions:"          ",checkYourEmail:"   ",resetLinkSent:"         ",backToLogin:"   ",sendResetLink:"   ",errorSendingResetLink:"     ",invalidEmailAddress:"    ",invalidOrExpiredResetLink:"       ",createNewPassword:"   ",enterNewPasswordBelow:"    ",updating:" ...",passwordResetSuccess:"     ",passwordResetFailed:"     ",passwordStrength:"  ",weak:"",medium:"",strong:"",passwordsDontMatch:"   ",passwordTooShort:"     8   ",passwordTooWeak:"   ",signingInWithGoogle:"    ...",signingInWithFacebook:"    ...",signingUpWithGoogle:"   ...",signingUpWithFacebook:"   ...",signInWithGoogle:"   ",signInWithFacebook:"   ",signUpWithGoogle:"  ",signUpWithFacebook:"  ",orContinueWith:"  ","Sign in":" ","Sign in With Google":"   ","Sign in With Facebook":"   ","Forgot Password ?":"  ","Sign in Your Account":"   ","Dont Have Account?":"  ","Create Account":" ","Or Continue With":"  ","Accept Terms":" ","Terms and Conditions":" ",savedAddresses:" ",addNewAddress:"  ",noSavedAddresses:"     ",addYourFirstAddress:"  ",addressName:" ",apartment:"  .",state:"",zipCode:" ",country:"",primary:"",makeDefaultAddress:"  ",defaultAddress:" ",cancel:"",addressSaved:"   ",addressDeleted:"   ",confirmDeleteAddress:"       ",yes:"",no:"",defaultAddressChanged:"   ",frequentlyAskedQuestions:" ",faqIntro:"        .",faqQuestion1:"   ?",faqAnswer1:"                .             .",faqQuestion2:"     ",faqAnswer2:"       .           .",faqQuestion3:"     ",faqAnswer3:"     24 .           24   .        .       .",faqQuestion4:"   ",faqAnswer4:"           .            .",faqQuestion5:"   ",faqAnswer5:"     .              .",stillHaveQuestions:"    ",contactUsMessage:"          .",pageNotFound:"  ",pageDoesntExist:"        ."},bs={en:K4,ar:Q4},my=h.createContext(void 0),X4=({children:e})=>{const[t,r]=h.useState(localStorage.getItem("language")||"en");h.useEffect(()=>(localStorage.setItem("language",t),document.body.classList.toggle("rtl",t==="ar"),()=>{document.body.classList.remove("rtl")}),[t]);const s={language:t,setLanguage:r,t:o=>{const a=t;return bs[a]&&o in bs[a]?bs[a][o]||o:a!=="en"&&bs.en&&o in bs.en?bs.en[o]:o}};return i.jsx(my.Provider,{value:s,children:e})},ne=()=>{const e=h.useContext(my);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e};function J4(){const{t:e}=ne();return i.jsx("div",{className:"flex flex-shrink-0 items-center",children:i.jsxs(ue,{to:"/",className:"flex items-center",children:[i.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-2",children:[i.jsx("rect",{width:"40",height:"40",rx:"8",fill:"url(#paint0_linear)"}),i.jsx("path",{d:"M10 25C10 22.2386 12.2386 20 15 20H25C27.7614 20 30 22.2386 30 25V28C30 29.1046 29.1046 30 28 30H12C10.8954 30 10 29.1046 10 28V25Z",fill:"white"}),i.jsx("circle",{cx:"15",cy:"25",r:"2",fill:"#3B82F6"}),i.jsx("circle",{cx:"25",cy:"25",r:"2",fill:"#3B82F6"}),i.jsx("path",{d:"M11 18L15 10H25L29 18",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"paint0_linear",x1:"0",y1:"0",x2:"40",y2:"40",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#3B82F6"}),i.jsx("stop",{offset:"1",stopColor:"#1E40AF"})]})})]}),i.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-blue-500 bg-clip-text text-transparent",children:e("brandName")})]})})}function qn(...e){return e.filter(Boolean).join(" ")}function Z4({navigation:e,isCurrentPath:t}){return i.jsx("div",{className:"hidden sm:ml-10 sm:flex sm:space-x-8",children:e.map(r=>i.jsx(ue,{to:r.href,className:qn(t(r.href)?"border-indigo-500 text-indigo-600 font-semibold before:absolute before:inset-x-0 before:bottom-0 before:h-0.5 before:bg-indigo-600 before:transform before:origin-left before:transition-transform before:duration-200 before:scale-x-100":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 before:absolute before:inset-x-0 before:bottom-0 before:h-0.5 before:bg-gray-300 before:transform before:origin-left before:transition-transform before:duration-200 before:scale-x-0 hover:before:scale-x-100","navbar-text relative inline-flex items-center px-1 pt-1 text-sm font-medium transition-colors duration-200"),children:r.name},r.name))})}function e5({navigation:e,isCurrentPath:t,user:r,signOut:n}){const{t:s}=ne();return i.jsxs(qt.Panel,{className:"sm:hidden",children:[i.jsx("div",{className:"space-y-1 pb-3 pt-2",children:e.map(o=>i.jsx(qt.Button,{as:ue,to:o.href,className:qn(t(o.href)?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700","block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200"),children:o.name},o.name))}),r?i.jsxs("div",{className:"border-t border-gray-200 pb-3 pt-4",children:[i.jsxs("div",{className:"flex items-center px-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("img",{className:"h-10 w-10 rounded-full",src:`https://ui-avatars.com/api/?name=${r.email}&background=random`,alt:""})}),i.jsx("div",{className:"ml-3",children:i.jsx("div",{className:"text-base font-medium text-gray-800",children:r.email})})]}),i.jsxs("div",{className:"mt-3 space-y-1",children:[i.jsx(qt.Button,{as:ue,to:"/profile",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800",children:s("profile")}),i.jsx(qt.Button,{as:ue,to:"/wishlist",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800",children:s("wishlist")}),i.jsx(qt.Button,{as:ue,to:"/saved-addresses",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800",children:s("savedAddresses")}),i.jsx(qt.Button,{as:ue,to:"/orders",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800",children:s("orders")}),i.jsx(qt.Button,{as:"button",onClick:n,className:"block px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800",children:s("logout")})]})]}):i.jsx("div",{className:"border-t border-gray-200 pt-4 pb-3",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx(qt.Button,{as:ue,to:"/login",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800",children:s("login")}),i.jsx(qt.Button,{as:ue,to:"/register",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800",children:s("register")})]})})]})}function gg({cartItemCount:e,items:t,total:r,isMobile:n=!1}){const{t:s}=ne();return n?i.jsxs(ue,{to:"/cart",className:"relative p-2 text-gray-600",children:[i.jsx(Kp,{className:"h-6 w-6"}),e>0&&i.jsx("span",{className:"absolute -top-2 -right-2 flex h-5 w-5 items-center justify-center rounded-full bg-indigo-600 text-xs font-bold text-white ring-2 ring-white",children:e})]}):i.jsx(ue,{to:"/cart/",className:"group relative p-2 text-gray-600 hover:text-gray-900 transition-colors duration-200",children:i.jsxs("div",{className:"relative",children:[i.jsx(Kp,{className:"h-6 w-6"}),e>0&&i.jsxs("div",{className:"absolute -top-2 -right-2",children:[i.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-indigo-600 text-xs font-bold text-white ring-2 ring-white",children:e}),i.jsx("div",{className:"hidden group-hover:block absolute top-full right-0 w-64 mt-3",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl py-4 px-4 border border-gray-100 cart-dropdown",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:s("shoppingCart")}),i.jsx("div",{className:"space-y-2",children:t.map(o=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600 truncate",children:o.product.name}),i.jsxs("span",{className:"text-gray-900",children:["x",o.quantity]})]},o.product.id))}),i.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsxs("span",{children:[s("subtotal"),":"]}),i.jsx("span",{className:"text-indigo-600",children:r.toFixed(2)})]})}),i.jsx(ue,{to:"/cart",className:"mt-3 block w-full text-center bg-indigo-600 text-white text-sm font-medium py-2 px-4 rounded-md hover:bg-indigo-700 transition-colors duration-200",children:s("cart")})]})})]})]})})}function t5({user:e,signOut:t}){const{t:r}=ne();return i.jsxs(qr,{as:"div",className:"relative ml-3",children:[i.jsx(qr.Button,{className:"flex rounded-full bg-white ring-2 ring-gray-200 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:i.jsx("img",{className:"h-8 w-8 rounded-full",src:`https://ui-avatars.com/api/?name=${e.email}&background=random`,alt:""})}),i.jsx(ek,{as:h.Fragment,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:i.jsxs(qr.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-lg bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[i.jsx(qr.Item,{children:({active:n})=>i.jsx(ue,{to:"/profile",className:qn(n?"bg-gray-50":"","block px-4 py-2 text-sm text-gray-700"),children:r("profile")})}),i.jsx(qr.Item,{children:({active:n})=>i.jsx(ue,{to:"/wishlist",className:qn(n?"bg-gray-50":"","block px-4 py-2 text-sm text-gray-700"),children:r("wishlist")})}),i.jsx(qr.Item,{children:({active:n})=>i.jsx(ue,{to:"/saved-addresses",className:qn(n?"bg-gray-50":"","block px-4 py-2 text-sm text-gray-700"),children:r("savedAddresses")})}),i.jsx(qr.Item,{children:({active:n})=>i.jsx(ue,{to:"/orders",className:qn(n?"bg-gray-50":"","block px-4 py-2 text-sm text-gray-700"),children:r("orders")})}),i.jsx(qr.Item,{children:({active:n})=>i.jsx("button",{onClick:t,className:qn(n?"bg-gray-50":"","block w-full text-left px-4 py-2 text-sm text-gray-700"),children:r("logout")})})]})})]})}function r5(){const{t:e,language:t}=ne();return i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(ue,{to:"/login",className:"text-gray-500 hover:text-gray-900 font-medium transition-colors duration-200",children:e("signIn")}),i.jsx(ue,{to:"/register",className:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-indigo-700 transition-colors duration-200 shadow-md hover:shadow-lg",children:e("createAccount")})]})}/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),py=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:a,...l},c)=>h.createElement("svg",{ref:c,...s5,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:py("lucide",s),...l},[...a.map(([u,f])=>h.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(e,t)=>{const r=h.forwardRef(({className:n,...s},o)=>h.createElement(o5,{ref:o,iconNode:t,className:py(`lucide-${n5(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wl=oe("ArrowLeft",i5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],l5=oe("ArrowRight",a5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],vg=oe("Building",c5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],gy=oe("Car",u5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vy=oe("Check",d5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dc=oe("ChevronDown",f5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],xy=oe("ChevronLeft",h5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],p5=oe("ChevronRight",m5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],v5=oe("ChevronUp",g5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],y5=oe("CircleCheckBig",x5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],b5=oe("CircleX",w5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],N5=oe("Clock",j5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],xg=oe("CreditCard",S5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]],k5=oe("DoorOpen",_5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],E5=oe("Ellipsis",C5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],A5=oe("Eye",P5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],yy=oe("Facebook",T5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],wy=oe("Funnel",R5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],I5=oe("Globe",O5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ni=oe("Heart",D5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Hd=oe("House",M5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],L5=oe("Layers",$5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],by=oe("LoaderCircle",F5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qd=oe("Lock",z5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Eh=oe("Mail",B5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ys=oe("MapPin",U5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],H5=oe("Map",W5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ph=oe("Minus",q5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],G5=oe("Navigation",V5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],K5=oe("PackageCheck",Y5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],X5=oe("Pencil",Q5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],jy=oe("Phone",J5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],co=oe("Plus",Z5);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ny=oe("RefreshCw",eP);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],fc=oe("Search",tP);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],nP=oe("Send",rP);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],oP=oe("Share2",sP);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],aP=oe("Shield",iP);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Vd=oe("ShoppingCart",lP);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],hc=oe("Trash2",cP);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dP=oe("TriangleAlert",uP);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Gd=oe("Truck",fP);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yg=oe("User",hP);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yd=oe("X",mP),wg=({className:e=""})=>{const{language:t,setLanguage:r}=ne(),n=()=>{r(t==="en"?"ar":"en")};return i.jsxs("button",{onClick:n,className:`navbar-text flex items-center text-gray-500 hover:text-gray-700 transition ${e}`,"aria-label":t==="en"?"Switch to Arabic":"Switch to English",children:[i.jsx(I5,{className:"w-5 h-5 mr-1 no-flip"}),i.jsx("span",{className:"text-sm font-medium",children:t==="en"?"":"English"})]})};function pP({transparent:e=!1}){const{user:t,signOut:r}=Ve(),{items:n,total:s}=hs(),o=gr(),{t:a}=ne(),l=n.reduce((d,m)=>d+m.quantity,0),c=[{name:a("home"),href:"/"},{name:a("models"),href:"/categories"},{name:a("shops"),href:"/shops"},{name:a("contactUs"),href:"/contact"}],u=d=>d==="/"?o.pathname==="/":o.pathname.startsWith(d),f=e?"bg-transparent backdrop-blur-0 bg-opacity-0":"bg-white shadow-lg backdrop-blur-md bg-opacity-80";return i.jsx(qt,{as:"nav",className:`${f} sticky top-0 left-0 right-0 z-50 transition-colors duration-300 navbar-container`,children:({open:d})=>i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex h-20 justify-between navbar-container",children:[i.jsxs("div",{className:"flex",children:[i.jsx(J4,{}),i.jsx(Z4,{navigation:c,isCurrentPath:u})]}),i.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:items-center space-x-4",children:[i.jsx(wg,{}),t&&i.jsxs(ue,{to:"/wishlist",className:"inline-flex items-center justify-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[i.jsx(Ni,{className:"h-4 w-4 mr-1"}),a("wishlist")]}),i.jsx(gg,{cartItemCount:l,items:n,total:s}),t?i.jsx(t5,{user:t,signOut:r}):i.jsx(r5,{})]}),i.jsxs("div",{className:"flex items-center sm:hidden space-x-4",children:[i.jsx(wg,{className:"mr-2"}),t&&i.jsx(ue,{to:"/wishlist",className:"p-2 text-indigo-600",children:i.jsx(Ni,{className:"h-5 w-5"})}),i.jsx(gg,{cartItemCount:l,items:n,total:s,isMobile:!0}),i.jsxs(qt.Button,{className:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[i.jsx("span",{className:"sr-only",children:"Open main menu"}),d?i.jsx(Nk,{className:"block h-6 w-6","aria-hidden":"true"}):i.jsx(nk,{className:"block h-6 w-6","aria-hidden":"true"})]})]})]})}),i.jsx(e5,{navigation:c,isCurrentPath:u,user:t,signOut:r})]})})}function gP(){const{t:e,language:t}=ne(),r=new Date().getFullYear(),n=t==="ar"?"rtl text-right":"";return i.jsx("footer",{className:`bg-white border-t ${n}`,children:i.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs(ue,{to:"/",className:"flex items-center",children:[i.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-2",children:[i.jsx("rect",{width:"40",height:"40",rx:"8",fill:"url(#paint0_linear)"}),i.jsx("path",{d:"M10 25C10 22.2386 12.2386 20 15 20H25C27.7614 20 30 22.2386 30 25V28C30 29.1046 29.1046 30 28 30H12C10.8954 30 10 29.1046 10 28V25Z",fill:"white"}),i.jsx("circle",{cx:"15",cy:"25",r:"2",fill:"#3B82F6"}),i.jsx("circle",{cx:"25",cy:"25",r:"2",fill:"#3B82F6"}),i.jsx("path",{d:"M11 18L15 10H25L29 18",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"paint0_linear",x1:"0",y1:"0",x2:"40",y2:"40",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#3B82F6"}),i.jsx("stop",{offset:"1",stopColor:"#1E40AF"})]})})]}),i.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-blue-500 bg-clip-text text-transparent",children:e("brandName")})]}),i.jsx("p",{className:"text-gray-500 text-sm",children:e("carDescription")})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:e("quickLinks")}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(ue,{to:"/",className:"text-gray-500 hover:text-gray-700 text-sm",children:e("home")})}),i.jsx("li",{children:i.jsx(ue,{to:"/categories",className:"text-gray-500 hover:text-gray-700 text-sm",children:e("models")})}),i.jsx("li",{children:i.jsx(ue,{to:"/shops",className:"text-gray-500 hover:text-gray-700 text-sm",children:e("shops")})}),i.jsx("li",{children:i.jsx(ue,{to:"/terms",className:"text-gray-500 hover:text-gray-700 text-sm",children:e("termsAndConditions")})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:e("customerService")}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(ue,{to:"/contact",className:"text-gray-500 hover:text-gray-700 text-sm",children:e("contactUs")})}),i.jsx("li",{children:i.jsx(ue,{to:"/faq",className:"text-gray-500 hover:text-gray-700 text-sm",children:e("faq")})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:e("connectWithUs")}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[i.jsx("span",{className:"sr-only",children:"Facebook"}),i.jsx("svg",{className:`h-6 w-6 ${t==="ar"?"no-flip":""}`,fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),i.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[i.jsx("span",{className:"sr-only",children:"Instagram"}),i.jsx("svg",{className:`h-6 w-6 ${t==="ar"?"no-flip":""}`,fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),i.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[i.jsx("span",{className:"sr-only",children:"Twitter"}),i.jsx("svg",{className:`h-6 w-6 ${t==="ar"?"no-flip":""}`,fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]})]})]}),i.jsx("div",{className:"mt-8 pt-8 border-t border-gray-100",children:i.jsxs("p",{className:"text-gray-400 text-sm text-center",children:[" ",r," ",e("brandName"),". ",e("allRightsReserved"),"."]})})]})})}function Sy(e){const[t,r]=h.useState({products:[],shops:[],carModels:[],loading:!1,error:null});return h.useEffect(()=>{async function n(){if(!e.trim()){r({products:[],shops:[],carModels:[],loading:!1,error:null});return}r(o=>({...o,loading:!0,error:null}));try{const{data:o,error:a}=await Y.from("products").select(`
            *,
            categories (name),
            product_car_models (
              car_models (
                make,
                model,
                year_start,
                year_end
              )
            )
          `).ilike("name",`%${e}%`).eq("status","active").order("name").limit(5);if(a)throw a;const{data:l,error:c}=await Y.from("shops").select(`
            *,
            shop_categories (
              categories (name)
            )
          `).ilike("name",`%${e}%`).order("name").limit(5);if(c)throw c;const{data:u,error:f}=await Y.from("car_models").select("*").or(`make.ilike.%${e}%,model.ilike.%${e}%`).order("make",{ascending:!0}).order("model",{ascending:!0}).limit(5);if(f)throw f;r({products:o.map(d=>{var m,p;return{id:d.id,shopId:d.shop_id,name:d.name,description:d.description||"",price:d.price,image:d.image||"https://via.placeholder.com/500",category:((m=d.categories)==null?void 0:m.name)||"Uncategorized",compatibility:((p=d.product_car_models)==null?void 0:p.map(w=>{const g=w.car_models;return`${g.make} ${g.model} (${g.year_start}${g.year_end?`-${g.year_end}`:"+"})`}))||[],stock:d.stock}}),shops:l.map(d=>{var m;return{id:d.id,name:d.name,description:d.description||"",logo:d.logo||"https://via.placeholder.com/500",categories:((m=d.shop_categories)==null?void 0:m.map(p=>{var w;return(w=p.categories)==null?void 0:w.name}).filter(p=>!!p))||[],rating:d.rating||0,reviewCount:d.review_count||0}}),carModels:u.map(d=>({id:d.id,make:d.make,model:d.model,yearStart:d.year_start,yearEnd:d.year_end||void 0})),loading:!1,error:null})}catch(o){r(a=>({...a,loading:!1,error:o instanceof Error?o:new Error("Failed to perform search")}))}}const s=setTimeout(n,300);return()=>clearTimeout(s)},[e]),t}const vP=({searchQuery:e,searchLoading:t,searchProducts:r,searchShops:n,searchCarModels:s,handleSearch:o})=>{const{t:a}=ne(),l=$e(),c=(u,f)=>{l(`/products?make=${encodeURIComponent(u)}&model=${encodeURIComponent(f)}`)};return e?i.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-lg shadow-xl overflow-hidden z-[200]",children:t?i.jsx("div",{className:"p-4 text-center text-gray-500",children:a("searching")}):i.jsxs(i.Fragment,{children:[s.length>0&&i.jsxs("div",{className:"border-b",children:[i.jsx("div",{className:"p-2 bg-gray-50 text-sm font-medium text-gray-700",children:a("carModels")}),s.slice(0,3).map(u=>i.jsxs("div",{className:"p-4 hover:bg-gray-50 cursor-pointer flex items-center",onClick:()=>c(u.make,u.model),children:[i.jsx("div",{className:"mr-3 rounded-full p-2 bg-indigo-100",children:i.jsx(gy,{className:"h-4 w-4 text-indigo-600"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium",children:[u.make," ",u.model]}),i.jsxs("div",{className:"text-sm text-gray-500",children:[u.yearStart,u.yearEnd?` - ${u.yearEnd}`:"+"]})]})]},u.id))]}),n.length>0&&i.jsxs("div",{className:"border-b",children:[i.jsx("div",{className:"p-2 bg-gray-50 text-sm font-medium text-gray-700",children:a("shops")}),n.slice(0,3).map(u=>i.jsxs("div",{className:"p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>l(`/shops/${u.id}`),children:[i.jsx("div",{className:"font-medium",children:u.name}),i.jsx("div",{className:"text-sm text-gray-500",children:u.description})]},u.id))]}),r.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"p-2 bg-gray-50 text-sm font-medium text-gray-700",children:a("products")}),r.slice(0,3).map(u=>i.jsxs("div",{className:"p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>l(`/shops/${u.shopId}?product=${u.id}`),children:[i.jsx("div",{className:"font-medium",children:u.name}),i.jsxs("div",{className:"text-sm text-gray-500",children:[u.price.toFixed(2)," EGP"]})]},u.id))]}),e&&(r.length>3||n.length>3||s.length>3)&&i.jsx("button",{onClick:o,className:"w-full p-3 text-center text-sm text-indigo-600 hover:bg-gray-50",children:a("viewAllResults")}),e&&!r.length&&!n.length&&!s.length&&i.jsxs("div",{className:"p-4 text-center text-gray-500",children:[a("noResults"),' "',e,'"']})]})}):null},xP=()=>{const{t:e}=ne(),t=$e(),[r,n]=h.useState(""),{products:s,shops:o,carModels:a,loading:l}=Sy(r),c=u=>{u.preventDefault(),r.trim()&&t(`/search?q=${encodeURIComponent(r.trim())}`)};return i.jsxs("form",{onSubmit:c,className:"relative max-w-2xl mx-auto",children:[i.jsx("input",{type:"text",value:r,onChange:u=>n(u.target.value),placeholder:e("searchPlaceholder"),className:"w-full rounded-full border-2 border-indigo-200 pl-12 pr-4 py-4 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-lg text-lg"}),i.jsx($i,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-6 w-6 text-indigo-400"}),i.jsx("div",{className:"absolute w-full z-[200]",children:i.jsx(vP,{searchQuery:r,searchLoading:l,searchProducts:s,searchShops:o,searchCarModels:a,handleSearch:c})})]})},yP=()=>{const{t:e}=ne();return i.jsxs("div",{className:"relative isolate mb-32",children:[i.jsx("div",{className:"absolute inset-x-0 -top-40 -z-10 transform-gpu overflow-hidden blur-3xl sm:-top-80",children:i.jsx("div",{className:"relative left-[calc(50%-11rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 rotate-[30deg] bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-20 sm:left-[calc(50%-30rem)] sm:w-[72.1875rem]"})}),i.jsx("div",{className:"mx-auto max-w-7xl px-6 py-24 sm:py-20 lg:px-8",children:i.jsxs("div",{className:"mx-auto max-w-2xl text-center",children:[i.jsx("h1",{className:"text-4xl font-bold tracking-tight text-gray-900 sm:text-6xl",children:e("findPerfectParts")}),i.jsx("p",{className:"mt-6 text-lg leading-8 text-gray-600",children:e("browseThousands")})]})}),i.jsx("div",{className:"absolute inset-x-0 top-[calc(100%-13rem)] -z-10 transform-gpu overflow-hidden blur-3xl sm:top-[calc(100%-30rem)]",children:i.jsx("div",{className:"relative left-[calc(50%+3rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-20 sm:left-[calc(50%+36rem)] sm:w-[72.1875rem]"})}),i.jsx("div",{className:"relative z-20 mb-12",children:i.jsx(xP,{})})]})};function mc(){const[e,t]=h.useState([]),[r,n]=h.useState(!0),[s,o]=h.useState(null);return h.useEffect(()=>{async function a(){try{const{data:l,error:c}=await Y.from("categories").select("*").order("name");if(c)throw c;t(l.map(u=>({id:u.id,name:u.name,icon:u.icon})))}catch(l){o(l instanceof Error?l:new Error("Failed to fetch categories"))}finally{n(!1)}}a()},[]),{categories:e,loading:r,error:s}}function _y(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=_y(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ky(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=_y(e))&&(n&&(n+=" "),n+=t);return n}const Ah="-",wP=e=>{const t=jP(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(Ah);return l[0]===""&&l.length!==1&&l.shift(),Cy(l,t)||bP(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},Cy=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Cy(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Ah);return(a=t.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},bg=/^\[(.+)\]$/,bP=e=>{if(bg.test(e)){const t=bg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},jP=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const s in r)Kd(r[s],n,s,t);return n},Kd=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:jg(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(NP(s)){Kd(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,a])=>{Kd(a,jg(t,o),r,n)})})},jg=(e,t)=>{let r=e;return t.split(Ah).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},NP=e=>e.isThemeGetter,SP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,a)=>{r.set(o,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return s(o,a),a},set(o,a){r.has(o)?r.set(o,a):s(o,a)}}},Qd="!",Xd=":",_P=Xd.length,kP=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=s=>{const o=[];let a=0,l=0,c=0,u;for(let w=0;w<s.length;w++){let g=s[w];if(a===0&&l===0){if(g===Xd){o.push(s.slice(c,w)),c=w+_P;continue}if(g==="/"){u=w;continue}}g==="["?a++:g==="]"?a--:g==="("?l++:g===")"&&l--}const f=o.length===0?s:s.substring(c),d=CP(f),m=d!==f,p=u&&u>c?u-c:void 0;return{modifiers:o,hasImportantModifier:m,baseClassName:d,maybePostfixModifierPosition:p}};if(t){const s=t+Xd,o=n;n=a=>a.startsWith(s)?o(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){const s=n;n=o=>r({className:o,parseClassName:s})}return n},CP=e=>e.endsWith(Qd)?e.substring(0,e.length-1):e.startsWith(Qd)?e.substring(1):e,EP=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const s=[];let o=[];return n.forEach(a=>{a[0]==="["||t[a]?(s.push(...o.sort(),a),o=[]):o.push(a)}),s.push(...o.sort()),s}},PP=e=>({cache:SP(e.cacheSize),parseClassName:kP(e),sortModifiers:EP(e),...wP(e)}),AP=/\s+/,TP=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:o}=t,a=[],l=e.trim().split(AP);let c="";for(let u=l.length-1;u>=0;u-=1){const f=l[u],{isExternal:d,modifiers:m,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:g}=r(f);if(d){c=f+(c.length>0?" "+c:c);continue}let x=!!g,y=n(x?w.substring(0,g):w);if(!y){if(!x){c=f+(c.length>0?" "+c:c);continue}if(y=n(w),!y){c=f+(c.length>0?" "+c:c);continue}x=!1}const v=o(m).join(":"),b=p?v+Qd:v,j=b+y;if(a.includes(j))continue;a.push(j);const N=s(y,x);for(let S=0;S<N.length;++S){const _=N[S];a.push(b+_)}c=f+(c.length>0?" "+c:c)}return c};function RP(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Ey(t))&&(n&&(n+=" "),n+=r);return n}const Ey=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Ey(e[n]))&&(r&&(r+=" "),r+=t);return r};function OP(e,...t){let r,n,s,o=a;function a(c){const u=t.reduce((f,d)=>d(f),e());return r=PP(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=TP(c,r);return s(c,f),f}return function(){return o(RP.apply(null,arguments))}}const Ue=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Py=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ay=/^\((?:(\w[\w-]*):)?(.+)\)$/i,IP=/^\d+\/\d+$/,DP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,MP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$P=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,FP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,js=e=>IP.test(e),me=e=>!!e&&!Number.isNaN(Number(e)),Ln=e=>!!e&&Number.isInteger(Number(e)),Ng=e=>e.endsWith("%")&&me(e.slice(0,-1)),Gr=e=>DP.test(e),zP=()=>!0,BP=e=>MP.test(e)&&!$P.test(e),Th=()=>!1,UP=e=>LP.test(e),WP=e=>FP.test(e),HP=e=>!V(e)&&!G(e),qP=e=>bo(e,Oy,Th),V=e=>Py.test(e),Fn=e=>bo(e,Iy,BP),bu=e=>bo(e,r3,me),VP=e=>bo(e,Ty,Th),GP=e=>bo(e,Ry,WP),YP=e=>bo(e,Th,UP),G=e=>Ay.test(e),va=e=>jo(e,Iy),KP=e=>jo(e,n3),QP=e=>jo(e,Ty),XP=e=>jo(e,Oy),JP=e=>jo(e,Ry),ZP=e=>jo(e,s3,!0),bo=(e,t,r)=>{const n=Py.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},jo=(e,t,r=!1)=>{const n=Ay.exec(e);return n?n[1]?t(n[1]):r:!1},Ty=e=>e==="position",e3=new Set(["image","url"]),Ry=e=>e3.has(e),t3=new Set(["length","size","percentage"]),Oy=e=>t3.has(e),Iy=e=>e==="length",r3=e=>e==="number",n3=e=>e==="family-name",s3=e=>e==="shadow",o3=()=>{const e=Ue("color"),t=Ue("font"),r=Ue("text"),n=Ue("font-weight"),s=Ue("tracking"),o=Ue("leading"),a=Ue("breakpoint"),l=Ue("container"),c=Ue("spacing"),u=Ue("radius"),f=Ue("shadow"),d=Ue("inset-shadow"),m=Ue("drop-shadow"),p=Ue("blur"),w=Ue("perspective"),g=Ue("aspect"),x=Ue("ease"),y=Ue("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],S=()=>[G,V,c],_=()=>[js,"full","auto",...S()],C=()=>[Ln,"none","subgrid",G,V],z=()=>["auto",{span:["full",Ln,G,V]},G,V],O=()=>[Ln,"auto",G,V],H=()=>["auto","min","max","fr",G,V],K=()=>["start","end","center","between","around","evenly","stretch","baseline"],D=()=>["start","end","center","stretch"],R=()=>["auto",...S()],M=()=>[js,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],P=()=>[e,G,V],B=()=>[Ng,Fn],k=()=>["","none","full",u,G,V],A=()=>["",me,va,Fn],F=()=>["solid","dashed","dotted","double"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["","none",p,G,V],Q=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",G,V],X=()=>["none",me,G,V],de=()=>["none",me,G,V],J=()=>[me,G,V],E=()=>[js,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Gr],breakpoint:[Gr],color:[zP],container:[Gr],"drop-shadow":[Gr],ease:["in","out","in-out"],font:[HP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Gr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Gr],shadow:[Gr],spacing:["px",me],text:[Gr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",js,V,G,g]}],container:["container"],columns:[{columns:[me,V,G,l]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...b(),V,G]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{start:_()}],end:[{end:_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[Ln,"auto",G,V]}],basis:[{basis:[js,"full","auto",l,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[me,js,"auto","initial","none",V]}],grow:[{grow:["",me,G,V]}],shrink:[{shrink:["",me,G,V]}],order:[{order:[Ln,"first","last","none",G,V]}],"grid-cols":[{"grid-cols":C()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":C()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":H()}],"auto-rows":[{"auto-rows":H()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...K(),"normal"]}],"justify-items":[{"justify-items":[...D(),"normal"]}],"justify-self":[{"justify-self":["auto",...D()]}],"align-content":[{content:["normal",...K()]}],"align-items":[{items:[...D(),"baseline"]}],"align-self":[{self:["auto",...D(),"baseline"]}],"place-content":[{"place-content":K()}],"place-items":[{"place-items":[...D(),"baseline"]}],"place-self":[{"place-self":["auto",...D()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:M()}],w:[{w:[l,"screen",...M()]}],"min-w":[{"min-w":[l,"screen","none",...M()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...M()]}],h:[{h:["screen",...M()]}],"min-h":[{"min-h":["screen","none",...M()]}],"max-h":[{"max-h":["screen",...M()]}],"font-size":[{text:["base",r,va,Fn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,G,bu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ng,V]}],"font-family":[{font:[KP,V,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,G,V]}],"line-clamp":[{"line-clamp":[me,"none",G,bu]}],leading:[{leading:[o,...S()]}],"list-image":[{"list-image":["none",G,V]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",G,V]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:[me,"from-font","auto",G,Fn]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[me,"auto",G,V]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",G,V]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",G,V]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...b(),QP,VP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",XP,qP]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ln,G,V],radial:["",G,V],conic:[Ln,G,V]},JP,GP]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:k()}],"rounded-s":[{"rounded-s":k()}],"rounded-e":[{"rounded-e":k()}],"rounded-t":[{"rounded-t":k()}],"rounded-r":[{"rounded-r":k()}],"rounded-b":[{"rounded-b":k()}],"rounded-l":[{"rounded-l":k()}],"rounded-ss":[{"rounded-ss":k()}],"rounded-se":[{"rounded-se":k()}],"rounded-ee":[{"rounded-ee":k()}],"rounded-es":[{"rounded-es":k()}],"rounded-tl":[{"rounded-tl":k()}],"rounded-tr":[{"rounded-tr":k()}],"rounded-br":[{"rounded-br":k()}],"rounded-bl":[{"rounded-bl":k()}],"border-w":[{border:A()}],"border-w-x":[{"border-x":A()}],"border-w-y":[{"border-y":A()}],"border-w-s":[{"border-s":A()}],"border-w-e":[{"border-e":A()}],"border-w-t":[{"border-t":A()}],"border-w-r":[{"border-r":A()}],"border-w-b":[{"border-b":A()}],"border-w-l":[{"border-l":A()}],"divide-x":[{"divide-x":A()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":A()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...F(),"hidden","none"]}],"divide-style":[{divide:[...F(),"hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:[...F(),"none","hidden"]}],"outline-offset":[{"outline-offset":[me,G,V]}],"outline-w":[{outline:["",me,va,Fn]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",f,ZP,YP]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",G,V,d]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[me,Fn]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":A()}],"inset-ring-color":[{"inset-ring":P()}],opacity:[{opacity:[me,G,V]}],"mix-blend":[{"mix-blend":[...$(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none",G,V]}],blur:[{blur:U()}],brightness:[{brightness:[me,G,V]}],contrast:[{contrast:[me,G,V]}],"drop-shadow":[{"drop-shadow":["","none",m,G,V]}],grayscale:[{grayscale:["",me,G,V]}],"hue-rotate":[{"hue-rotate":[me,G,V]}],invert:[{invert:["",me,G,V]}],saturate:[{saturate:[me,G,V]}],sepia:[{sepia:["",me,G,V]}],"backdrop-filter":[{"backdrop-filter":["","none",G,V]}],"backdrop-blur":[{"backdrop-blur":U()}],"backdrop-brightness":[{"backdrop-brightness":[me,G,V]}],"backdrop-contrast":[{"backdrop-contrast":[me,G,V]}],"backdrop-grayscale":[{"backdrop-grayscale":["",me,G,V]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[me,G,V]}],"backdrop-invert":[{"backdrop-invert":["",me,G,V]}],"backdrop-opacity":[{"backdrop-opacity":[me,G,V]}],"backdrop-saturate":[{"backdrop-saturate":[me,G,V]}],"backdrop-sepia":[{"backdrop-sepia":["",me,G,V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",G,V]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[me,"initial",G,V]}],ease:[{ease:["linear","initial",x,G,V]}],delay:[{delay:[me,G,V]}],animate:[{animate:["none",y,G,V]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,G,V]}],"perspective-origin":[{"perspective-origin":Q()}],rotate:[{rotate:X()}],"rotate-x":[{"rotate-x":X()}],"rotate-y":[{"rotate-y":X()}],"rotate-z":[{"rotate-z":X()}],scale:[{scale:de()}],"scale-x":[{"scale-x":de()}],"scale-y":[{"scale-y":de()}],"scale-z":[{"scale-z":de()}],"scale-3d":["scale-3d"],skew:[{skew:J()}],"skew-x":[{"skew-x":J()}],"skew-y":[{"skew-y":J()}],transform:[{transform:[G,V,"","none","gpu","cpu"]}],"transform-origin":[{origin:Q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:E()}],"translate-x":[{"translate-x":E()}],"translate-y":[{"translate-y":E()}],"translate-z":[{"translate-z":E()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",G,V]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",G,V]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[me,va,Fn,bu]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},i3=OP(o3);function ee(...e){return i3(ky(e))}function Vn(e,t="EGP"){return`${e.toFixed(2)} ${t}`}const le=h.forwardRef(({className:e,type:t,icon:r,...n},s)=>i.jsxs("div",{className:"relative w-full",children:[r&&i.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:r}),i.jsx("input",{type:t,className:ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r&&"pl-10",e),ref:s,...n})]}));le.displayName="Input";function Dy({category:e}){return i.jsxs(ue,{to:`/products?category=${encodeURIComponent(e.name)}`,className:"group relative bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[i.jsx("div",{className:"aspect-square w-full overflow-hidden",children:i.jsx("img",{src:e.icon,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),i.jsx("div",{className:"p-4",children:i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name})})]})}function Sg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function My(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Sg(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Sg(e[s],null)}}}}function Se(...e){return h.useCallback(My(...e),e)}var ss=h.forwardRef((e,t)=>{const{children:r,...n}=e,s=h.Children.toArray(r),o=s.find(a3);if(o){const a=o.props.children,l=s.map(c=>c===o?h.Children.count(a)>1?h.Children.only(null):h.isValidElement(a)?a.props.children:null:c);return i.jsx(Jd,{...n,ref:t,children:h.isValidElement(a)?h.cloneElement(a,void 0,l):null})}return i.jsx(Jd,{...n,ref:t,children:r})});ss.displayName="Slot";var Jd=h.forwardRef((e,t)=>{const{children:r,...n}=e;if(h.isValidElement(r)){const s=c3(r),o=l3(n,r.props);return r.type!==h.Fragment&&(o.ref=t?My(t,s):s),h.cloneElement(r,o)}return h.Children.count(r)>1?h.Children.only(null):null});Jd.displayName="SlotClone";var $y=({children:e})=>i.jsx(i.Fragment,{children:e});function a3(e){return h.isValidElement(e)&&e.type===$y}function l3(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function c3(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const _g=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,kg=ky,pc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return kg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,a=Object.keys(s).map(u=>{const f=r==null?void 0:r[u],d=o==null?void 0:o[u];if(f===null)return null;const m=_g(f)||_g(d);return s[u][m]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,m]=f;return m===void 0||(u[d]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:m,...p}=f;return Object.entries(p).every(w=>{let[g,x]=w;return Array.isArray(x)?x.includes({...o,...l}[g]):{...o,...l}[g]===x})?[...u,d,m]:u},[]);return kg(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)},gc=pc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const a=n?ss:"button";return i.jsx(a,{className:ee(gc({variant:t,size:r,className:e})),ref:o,...s})});te.displayName="Button";const vc=({className:e,...t})=>i.jsx("nav",{role:"navigation","aria-label":"pagination",className:ee("mx-auto flex w-full justify-center",e),...t});vc.displayName="Pagination";const xc=h.forwardRef(({className:e,...t},r)=>i.jsx("ul",{ref:r,className:ee("flex flex-row items-center gap-1",e),...t}));xc.displayName="PaginationContent";const mt=h.forwardRef(({className:e,...t},r)=>i.jsx("li",{ref:r,className:ee("",e),...t}));mt.displayName="PaginationItem";const yn=({className:e,isActive:t,size:r="icon",...n})=>i.jsx("a",{"aria-current":t?"page":void 0,className:ee(gc({variant:t?"outline":"ghost",size:r}),e),...n});yn.displayName="PaginationLink";const yc=({className:e,...t})=>i.jsxs(yn,{"aria-label":"Go to previous page",size:"default",className:ee("gap-1 pl-2.5",e),...t,children:[i.jsx(xy,{className:"h-4 w-4"}),i.jsx("span",{children:"Previous"})]});yc.displayName="PaginationPrevious";const wc=({className:e,...t})=>i.jsxs(yn,{"aria-label":"Go to next page",size:"default",className:ee("gap-1 pr-2.5",e),...t,children:[i.jsx("span",{children:"Next"}),i.jsx(p5,{className:"h-4 w-4"})]});wc.displayName="PaginationNext";const Zd=({className:e,...t})=>i.jsxs("span",{"aria-hidden":!0,className:ee("flex h-9 w-9 items-center justify-center",e),...t,children:[i.jsx(E5,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"More pages"})]});Zd.displayName="PaginationEllipsis";const Rh=({currentPage:e,totalPages:t,setPage:r})=>{const n=()=>{const s=[];s.push(i.jsx(mt,{children:i.jsx(yn,{isActive:e===1,onClick:()=>r(1),className:"cursor-pointer",children:"1"})},"first")),e>3&&s.push(i.jsx(mt,{children:i.jsx(Zd,{})},"ellipsis-start"));for(let o=Math.max(2,e-1);o<=Math.min(t-1,e+1);o++)o<=1||o>=t||s.push(i.jsx(mt,{children:i.jsx(yn,{isActive:e===o,onClick:()=>r(o),className:"cursor-pointer",children:o})},o));return e<t-2&&s.push(i.jsx(mt,{children:i.jsx(Zd,{})},"ellipsis-end")),t>1&&s.push(i.jsx(mt,{children:i.jsx(yn,{isActive:e===t,onClick:()=>r(t),className:"cursor-pointer",children:t})},"last")),s};return t<=1?null:i.jsx("div",{className:"mt-8",children:i.jsx(vc,{children:i.jsxs(xc,{children:[i.jsx(mt,{children:i.jsx(yc,{onClick:()=>r(Math.max(e-1,1)),className:`cursor-pointer ${e===1?"pointer-events-none opacity-50":""}`})}),n(),i.jsx(mt,{children:i.jsx(wc,{onClick:()=>r(Math.min(e+1,t)),className:`cursor-pointer ${e===t?"pointer-events-none opacity-50":""}`})})]})})})},u3=()=>{const{t:e}=ne(),t=$e(),{categories:r,loading:n}=mc(),[s,o]=h.useState(1),a=5,[l,c]=h.useState(""),u=l?r.filter(x=>x.name.toLowerCase().includes(l.toLowerCase())):r,f=Math.ceil(u.length/a),d=s*a,m=d-a,p=u.slice(m,d),w=()=>{t("/categories")},g=x=>{c(x.target.value),o(1)};return i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8 relative",children:[i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4 md:mb-0",children:e("browseModels")}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 relative",children:[i.jsxs("div",{className:"relative",children:[i.jsx(le,{type:"text",placeholder:e("searchCategories"),value:l,onChange:g,className:"pl-10 pr-4 py-2"}),i.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),i.jsxs("button",{onClick:w,className:"flex items-center text-indigo-600 hover:text-indigo-800",children:[e("viewAll"),i.jsx(Vs,{className:"ml-1 h-4 w-4"})]})]})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:n?i.jsx("div",{className:"col-span-full text-center py-12",children:e("loadingShops")}):p.length>0?p.map(x=>i.jsx(Dy,{category:x},x.id)):i.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:e("noCategoriesFound")})}),i.jsx(Rh,{currentPage:s,totalPages:f,setPage:o})]})};function Ly(){const[e,t]=h.useState([]),[r,n]=h.useState(!0),[s,o]=h.useState(null);return h.useEffect(()=>{async function a(){try{const{data:l,error:c}=await Y.from("shops").select(`
            *,
            shop_categories (
              categories (
                name
              )
            )
          `).order("id",{ascending:!1});if(c)throw c;const u=[...l].sort(()=>Math.random()-.5);t(u.map(f=>{var d;return{id:f.id,name:f.name,description:f.description||"",logo:f.logo||"https://via.placeholder.com/500",categories:((d=f.shop_categories)==null?void 0:d.map(m=>{var p;return(p=m.categories)==null?void 0:p.name}).filter(m=>!!m))||[],rating:f.rating||0,reviewCount:f.review_count||0}}))}catch(l){o(l instanceof Error?l:new Error("Failed to fetch shops"))}finally{n(!1)}}a()},[]),{shops:e,loading:r,error:s}}function bc({shop:e}){return i.jsxs(ue,{to:`/shops/${e.id}`,className:"group bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[i.jsx("div",{className:"aspect-video w-full overflow-hidden bg-gray-200",children:i.jsx("img",{src:e.logo,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(e.rating??0)>0&&i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-yellow-400",children:""}),i.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:[(e.rating??0).toFixed(1)," (",e.reviewCount??0,")"]})]})]}),i.jsx("p",{className:"text-sm text-gray-500 mb-3",children:e.description}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.categories.map(t=>i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-50 text-indigo-700",children:t},t))})]})]})}const d3=()=>{const{t:e}=ne(),t=$e(),{shops:r,loading:n}=Ly(),[s,o]=h.useState(1),a=5,[l,c]=h.useState(""),u=l?r.filter(w=>w.name.toLowerCase().includes(l.toLowerCase())||w.description.toLowerCase().includes(l.toLowerCase())):r,f=Math.ceil(u.length/a),d=s*a,m=d-a,p=u.slice(m,d);return i.jsx("div",{className:"bg-white py-16 mt-16",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4 md:mb-0",children:e("browseShops")}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(le,{type:"text",placeholder:e("searchShops"),value:l,onChange:w=>c(w.target.value),className:"pl-10 pr-4 py-2"}),i.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),i.jsxs("button",{onClick:()=>t("/shops"),className:"flex items-center text-indigo-600 hover:text-indigo-800",children:[e("viewAll"),i.jsx(Vs,{className:"ml-1 h-4 w-4"})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:n?i.jsx("div",{className:"col-span-full text-center py-12",children:e("loadingShops")}):p.length>0?p.map(w=>i.jsx(bc,{shop:w},w.id)):i.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:e("noShopsFound")})}),i.jsx(Rh,{currentPage:s,totalPages:f,setPage:o})]})})};function Fy(){const[e,t]=h.useState([]),[r,n]=h.useState(!0),[s,o]=h.useState(null);return h.useEffect(()=>{async function a(){try{const{data:l,error:c}=await Y.from("products").select(`
            *,
            categories (name),
            product_car_models (
              car_models (
                make,
                model,
                year_start,
                year_end
              )
            )
          `).eq("status","active");if(c)throw c;const u=[...l].sort(()=>Math.random()-.5);t(u.map(f=>{var d,m;return{id:f.id,shopId:f.shop_id,name:f.name,description:f.description||"",price:f.price,image:f.image||"https://via.placeholder.com/500",category:((d=f.categories)==null?void 0:d.name)||"Uncategorized",compatibility:((m=f.product_car_models)==null?void 0:m.map(p=>{const w=p.car_models;return`${w.make} ${w.model} (${w.year_start}${w.year_end?`-${w.year_end}`:"+"})`}))||[],stock:f.stock}}))}catch(l){o(l instanceof Error?l:new Error("Failed to fetch products"))}finally{n(!1)}}a()},[]),{products:e,loading:r,error:s}}function Oh({product:e}){const{items:t,addItem:r,removeItem:n,updateQuantity:s}=hs(),{t:o,language:a}=ne(),l=$e(),c=t.find(p=>p.product.id===e.id),u=a==="ar",f=()=>{l(`/products/${e.id}`)},d=()=>{if(e.stock<=0){W.error(o("outOfStock"));return}if(c&&c.quantity>=e.stock){W.error(`${o("maxStockReached")}: ${e.stock}`);return}r(e)},m=()=>{if(c){if(c.quantity>=e.stock){W.error(`${o("maxStockReached")}: ${e.stock}`);return}s(e.id,c.quantity+1)}};return i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 flex flex-col h-[420px]",children:[i.jsx("div",{className:"aspect-square w-full overflow-hidden bg-gray-200 cursor-pointer",onClick:f,children:i.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),i.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2 h-14",children:e.name}),i.jsx("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2 h-10",children:e.description}),i.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[i.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[e.price.toFixed(2)," EGP"]}),i.jsx("span",{className:`text-sm ${e.stock>0?"text-green-600":"text-red-600"}`,children:e.stock>0?`${e.stock} ${o("inStock")}`:o("outOfStock")})]}),i.jsx("div",{className:"mt-auto pt-3",children:e.stock>0&&(c?i.jsxs("div",{className:"flex items-center justify-between gap-1 w-full",children:[i.jsx("button",{onClick:()=>s(e.id,Math.max(0,c.quantity-1)),className:"flex-1 flex items-center justify-center px-2 py-2 rounded-md text-sm font-medium bg-gray-100 text-gray-800 hover:bg-gray-200",children:i.jsx(Ph,{className:"h-4 w-4"})}),i.jsx("span",{className:"text-lg font-medium text-gray-900 px-2",children:c.quantity}),i.jsx("button",{onClick:m,className:"flex-1 flex items-center justify-center px-2 py-2 rounded-md text-sm font-medium bg-gray-100 text-gray-800 hover:bg-gray-200",children:i.jsx(co,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>n(e.id),className:"flex items-center justify-center px-3 py-2 rounded-md text-sm font-medium bg-red-100 text-red-600 hover:bg-red-200","aria-label":o("remove"),children:i.jsx(hc,{className:"h-4 w-4"})})]}):i.jsxs("button",{onClick:d,className:"w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700",children:[i.jsx(co,{className:`h-5 w-5 ${u?"ml-2":"mr-2"}`}),o("addToCart")]}))})]})]})}const f3=()=>{const{t:e}=ne(),t=$e(),{products:r,loading:n}=Fy(),[s,o]=h.useState(1),a=5,[l,c]=h.useState(""),u=l?r.filter(w=>w.name.toLowerCase().includes(l.toLowerCase())||w.description.toLowerCase().includes(l.toLowerCase())):r,f=Math.ceil(u.length/a),d=s*a,m=d-a,p=u.slice(m,d);return i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4 md:mb-0",children:e("browseProducts")}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(le,{type:"text",placeholder:e("searchProducts"),value:l,onChange:w=>c(w.target.value),className:"pl-10 pr-4 py-2"}),i.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),i.jsxs("button",{onClick:()=>t("/products"),className:"flex items-center text-indigo-600 hover:text-indigo-800",children:[e("viewAll"),i.jsx(Vs,{className:"ml-1 h-4 w-4"})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:n?i.jsx("div",{className:"col-span-full text-center py-12",children:e("loadingProducts")}):p.length>0?p.map(w=>i.jsx(Oh,{product:w},w.id)):i.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:e("noProductsFound")})}),i.jsx(Rh,{currentPage:s,totalPages:f,setPage:o})]})};function h3(){const{t:e}=ne();return i.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20",children:[i.jsx("div",{className:"relative z-20",children:i.jsx(yP,{})}),i.jsx("div",{className:"mt-20 relative z-10",children:i.jsx(u3,{})}),i.jsx("div",{className:"mt-16",children:i.jsx(d3,{})}),i.jsx("div",{className:"mt-16",children:i.jsx(f3,{})})]})}function m3(){const{t:e}=ne(),{categories:t,loading:r}=mc(),[n,s]=h.useState(""),o=n?t.filter(a=>a.name.toLowerCase().includes(n.toLowerCase())):t;return i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4 md:mb-0",children:e("allCategories")}),i.jsxs("div",{className:"relative w-full md:w-64",children:[i.jsx(le,{type:"text",placeholder:e("searchCategories"),value:n,onChange:a=>s(a.target.value),className:"pl-10 pr-4 py-2 w-full"}),i.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})]}),r?i.jsx("div",{className:"text-center py-12",children:e("loadingShops")}):o.length>0?i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:o.map(a=>i.jsx(Dy,{category:a},a.id))}):i.jsx("div",{className:"text-center py-12 text-gray-500",children:e("noCategoriesFound")})]})}function p3(e){const[t,r]=h.useState([]),[n,s]=h.useState(null),[o,a]=h.useState(!0),[l,c]=h.useState(null);return h.useEffect(()=>{async function u(){try{const{data:f,error:d}=await Y.from("categories").select("*").eq("id",e).single();if(d)throw d;s({id:f.id,name:f.name,icon:f.icon});const{data:m,error:p}=await Y.from("shop_categories").select(`
            shops (
              id,
              name,
              description,
              logo,
              rating,
              review_count
            )
          `).eq("category_id",e);if(p)throw p;const w=m,g=Array.from(new Map(w.map(x=>x.shops).filter(x=>x!==null).map(x=>[x.id,{id:x.id,name:x.name,description:x.description||"",logo:x.logo||"https://via.placeholder.com/500",categories:[f.name],rating:x.rating||0,reviewCount:x.review_count||0}])).values());r(g)}catch(f){c(f instanceof Error?f:new Error("Failed to fetch shops"))}finally{a(!1)}}e&&u()},[e]),{shops:t,category:n,loading:o,error:l}}function g3(){const{categoryId:e}=Ql(),{shops:t,category:r,loading:n,error:s}=p3(e);return n?i.jsx("div",{className:"text-center py-12",children:"Loading shops..."}):s?i.jsxs("div",{className:"text-center py-12 text-red-600",children:["Error loading shops: ",s.message]}):r?i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[r.name," Shops"]}),i.jsxs("p",{className:"text-gray-600 mb-8",children:["Find the best shops for ",r.name]}),t.length===0?i.jsx("div",{className:"text-center py-12 text-gray-500",children:"No shops found for this category"}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>i.jsx(bc,{shop:o},o.id))})]}):i.jsx("div",{className:"text-center py-12",children:"Category not found"})}function v3(){const{t:e}=ne(),{shops:t,loading:r}=Ly(),{categories:n,loading:s}=mc(),[o,a]=h.useState(""),l=o?t.filter(c=>c.categories.includes(o)):t;return i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4 sm:mb-0",children:e("allShops")}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("label",{htmlFor:"category",className:"mr-2 text-sm font-medium text-gray-700",children:e("filterByModels")}),i.jsxs("select",{id:"category",value:o,onChange:c=>a(c.target.value),className:"rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[i.jsx("option",{value:"",children:e("allModels")}),n.map(c=>i.jsx("option",{value:c.name,children:c.name},c.id))]})]})]}),r||s?i.jsx("div",{className:"text-center py-12",children:e("loadingShops")}):l.length===0?i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e("noShopsFound")," ",o&&`${e("for")} ${o}`]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(c=>i.jsx(bc,{shop:c},c.id))})]})}function x3(e){const[t,r]=h.useState(null),[n,s]=h.useState([]),[o,a]=h.useState(!0),[l,c]=h.useState(null);return h.useEffect(()=>{async function u(){var f;try{const{data:d,error:m}=await Y.from("shops").select(`
            *,
            shop_categories (
              categories (name)
            )
          `).eq("id",e).single();if(m)throw m;const p=Array.from(new Set((f=d.shop_categories)==null?void 0:f.map(x=>{var y;return(y=x.categories)==null?void 0:y.name}).filter(x=>!!x)));r({id:d.id,name:d.name,description:d.description||"",logo:d.logo||"https://via.placeholder.com/500",categories:p,rating:d.rating||0,reviewCount:d.review_count||0});const{data:w,error:g}=await Y.from("products").select(`
            *,
            categories (name),
            product_car_models (
              car_models (
                make,
                model,
                year_start,
                year_end
              )
            )
          `).eq("shop_id",e).eq("status","active").order("created_at",{ascending:!1});if(g)throw g;s(w.map(x=>{var y,v;return{id:x.id,shopId:x.shop_id,name:x.name,description:x.description||"",price:x.price,image:x.image||"https://via.placeholder.com/500",category:((y=x.categories)==null?void 0:y.name)||"Uncategorized",compatibility:((v=x.product_car_models)==null?void 0:v.map(b=>{const j=b.car_models;return`${j.make} ${j.model} (${j.year_start}${j.year_end?`-${j.year_end}`:"+"})`}))||[],stock:x.stock}}))}catch(d){c(d instanceof Error?d:new Error("Failed to fetch shop details"))}finally{a(!1)}}u()},[e]),{shop:t,products:n,loading:o,error:l}}function y3(){const{t:e}=ne(),{shopId:t}=Ql(),{shop:r,products:n,loading:s}=x3(t),[o,a]=h.useState(""),l=h.useMemo(()=>{if(!o.trim())return n;const c=o.toLowerCase().trim();return(n==null?void 0:n.filter(u=>{var f,d,m;return u.name.toLowerCase().includes(c)||((f=u.description)==null?void 0:f.toLowerCase().includes(c))||((d=u.category)==null?void 0:d.toLowerCase().includes(c))||((m=u.price)==null?void 0:m.toString().includes(c))}))||[]},[n,o]);return s?i.jsx("div",{className:"text-center py-12",children:e("loadingShops")}):r?i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6",children:[r.logo&&i.jsx("img",{src:r.logo,alt:r.name,className:"w-32 h-32 object-cover rounded-lg"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.name}),r.description&&i.jsx("p",{className:"text-gray-600 mt-2",children:r.description}),r.categories&&r.categories.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:r.categories.map(c=>i.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800",children:c},c))})]})]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[e("products")," (",l.length,")"]}),i.jsxs("div",{className:"relative w-full sm:w-72",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(fc,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"text",placeholder:e("searchProducts"),value:o,onChange:c=>a(c.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]}),l.length===0?i.jsx("div",{className:"text-center py-12 text-gray-500",children:o.trim()?i.jsxs(i.Fragment,{children:[e("noProductsMatching"),' "',o,'" ',e("inThisShop")]}):i.jsx(i.Fragment,{children:e("noProductsAvailable")})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(c=>i.jsx(Oh,{product:c},c.id))})]}):i.jsx("div",{className:"text-center py-12 text-red-600",children:e("noShopsFound")})}const ju=768;function w3(){const[e,t]=h.useState(void 0);return h.useEffect(()=>{const r=window.matchMedia(`(max-width: ${ju-1}px)`),n=()=>{t(window.innerWidth<ju)};return r.addEventListener("change",n),t(window.innerWidth<ju),()=>r.removeEventListener("change",n)},[]),!!e}function b3(){const{t:e}=ne(),{items:t,removeItem:r,updateQuantity:n,total:s}=hs();return w3(),t.length===0?i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:e("emptyCart")}),i.jsx("p",{className:"mt-2 text-sm md:text-base text-gray-600",children:e("startShopping")}),i.jsx(ue,{to:"/",className:"mt-4 md:mt-6 inline-flex items-center px-3 py-1.5 md:px-4 md:py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:e("continueShopping")})]})}):i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-12",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4 md:mb-8",children:e("shoppingCart")}),i.jsxs("div",{className:"bg-white rounded-lg shadow",children:[i.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(({product:o,quantity:a})=>i.jsxs("li",{className:"flex flex-col sm:flex-row py-4 px-3 sm:py-6 sm:px-6",children:[i.jsx(ue,{to:`/products/${o.id}`,className:"flex-shrink-0 w-full sm:w-24 h-32 sm:h-24 mb-3 sm:mb-0 mx-auto sm:mx-0 border border-gray-200 rounded-md overflow-hidden",children:i.jsx("img",{src:o.image,alt:o.name,className:"w-full h-full object-center object-cover"})}),i.jsxs("div",{className:"sm:ml-4 flex-1 flex flex-col",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between text-base font-medium text-gray-900",children:[i.jsx("h3",{className:"text-center sm:text-left",children:o.name}),i.jsx("p",{className:"text-center sm:text-right sm:ml-4 mt-1 sm:mt-0",children:(o.price*a).toFixed(2)})]}),i.jsx("p",{className:"mt-1 text-sm text-gray-500 text-center sm:text-left",children:o.category})]}),i.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row items-center sm:items-end justify-between text-sm mt-3 sm:mt-0",children:[i.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 mb-3 sm:mb-0",children:[i.jsxs("div",{className:"flex items-center border rounded-md",children:[i.jsx("button",{onClick:()=>n(o.id,Math.max(0,a-1)),className:"p-1.5 sm:p-2 hover:bg-gray-100","aria-label":"Decrease quantity",children:i.jsx(uk,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),i.jsx("span",{className:"px-2 sm:px-4 py-1 sm:py-2 text-gray-900",children:a}),i.jsx("button",{onClick:()=>n(o.id,a+1),className:"p-1.5 sm:p-2 hover:bg-gray-100","aria-label":"Increase quantity",children:i.jsx(mk,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),i.jsx("button",{type:"button",onClick:()=>r(o.id),className:"text-red-600 hover:text-red-500","aria-label":"Remove item",children:i.jsx(yk,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),i.jsxs("div",{className:"text-gray-500 text-sm",children:[o.price.toFixed(2)," ",e("each")]})]})]})]},o.id))}),i.jsxs("div",{className:"border-t border-gray-200 px-4 py-4 sm:py-6 sm:px-6",children:[i.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[i.jsx("p",{children:e("subtotal")}),i.jsxs("p",{children:[s.toFixed(2)," EGP "]})]}),i.jsx("p",{className:"mt-0.5 text-xs sm:text-sm text-gray-500",children:e("shippingTaxes")}),i.jsx(ue,{to:"/checkout",className:"mt-4 w-full flex justify-center items-center px-4 py-2 sm:py-3 border border-transparent rounded-md shadow-sm text-sm sm:text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:e("checkout")}),i.jsx("div",{className:"mt-4 sm:mt-6 flex justify-center text-xs sm:text-sm text-center text-gray-500",children:i.jsxs("p",{children:[e("or")," ",i.jsxs(ue,{to:"/",className:"text-indigo-600 font-medium hover:text-indigo-500",children:[e("continueShopping"),i.jsx("span",{"aria-hidden":"true",children:" "})]})]})})]})]})]})}function j3(){var v,b;const{t:e}=ne(),t=$e(),r=gr(),{signIn:n,signInWithSocial:s}=Ve(),[o,a]=h.useState(""),[l,c]=h.useState(""),[u,f]=h.useState(null),[d,m]=h.useState(!1),[p,w]=h.useState(null),g=((b=(v=r.state)==null?void 0:v.from)==null?void 0:b.pathname)||"/";async function x(j){j.preventDefault(),f(null),m(!0);try{await n(o,l),t(g,{replace:!0})}catch(N){N instanceof Error?f(N.message):f("Failed to sign in")}finally{m(!1)}}async function y(j){w(j);try{await s(j)}catch(N){N instanceof Error?f(N.message):f(`Failed to sign in with ${j}`),w(null)}}return i.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 auth-page",children:[i.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[i.jsxs("div",{className:"flex items-center justify-center mb-4",children:[i.jsxs("svg",{width:"50",height:"50",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-2 brand-icon",children:[i.jsx("rect",{width:"40",height:"40",rx:"8",fill:"url(#paint0_linear)"}),i.jsx("path",{d:"M10 25C10 22.2386 12.2386 20 15 20H25C27.7614 20 30 22.2386 30 25V28C30 29.1046 29.1046 30 28 30H12C10.8954 30 10 29.1046 10 28V25Z",fill:"white"}),i.jsx("circle",{cx:"15",cy:"25",r:"2",fill:"#3B82F6"}),i.jsx("circle",{cx:"25",cy:"25",r:"2",fill:"#3B82F6"}),i.jsx("path",{d:"M11 18L15 10H25L29 18",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"paint0_linear",x1:"0",y1:"0",x2:"40",y2:"40",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#3B82F6"}),i.jsx("stop",{offset:"1",stopColor:"#1E40AF"})]})})]}),i.jsx("span",{className:"text-4xl font-extrabold leading-tight py-1 bg-gradient-to-r from-indigo-600 to-blue-500 bg-clip-text text-transparent",children:e("brandName")})]}),i.jsx("h2",{className:"mt-2 text-center text-3xl font-bold tracking-tight text-gray-900",children:e("Sign in Your Account")}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[e("Dont Have Account")," ",i.jsx(ue,{to:"/register",className:"font-medium text-indigo-600 hover:text-indigo-500",children:e("Create Account")})]})]}),i.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:i.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[u&&i.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 rounded-md p-4 text-sm",children:u}),i.jsxs("form",{className:"mt-6 space-y-6",onSubmit:x,children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:e("emailAddress")}),i.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm auth-input-group",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none auth-input-icon",children:i.jsx(Eh,{className:"h-5 w-5 text-gray-400 auth-icon"})}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o,onChange:j=>a(j.target.value),className:"block w-full pl-10 rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input",placeholder:"name@example.com"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:e("password")}),i.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm auth-input-group",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none auth-input-icon",children:i.jsx(qd,{className:"h-5 w-5 text-gray-400 auth-icon"})}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:l,onChange:j=>c(j.target.value),className:"block w-full pl-10 rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input"})]})]}),i.jsx("div",{className:"flex items-center justify-end",children:i.jsx("div",{className:"text-sm",children:i.jsx(ue,{to:"/forgot-password",className:"font-medium text-indigo-600 hover:text-indigo-500",children:e("Forgot Password ?")})})}),i.jsxs("div",{className:"mt-6 relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-300"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-white text-gray-500",children:e("orContinueWith")})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(te,{type:"button",variant:"outline",className:"w-full justify-center text-gray-700 bg-white hover:bg-gray-50",disabled:!!p,onClick:()=>y("google"),children:[i.jsxs("svg",{className:"h-5 w-5 mr-2 social-icon","aria-hidden":"true",viewBox:"0 0 24 24",children:[i.jsx("path",{d:"M12.0003 4.75C13.7703 4.75 15.3553 5.36002 16.6053 6.54998L20.0353 3.12C17.9503 1.19 15.2353 0 12.0003 0C7.31028 0 3.25527 2.69 1.28027 6.60998L5.27028 9.70498C6.21528 6.86002 8.87028 4.75 12.0003 4.75Z",fill:"#EA4335"}),i.jsx("path",{d:"M23.49 12.275C23.49 11.49 23.415 10.73 23.3 10H12V14.51H18.47C18.18 15.99 17.34 17.25 16.08 18.1L19.945 21.1C22.2 19.01 23.49 15.92 23.49 12.275Z",fill:"#4285F4"}),i.jsx("path",{d:"M5.26498 14.2949C5.02498 13.5699 4.88501 12.7999 4.88501 11.9999C4.88501 11.1999 5.01998 10.4299 5.26498 9.7049L1.275 6.60986C0.46 8.22986 0 10.0599 0 11.9999C0 13.9399 0.46 15.7699 1.28 17.3899L5.26498 14.2949Z",fill:"#FBBC05"}),i.jsx("path",{d:"M12.0004 24.0001C15.2404 24.0001 17.9654 22.935 19.9454 21.095L16.0804 18.095C15.0054 18.82 13.6204 19.245 12.0004 19.245C8.8704 19.245 6.21537 17.135 5.2654 14.29L1.27539 17.385C3.25539 21.31 7.3104 24.0001 12.0004 24.0001Z",fill:"#34A853"})]}),e(p==="google"?"signingInWithGoogle":"Sign in With Google")]}),i.jsxs(te,{type:"button",variant:"outline",className:"w-full justify-center text-gray-700 bg-white hover:bg-gray-50",disabled:!!p,onClick:()=>y("facebook"),children:[i.jsx(yy,{className:"h-5 w-5 mr-2 text-blue-600 social-icon"}),e(p==="facebook"?"signingInWithFacebook":"Sign in With Facebook")]})]}),i.jsx("div",{children:i.jsx(te,{type:"submit",disabled:d,className:"flex w-full justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:e(d?"signingIn":"Sign in")})})]})]})})]})}function N3(e,t){const r=h.createContext(t),n=o=>{const{children:a,...l}=o,c=h.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function s(o){const a=h.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function Rn(e,t=[]){let r=[];function n(o,a){const l=h.createContext(a),c=r.length;r=[...r,a];const u=d=>{var y;const{scope:m,children:p,...w}=d,g=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,x=h.useMemo(()=>w,Object.values(w));return i.jsx(g.Provider,{value:x,children:p})};u.displayName=o+"Provider";function f(d,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,w=h.useContext(p);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[u,f]}const s=()=>{const o=r.map(a=>h.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,S3(s,...t)]}function S3(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function xe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Ir(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function os({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=_3({defaultProp:t,onChange:r}),o=e!==void 0,a=o?e:n,l=Ir(r),c=h.useCallback(u=>{if(o){const d=typeof u=="function"?u(e):u;d!==e&&l(d)}else s(u)},[o,e,s,l]);return[a,c]}function _3({defaultProp:e,onChange:t}){const r=h.useState(e),[n]=r,s=h.useRef(n),o=Ir(t);return h.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}function zy(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var st=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{};function By(e){const[t,r]=h.useState(void 0);return st(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function k3(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var No=e=>{const{present:t,children:r}=e,n=C3(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=Se(n.ref,E3(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:o}):null};No.displayName="Presence";function C3(e){const[t,r]=h.useState(),n=h.useRef({}),s=h.useRef(e),o=h.useRef("none"),a=e?"mounted":"unmounted",[l,c]=k3(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=xa(n.current);o.current=l==="mounted"?u:"none"},[l]),st(()=>{const u=n.current,f=s.current;if(f!==e){const m=o.current,p=xa(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),st(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=p=>{const g=xa(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=p=>{p.target===t&&(o.current=xa(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function xa(e){return(e==null?void 0:e.animationName)||"none"}function E3(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var P3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ge=P3.reduce((e,t)=>{const r=h.forwardRef((n,s)=>{const{asChild:o,...a}=n,l=o?ss:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function A3(e,t){e&&go.flushSync(()=>e.dispatchEvent(t))}var Ih="Checkbox",[T3,RI]=Rn(Ih),[R3,O3]=T3(Ih),Uy=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:a,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[m,p]=h.useState(null),w=Se(t,j=>p(j)),g=h.useRef(!1),x=m?f||!!m.closest("form"):!0,[y=!1,v]=os({prop:s,defaultProp:o,onChange:u}),b=h.useRef(y);return h.useEffect(()=>{const j=m==null?void 0:m.form;if(j){const N=()=>v(b.current);return j.addEventListener("reset",N),()=>j.removeEventListener("reset",N)}},[m,v]),i.jsxs(R3,{scope:r,state:y,disabled:l,children:[i.jsx(ge.button,{type:"button",role:"checkbox","aria-checked":wn(y)?"mixed":y,"aria-required":a,"data-state":qy(y),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:w,onKeyDown:xe(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:xe(e.onClick,j=>{v(N=>wn(N)?!0:!N),x&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),x&&i.jsx(I3,{control:m,bubbles:!g.current,name:n,value:c,checked:y,required:a,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:wn(o)?!1:o})]})});Uy.displayName=Ih;var Wy="CheckboxIndicator",Hy=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,o=O3(Wy,r);return i.jsx(No,{present:n||wn(o.state)||o.state===!0,children:i.jsx(ge.span,{"data-state":qy(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Hy.displayName=Wy;var I3=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...o}=e,a=h.useRef(null),l=zy(r),c=By(t);h.useEffect(()=>{const f=a.current,d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&p){const w=new Event("click",{bubbles:n});f.indeterminate=wn(r),p.call(f,wn(r)?!1:r),f.dispatchEvent(w)}},[l,r,n]);const u=h.useRef(wn(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...o,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function wn(e){return e==="indeterminate"}function qy(e){return wn(e)?"indeterminate":e?"checked":"unchecked"}var Vy=Uy,D3=Hy;const bl=h.forwardRef(({className:e,...t},r)=>i.jsx(Vy,{ref:r,className:ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(D3,{className:ee("flex items-center justify-center text-current"),children:i.jsx(vy,{className:"h-4 w-4"})})}));bl.displayName=Vy.displayName;function M3(){const{t:e}=ne(),t=$e(),{signUp:r,signInWithSocial:n}=Ve(),[s,o]=h.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phoneNumber:""}),[a,l]=h.useState(!1),[c,u]=h.useState(null),[f,d]=h.useState(!1),[m,p]=h.useState(null);async function w(x){if(x.preventDefault(),u(null),s.password!==s.confirmPassword){u("Passwords do not match");return}if(!a){u("You must accept the terms and conditions");return}d(!0);try{await r(s.email,s.password,{data:{first_name:s.firstName,last_name:s.lastName,phone_number:s.phoneNumber}}),t("/")}catch(y){u(y instanceof Error?y.message:"Failed to create account")}finally{d(!1)}}async function g(x){p(x);try{await n(x)}catch(y){y instanceof Error?u(y.message):u(`Failed to sign up with ${x}`),p(null)}}return i.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 auth-page",children:[i.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[i.jsxs("div",{className:"flex items-center justify-center mb-4",children:[i.jsxs("svg",{width:"50",height:"50",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-2 brand-icon",children:[i.jsx("rect",{width:"40",height:"40",rx:"8",fill:"url(#paint0_linear)"}),i.jsx("path",{d:"M10 25C10 22.2386 12.2386 20 15 20H25C27.7614 20 30 22.2386 30 25V28C30 29.1046 29.1046 30 28 30H12C10.8954 30 10 29.1046 10 28V25Z",fill:"white"}),i.jsx("circle",{cx:"15",cy:"25",r:"2",fill:"#3B82F6"}),i.jsx("circle",{cx:"25",cy:"25",r:"2",fill:"#3B82F6"}),i.jsx("path",{d:"M11 18L15 10H25L29 18",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"paint0_linear",x1:"0",y1:"0",x2:"40",y2:"40",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#3B82F6"}),i.jsx("stop",{offset:"1",stopColor:"#1E40AF"})]})})]}),i.jsx("span",{className:"text-4xl font-extrabold leading-tight py-1 bg-gradient-to-r from-indigo-600 to-blue-500 bg-clip-text text-transparent",children:e("brandName")})]}),i.jsx("h2",{className:"text-center text-3xl font-bold tracking-tight text-gray-900",children:e("joinOurCommunity")}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[e("alreadyHaveAccount")," ",i.jsx(ue,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:e("signInToYourAccount")})]})]}),i.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:i.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[c&&i.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 rounded-md p-4 text-sm",children:c}),i.jsxs("form",{className:"mt-6 space-y-6",onSubmit:w,children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:e("firstName")}),i.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm auth-input-group",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none auth-input-icon",children:i.jsx(yg,{className:"h-5 w-5 text-gray-400 auth-icon"})}),i.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:s.firstName,onChange:x=>o(y=>({...y,firstName:x.target.value})),className:"block w-full pl-10 rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:e("lastName")}),i.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm auth-input-group",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none auth-input-icon",children:i.jsx(yg,{className:"h-5 w-5 text-gray-400 auth-icon"})}),i.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:s.lastName,onChange:x=>o(y=>({...y,lastName:x.target.value})),className:"block w-full pl-10 rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:e("emailAddress")}),i.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm auth-input-group",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none auth-input-icon",children:i.jsx(Eh,{className:"h-5 w-5 text-gray-400 auth-icon"})}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:x=>o(y=>({...y,email:x.target.value})),className:"block w-full pl-10 rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:e("phoneNumber")}),i.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm auth-input-group",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none auth-input-icon",children:i.jsx(jy,{className:"h-5 w-5 text-gray-400 auth-icon"})}),i.jsx("input",{id:"phoneNumber",name:"phoneNumber",type:"tel",required:!0,value:s.phoneNumber,onChange:x=>o(y=>({...y,phoneNumber:x.target.value})),className:"block w-full pl-10 rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input",placeholder:"e.g., +20 1234567890"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:e("password")}),i.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm auth-input-group",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none auth-input-icon",children:i.jsx(qd,{className:"h-5 w-5 text-gray-400 auth-icon"})}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:s.password,onChange:x=>o(y=>({...y,password:x.target.value})),className:"block w-full pl-10 rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:e("confirmPassword")}),i.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm auth-input-group",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none auth-input-icon",children:i.jsx(qd,{className:"h-5 w-5 text-gray-400 auth-icon"})}),i.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:s.confirmPassword,onChange:x=>o(y=>({...y,confirmPassword:x.target.value})),className:"block w-full pl-10 rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input"})]})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx(bl,{id:"terms",checked:a,onCheckedChange:x=>{l(x)},className:"mr-2 mt-1"}),i.jsx("div",{className:"ml-2 text-sm",children:i.jsxs("label",{htmlFor:"terms",className:"text-gray-700",children:[e("Accept Terms")," ",i.jsx(ue,{to:"/terms",className:"text-indigo-600 hover:text-indigo-500",children:e("Terms and Conditions")})]})})]}),i.jsxs("div",{className:"mt-6 relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-300"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-white text-gray-500",children:e("Or Continue With")})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(te,{type:"button",variant:"outline",className:"w-full justify-center text-gray-700 bg-white hover:bg-gray-50",disabled:!!m,onClick:()=>g("google"),children:[i.jsxs("svg",{className:"h-5 w-5 mr-2 social-icon","aria-hidden":"true",viewBox:"0 0 24 24",children:[i.jsx("path",{d:"M12.0003 4.75C13.7703 4.75 15.3553 5.36002 16.6053 6.54998L20.0353 3.12C17.9503 1.19 15.2353 0 12.0003 0C7.31028 0 3.25527 2.69 1.28027 6.60998L5.27028 9.70498C6.21528 6.86002 8.87028 4.75 12.0003 4.75Z",fill:"#EA4335"}),i.jsx("path",{d:"M23.49 12.275C23.49 11.49 23.415 10.73 23.3 10H12V14.51H18.47C18.18 15.99 17.34 17.25 16.08 18.1L19.945 21.1C22.2 19.01 23.49 15.92 23.49 12.275Z",fill:"#4285F4"}),i.jsx("path",{d:"M5.26498 14.2949C5.02498 13.5699 4.88501 12.7999 4.88501 11.9999C4.88501 11.1999 5.01998 10.4299 5.26498 9.7049L1.275 6.60986C0.46 8.22986 0 10.0599 0 11.9999C0 13.9399 0.46 15.7699 1.28 17.3899L5.26498 14.2949Z",fill:"#FBBC05"}),i.jsx("path",{d:"M12.0004 24.0001C15.2404 24.0001 17.9654 22.935 19.9454 21.095L16.0804 18.095C15.0054 18.82 13.6204 19.245 12.0004 19.245C8.8704 19.245 6.21537 17.135 5.2654 14.29L1.27539 17.385C3.25539 21.31 7.3104 24.0001 12.0004 24.0001Z",fill:"#34A853"})]}),e(m==="google"?"signingUpWithGoogle":"signUpWithGoogle")]}),i.jsxs(te,{type:"button",variant:"outline",className:"w-full justify-center text-gray-700 bg-white hover:bg-gray-50",disabled:!!m,onClick:()=>g("facebook"),children:[i.jsx(yy,{className:"h-5 w-5 mr-2 text-blue-600 social-icon"}),e(m==="facebook"?"signingUpWithFacebook":"signUpWithFacebook")]})]}),i.jsx("div",{children:i.jsx(te,{type:"submit",disabled:f,className:"flex w-full justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:e(f?"creatingYourAccount":"Create Account")})})]})]})})]})}const $3=pc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Dh=h.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:ee($3({variant:t}),e),...r}));Dh.displayName="Alert";const Mh=h.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:ee("mb-1 font-medium leading-none tracking-tight",e),...t}));Mh.displayName="AlertTitle";const L3=h.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ee("text-sm [&_p]:leading-relaxed",e),...t}));L3.displayName="AlertDescription";function F3(){const{t:e}=ne(),{forgotPassword:t}=Ve(),[r,n]=h.useState(""),[s,o]=h.useState(!1),[a,l]=h.useState(!1),[c,u]=h.useState(null);async function f(d){if(d.preventDefault(),o(!0),u(null),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){u(e("invalidEmailAddress")),o(!1);return}try{const p=await t(r);p.success?(l(!0),W.success(e("resetLinkSent"))):u(p.message)}catch(p){console.error("Password reset error:",p),u(e("errorSendingResetLink"))}finally{o(!1)}}return i.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 auth-page",children:[i.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[i.jsxs("div",{className:"flex items-center justify-center mb-4",children:[i.jsxs("svg",{width:"50",height:"50",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-2 brand-icon",children:[i.jsx("rect",{width:"40",height:"40",rx:"8",fill:"url(#paint0_linear)"}),i.jsx("path",{d:"M10 25C10 22.2386 12.2386 20 15 20H25C27.7614 20 30 22.2386 30 25V28C30 29.1046 29.1046 30 28 30H12C10.8954 30 10 29.1046 10 28V25Z",fill:"white"}),i.jsx("circle",{cx:"15",cy:"25",r:"2",fill:"#3B82F6"}),i.jsx("circle",{cx:"25",cy:"25",r:"2",fill:"#3B82F6"}),i.jsx("path",{d:"M11 18L15 10H25L29 18",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"paint0_linear",x1:"0",y1:"0",x2:"40",y2:"40",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#3B82F6"}),i.jsx("stop",{offset:"1",stopColor:"#1E40AF"})]})})]}),i.jsx("span",{className:"text-4xl font-extrabold leading-tight py-1 bg-gradient-to-r from-indigo-600 to-blue-500 bg-clip-text text-transparent",children:e("brandName")})]}),i.jsx("h2",{className:"mt-2 text-center text-3xl font-bold tracking-tight text-gray-900",children:e("resetYourPassword")}),i.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:e("enterEmailInstructions")})]}),i.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:i.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:a?i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:i.jsx("svg",{className:"h-6 w-6 text-green-600 no-flip",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),i.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-2",children:e("checkYourEmail")}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e("resetLinkSent")}),i.jsxs(ue,{to:"/login",className:"inline-flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-500",children:[e("backToLogin")," "]})]}):i.jsxs("form",{className:"space-y-6",onSubmit:f,children:[c&&i.jsx(Dh,{variant:"destructive",className:"mb-4",children:i.jsx(Mh,{children:c})}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:e("emailAddress")}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:d=>n(d.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input",placeholder:"your@email.com"})]}),i.jsx("div",{children:i.jsx(te,{type:"submit",disabled:s,className:"flex w-full justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:e(s?"sending":"sendResetLink")})}),i.jsx("div",{className:"text-center mt-4",children:i.jsxs(ue,{to:"/login",className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:[" ",e("backToLogin")]})})]})})})]})}function z3(){const{t:e}=ne(),t=$e(),[r,n]=h.useState(""),[s,o]=h.useState(""),[a,l]=h.useState(!1),[c,u]=h.useState(null),[f,d]=h.useState(null);h.useEffect(()=>{const g=window.location.hash;(!g||!g.includes("type=recovery"))&&(t("/forgot-password"),W.error(e("invalidOrExpiredResetLink")))},[t,e]);const m=g=>{if(g.length<8)return"weak";const x=/[A-Z]/.test(g),y=/[a-z]/.test(g),v=/\d/.test(g),b=/[!@#$%^&*(),.?":{}|<>]/.test(g),j=[x,y,v,b].filter(Boolean).length;return j<3?"weak":j===3?"medium":"strong"},p=g=>{const x=g.target.value;n(x),d(x?m(x):null)};async function w(g){if(g.preventDefault(),u(null),r!==s){u(e("passwordsDontMatch"));return}if(r.length<8){u(e("passwordTooShort"));return}if(f==="weak"){u(e("passwordTooWeak"));return}l(!0);try{const{error:x}=await Y.auth.updateUser({password:r});if(x)throw x;W.success(e("passwordResetSuccess")),setTimeout(()=>t("/login"),2e3)}catch(x){console.error("Password update error:",x),u(x.message||e("passwordResetFailed"))}finally{l(!1)}}return i.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 auth-page",children:[i.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[i.jsxs("div",{className:"flex items-center justify-center mb-4",children:[i.jsxs("svg",{width:"50",height:"50",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-2 brand-icon",children:[i.jsx("rect",{width:"40",height:"40",rx:"8",fill:"url(#paint0_linear)"}),i.jsx("path",{d:"M10 25C10 22.2386 12.2386 20 15 20H25C27.7614 20 30 22.2386 30 25V28C30 29.1046 29.1046 30 28 30H12C10.8954 30 10 29.1046 10 28V25Z",fill:"white"}),i.jsx("circle",{cx:"15",cy:"25",r:"2",fill:"#3B82F6"}),i.jsx("circle",{cx:"25",cy:"25",r:"2",fill:"#3B82F6"}),i.jsx("path",{d:"M11 18L15 10H25L29 18",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"paint0_linear",x1:"0",y1:"0",x2:"40",y2:"40",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#3B82F6"}),i.jsx("stop",{offset:"1",stopColor:"#1E40AF"})]})})]}),i.jsx("span",{className:"text-4xl font-extrabold leading-tight py-1 bg-gradient-to-r from-indigo-600 to-blue-500 bg-clip-text text-transparent",children:e("brandName")})]}),i.jsx("h2",{className:"mt-2 text-center text-3xl font-bold tracking-tight text-gray-900",children:e("createNewPassword")}),i.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:e("enterNewPasswordBelow")})]}),i.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:i.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:i.jsxs("form",{className:"space-y-6",onSubmit:w,children:[c&&i.jsx(Dh,{variant:"destructive",children:i.jsx(Mh,{children:c})}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:e("newPassword")}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:r,onChange:p,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input"}),f&&i.jsx("div",{className:"mt-2",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs("span",{className:"text-xs mr-2",children:[e("passwordStrength"),":"]}),i.jsx("div",{className:"h-1.5 w-full bg-gray-200 rounded-full overflow-hidden password-strength-meter",children:i.jsx("div",{className:`h-full ${f==="weak"?"w-1/3 bg-red-500":f==="medium"?"w-2/3 bg-yellow-500":"w-full bg-green-500"}`})}),i.jsx("span",{className:"text-xs ml-2",children:e(f==="weak"?"weak":f==="medium"?"medium":"strong")})]})})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:e("confirmNewPassword")}),i.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:s,onChange:g=>o(g.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input"})]}),i.jsx("div",{children:i.jsx(te,{type:"submit",disabled:a,className:"flex w-full justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:e(a?"updating":"resetPassword")})})]})})})]})}function B3(){const{t:e,language:t}=ne(),r=$e(),[n]=_x(),s=n.get("q")||"",{products:o,shops:a,carModels:l,loading:c,error:u}=Sy(s),f=(p,w)=>{r(`/products?make=${encodeURIComponent(p)}&model=${encodeURIComponent(w)}`)};if(c)return i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:i.jsx("div",{className:"text-center",children:e("searching")})});if(u)return i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:i.jsxs("div",{className:"text-center text-red-600",children:["Error: ",u.message]})});const d=o.length>0||a.length>0||l.length>0,m=t==="ar";return i.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 ${m?"rtl":"ltr"}`,children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:[e("searchResults"),' "',s,'"']}),!d&&i.jsxs("div",{className:"text-center text-gray-500",children:[e("noResults"),' "',s,'"']}),l.length>0&&i.jsxs("div",{className:"mb-12",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:e("carModels")}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:l.map(p=>i.jsxs("div",{onClick:()=>f(p.make,p.model),className:"flex flex-col items-center p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow bg-white cursor-pointer",children:[i.jsx("div",{className:"rounded-full p-4 bg-indigo-100 mb-4",children:i.jsx(gy,{className:"h-8 w-8 text-indigo-600"})}),i.jsxs("h3",{className:"text-lg font-medium text-gray-900 text-center",children:[p.make," ",p.model]}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[p.yearStart,p.yearEnd?` - ${p.yearEnd}`:"+"]})]},p.id))})]}),a.length>0&&i.jsxs("div",{className:"mb-12",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:e("shops")}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(p=>i.jsx(bc,{shop:p},p.id))})]}),o.length>0&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:e("products")}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(p=>i.jsx(Oh,{product:p},p.id))})]})]})}function U3(){const{t:e,language:t}=ne(),[r,n]=h.useState({name:"",email:"",subject:"",message:""}),[s,o]=h.useState(!1),[a,l]=h.useState(null),[c,u]=h.useState(t==="ar");h.useEffect(()=>{u(t==="ar")},[t]);const f=m=>{const{name:p,value:w}=m.target;n(g=>({...g,[p]:w}))},d=async m=>{m.preventDefault(),o(!0),l(null),setTimeout(()=>{o(!1),l({success:!0,message:e("messageSent")}),n({name:"",email:"",subject:"",message:""})},1500)};return i.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 ${c?"rtl":""}`,children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:e("contactUs")}),i.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:e("getInTouch")})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 contact-info",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:e("getInTouch")}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(Eh,{className:"h-6 w-6 text-indigo-600 no-flip"})}),i.jsxs("div",{className:`${c?"mr-4":"ml-4"}`,children:[i.jsx("h3",{className:"text-base font-medium text-gray-900",children:e("email")}),i.jsx("p",{className:"mt-1 text-gray-600",children:"support@Zabtt.com"})]})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(jy,{className:"h-6 w-6 text-indigo-600 no-flip"})}),i.jsxs("div",{className:`${c?"mr-4":"ml-4"}`,children:[i.jsx("h3",{className:"text-base font-medium text-gray-900",children:e("phone")}),i.jsx("p",{className:"mt-1 text-gray-600",children:"+20 115 500 3537"})]})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(Ys,{className:"h-6 w-6 text-indigo-600 no-flip"})}),i.jsxs("div",{className:`${c?"mr-4":"ml-4"}`,children:[i.jsx("h3",{className:"text-base font-medium text-gray-900",children:e("address")}),i.jsxs("p",{className:"mt-1 text-gray-600",children:["Tagamoa Elkhames",i.jsx("br",{}),"Cairo, Egypt"]})]})]})]}),i.jsxs("div",{className:"mt-8",children:[i.jsx("h3",{className:"text-base font-medium text-gray-900 mb-4",children:e("followUs")}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("a",{href:"#",className:"text-gray-500 hover:text-indigo-600",children:[i.jsx("span",{className:"sr-only",children:"Facebook"}),i.jsx("svg",{className:"h-6 w-6 no-flip",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),i.jsxs("a",{href:"#",className:"text-gray-500 hover:text-indigo-600",children:[i.jsx("span",{className:"sr-only",children:"Instagram"}),i.jsx("svg",{className:"h-6 w-6 no-flip",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),i.jsxs("a",{href:"#",className:"text-gray-500 hover:text-indigo-600",children:[i.jsx("span",{className:"sr-only",children:"Twitter"}),i.jsx("svg",{className:"h-6 w-6 no-flip",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]})]})]})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:e("sendMessage")}),a&&i.jsx("div",{className:`p-4 mb-6 rounded-md ${a.success?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:a.message}),i.jsxs("form",{onSubmit:d,className:"space-y-6 contact-form",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:e("yourName")}),i.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:f,required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:e("yourName")})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:e("yourEmail")}),i.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:f,required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:e("yourEmail")})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:e("subject")}),i.jsx("input",{type:"text",id:"subject",name:"subject",value:r.subject,onChange:f,required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:e("subject")})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:e("message")}),i.jsx("textarea",{id:"message",name:"message",rows:4,value:r.message,onChange:f,required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:e("message")})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:s,className:"inline-flex justify-center items-center w-full sm:w-auto px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?e("sending"):i.jsxs(i.Fragment,{children:[e("sendMessage"),i.jsx(nP,{className:`${c?"mr-2":"ml-2"} h-4 w-4 no-flip`})]})})})]})]})})]})]})}function W3({user:e,profile:t}){return i.jsx("div",{className:"bg-indigo-600 px-6 py-8",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-20 w-20 rounded-full bg-indigo-300 flex items-center justify-center",children:i.jsx(bk,{className:"h-10 w-10 text-indigo-700"})}),i.jsxs("div",{className:"ml-6 text-white",children:[i.jsxs("h1",{className:"text-2xl font-bold",children:[t.firstName||""," ",t.lastName||""]}),i.jsx("p",{className:"text-indigo-100",children:e.email}),i.jsx("p",{className:"text-indigo-100 mt-1",children:t.phoneNumber||""})]})]})})}function H3({user:e,profile:t}){const{t:r}=ne(),[n,s]=h.useState(!1),[o,a]=h.useState((t==null?void 0:t.phoneNumber)||""),[l,c]=h.useState(!1),u=async()=>{if(e)try{c(!0);const{error:d}=await Y.auth.updateUser({data:{phone_number:o}});if(d)throw d;W.success(r("phoneUpdated")),s(!1)}catch(d){console.error("Error updating phone number:",d),W.error(r("phoneUpdateError"))}finally{c(!1)}},f=()=>{s(!1),a((t==null?void 0:t.phoneNumber)||"")};return i.jsxs("div",{className:"py-4",children:[i.jsx("h2",{className:"text-lg font-medium text-gray-900",children:r("personalInformation")}),i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:r("firstName")}),i.jsx("p",{className:"mt-1 text-md text-gray-900",children:(t==null?void 0:t.firstName)||r("notProvided")})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:r("lastName")}),i.jsx("p",{className:"mt-1 text-md text-gray-900",children:(t==null?void 0:t.lastName)||r("notProvided")})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:r("emailAddress")}),i.jsx("p",{className:"mt-1 text-md text-gray-900",children:e.email})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:r("phoneNumber")}),n?i.jsxs("div",{className:"mt-2 flex items-end gap-2",children:[i.jsx("div",{className:"flex-1",children:i.jsx(le,{type:"tel",value:o,onChange:d=>a(d.target.value),placeholder:"01XXXXXXXXX"})}),i.jsx("button",{onClick:u,disabled:l,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:l?"...":r("saveChanges")}),i.jsx("button",{onClick:f,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:r("cancel")})]}):i.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[i.jsx("p",{className:"text-md text-gray-900",children:(t==null?void 0:t.phoneNumber)||r("notProvided")}),i.jsxs("button",{onClick:()=>s(!0),className:"text-sm text-indigo-600 hover:text-indigo-800 flex items-center",children:[i.jsx(fk,{className:"h-4 w-4 mr-1"}),r("updatePhoneNumber")]})]})]})]})]})}function q3({navigate:e}){const{t}=ne();return i.jsxs("div",{className:"py-4",children:[i.jsx("h2",{className:"text-lg font-medium text-gray-900",children:t("quickActions")}),i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsxs("button",{onClick:()=>e("/cart"),className:"w-full flex justify-between items-center px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-md transition",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(gk,{className:"h-5 w-5 text-gray-500"}),i.jsx("span",{className:"ml-3 text-gray-900",children:t("myCart")})]}),i.jsx(Vs,{className:"h-4 w-4 text-gray-400"})]}),i.jsxs("button",{onClick:()=>e("/checkout"),className:"w-full flex justify-between items-center px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-md transition",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(ok,{className:"h-5 w-5 text-gray-500"}),i.jsx("span",{className:"ml-3 text-gray-900",children:t("checkout")})]}),i.jsx(Vs,{className:"h-4 w-4 text-gray-400"})]}),i.jsxs("button",{onClick:()=>e("/saved-addresses"),className:"w-full flex justify-between items-center px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-md transition",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(lk,{className:"h-5 w-5 text-gray-500"}),i.jsx("span",{className:"ml-3 text-gray-900",children:t("savedAddresses")})]}),i.jsx(Vs,{className:"h-4 w-4 text-gray-400"})]})]})]})}function V3({onLogout:e}){const{t}=ne();return i.jsx("button",{onClick:e,className:"bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-md transition",children:t("logout")})}const is=h.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ee("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));is.displayName="Card";const $h=h.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ee("flex flex-col space-y-1.5 p-6",e),...t}));$h.displayName="CardHeader";const Lh=h.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));Lh.displayName="CardTitle";const G3=h.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));G3.displayName="CardDescription";const uo=h.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ee("p-6 pt-0",e),...t}));uo.displayName="CardContent";const Gy=h.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ee("flex items-center p-6 pt-0",e),...t}));Gy.displayName="CardFooter";function Y3({balance:e,onRefresh:t}){const{t:r}=ne(),[n,s]=h.useState(!1),o=async()=>{s(!0);try{await t(),W.success(r("balanceRefreshed"))}catch(a){console.error("Error refreshing balance:",a),W.error(r("failedToRefreshBalance")||"Failed to refresh balance")}finally{s(!1)}};return i.jsxs(is,{className:"bg-gradient-to-r from-violet-50 to-indigo-50 border-indigo-100",children:[i.jsx($h,{className:"pb-2",children:i.jsxs(Lh,{className:"text-lg text-indigo-700 flex items-center justify-between",children:[i.jsx("span",{children:r("balanceCredits")}),i.jsxs(te,{variant:"ghost",size:"sm",onClick:o,disabled:n,className:"text-indigo-600 hover:text-indigo-800 hover:bg-indigo-100",children:[i.jsx(Ny,{className:`h-4 w-4 mr-1 ${n?"animate-spin":""}`}),r("refresh")]})]})}),i.jsxs(uo,{children:[i.jsx("div",{className:"text-3xl font-bold text-indigo-800",children:Vn(e||0)}),i.jsx("p",{className:"text-sm text-indigo-600 mt-1",children:r("creditsEarned")})]})]})}function K3({coupons:e,loading:t}){const{t:r}=ne();return t?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-500"})}):e.length===0?i.jsx("div",{className:"text-center py-8 bg-white rounded-lg shadow-md",children:i.jsx("p",{className:"text-gray-500",children:r("noCouponsFound")})}):i.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("couponCode")}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("discountPercentage")}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("ownerBenefit")}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("usageLimit")}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("timesUsed")}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("status")})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(n=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:n.code}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[n.discount_percentage,"%",n.discount_amount&&` + ${n.discount_amount}`]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.owner_benefit_type==="percentage"?`${n.owner_benefit_value}%`:`${n.owner_benefit_value}`}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.usage_limit===0?"":n.usage_limit}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.times_used}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.active?i.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:r("active")}):i.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:r("inactive")})})]},n.id))})]})})})}const Q3=()=>{const{user:e}=Ve(),[t,r]=h.useState(null),[n,s]=h.useState(!0),[o,a]=h.useState(null),[l,c]=h.useState([]),[u,f]=h.useState(!1),d=async()=>{var g,x,y,v,b,j,N;if(!e){r(null),s(!1);return}try{s(!0),console.log("Fetching profile for user:",e.id);const{data:S,error:_}=await Y.from("profiles").select("*").eq("id",e.id).maybeSingle();if(_)throw _;if(S)console.log("Profile fetched successfully:",S),r({id:S.id,username:S.username,balanceCredits:S.balance_credits||0,firstName:((g=e.user_metadata)==null?void 0:g.first_name)||"",lastName:((x=e.user_metadata)==null?void 0:x.last_name)||"",phoneNumber:((y=e.user_metadata)==null?void 0:y.phone_number)||"",isAdmin:S.is_admin||!1,ownerId:S.owner_id}),console.log("Balance credits:",S.balance_credits);else{console.log("Profile not found, creating new one for user:",e.id);const{data:C,error:z}=await Y.from("profiles").insert([{id:e.id,username:(v=e.email)==null?void 0:v.split("@")[0],balance_credits:0,created_at:new Date().toISOString()}]).select().single();if(z)throw z;C&&(r({id:C.id,username:C.username,balanceCredits:C.balance_credits||0,firstName:((b=e.user_metadata)==null?void 0:b.first_name)||"",lastName:((j=e.user_metadata)==null?void 0:j.last_name)||"",phoneNumber:((N=e.user_metadata)==null?void 0:N.phone_number)||"",isAdmin:C.is_admin||!1,ownerId:C.owner_id}),console.log("Created new profile for user:",C.id))}}catch(S){console.error("Error fetching profile:",S),a(S.message)}finally{s(!1)}};h.useEffect(()=>{d()},[e]);const m=async()=>{if(e)try{f(!0);const{data:g,error:x}=await Y.from("coupons").select("*").eq("owner_id",e.id);if(x)throw x;const y=(g==null?void 0:g.map(v=>({...v,owner_benefit_type:p(v.owner_benefit_type)})))||[];c(y)}catch(g){console.error("Error fetching coupons:",g),W.error("Failed to load coupons")}finally{f(!1)}},p=g=>g==="percentage"?"percentage":g==="amount"?"amount":null;return{profile:t,loading:n,error:o,coupons:l,couponsLoading:u,fetchUserCoupons:m,refreshProfile:async()=>{console.log("Refreshing profile data..."),await d()}}};function X3(){const{t:e}=ne(),t=$e(),{user:r,signOut:n}=Ve(),{profile:s,loading:o,coupons:a,couponsLoading:l,fetchUserCoupons:c,refreshProfile:u}=Q3(),[f,d]=h.useState(!0);h.useEffect(()=>{!r&&!f&&t("/login");const p=setTimeout(()=>d(!1),500);return()=>clearTimeout(p)},[r,t,f]),h.useEffect(()=>{r&&c()},[r]);const m=async()=>{await n(),t("/login")};return f||o?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):!r||!s?null:i.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-6",children:[i.jsx(W3,{user:r,profile:s}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx(Y3,{balance:s.balanceCredits,onRefresh:u}),i.jsx(H3,{user:r,profile:s}),i.jsx(q3,{navigate:t}),i.jsx("div",{className:"py-4 flex justify-end",children:i.jsx(V3,{onLogout:m})})]})]}),a.length>0&&i.jsxs("div",{className:"mt-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:e("coupons")}),i.jsx(K3,{coupons:a,loading:l})]})]})})}const J3=()=>{const{user:e}=Ve(),[t,r]=h.useState([]),[n,s]=h.useState(!0),[o,a]=h.useState(null),l=h.useCallback(async()=>{if(!e){s(!1),r([]);return}try{s(!0),a(null);const{data:c,error:u}=await Y.from("orders").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(u){console.error("Error fetching orders:",u),a("Failed to load your orders. Please try again later."),s(!1),W.error("Failed to load your orders. Please try again later.");return}if(!c||c.length===0){r([]),s(!1);return}try{const f=await Promise.all(c.map(async d=>{try{const{data:m,error:p}=await Y.from("order_items").select("*").eq("order_id",d.id);if(p)return console.error("Error fetching order items:",p),{...d,status:d.status,items:[]};const w=d.status;return{...d,status:w,items:m||[]}}catch(m){return console.error("Unexpected error fetching order items:",m),{...d,status:d.status,items:[]}}}));r(f)}catch(f){console.error("Error processing orders batch:",f),r(c.map(d=>({...d,status:d.status,items:[]}))),W.error("Some order details could not be loaded. Please refresh the page.")}}catch(c){console.error("Error fetching orders:",c),a("Failed to load your orders. Please try again later."),W.error("Failed to load your orders. Please try again later.")}finally{s(!1)}},[e]);return h.useEffect(()=>{e?l():(r([]),s(!1))},[l,e]),{orders:t,loading:n,error:o,refetch:l}},Yy=6048e5,Z3=864e5,eA=6e4,ya=43200,Cg=1440,Eg=Symbol.for("constructDateFrom");function hr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Eg in e?e[Eg](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ie(e,t){return hr(t||e,e)}function tA(e,t,r){const n=Ie(e,r==null?void 0:r.in);return isNaN(t)?hr(e,NaN):(n.setDate(n.getDate()+t),n)}let rA={};function zi(){return rA}function Si(e,t){var l,c,u,f;const r=zi(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,s=Ie(e,t==null?void 0:t.in),o=s.getDay(),a=(o<n?7:0)+o-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function jl(e,t){return Si(e,{...t,weekStartsOn:1})}function Ky(e,t){const r=Ie(e,t==null?void 0:t.in),n=r.getFullYear(),s=hr(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=jl(s),a=hr(r,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const l=jl(a);return r.getTime()>=o.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function Nl(e){const t=Ie(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function jc(e,...t){const r=hr.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function Pg(e,t){const r=Ie(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function nA(e,t,r){const[n,s]=jc(r==null?void 0:r.in,e,t),o=Pg(n),a=Pg(s),l=+o-Nl(o),c=+a-Nl(a);return Math.round((l-c)/Z3)}function sA(e,t){const r=Ky(e,t),n=hr(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),jl(n)}function Ag(e,t,r){const n=Ie(e,r==null?void 0:r.in);return n.setTime(n.getTime()+t*eA),n}function $a(e,t){const r=+Ie(e)-+Ie(t);return r<0?-1:r>0?1:r}function oA(e){return hr(e,Date.now())}function iA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function aA(e){return!(!iA(e)&&typeof e!="number"||isNaN(+Ie(e)))}function lA(e,t,r){const[n,s]=jc(r==null?void 0:r.in,e,t),o=n.getFullYear()-s.getFullYear(),a=n.getMonth()-s.getMonth();return o*12+a}function cA(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function uA(e,t){return+Ie(e)-+Ie(t)}function dA(e,t){const r=Ie(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function fA(e,t){const r=Ie(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function hA(e,t){const r=Ie(e,t==null?void 0:t.in);return+dA(r,t)==+fA(r,t)}function mA(e,t,r){const[n,s,o]=jc(r==null?void 0:r.in,e,e,t),a=$a(s,o),l=Math.abs(lA(s,o));if(l<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*l);let c=$a(s,o)===-a;hA(n)&&l===1&&$a(n,o)===1&&(c=!1);const u=a*(l-+c);return u===0?0:u}function pA(e,t,r){const n=uA(e,t)/1e3;return cA(r==null?void 0:r.roundingMethod)(n)}function gA(e,t){const r=Ie(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const vA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xA=(e,t,r)=>{let n;const s=vA[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Nu(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const yA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jA={date:Nu({formats:yA,defaultWidth:"full"}),time:Nu({formats:wA,defaultWidth:"full"}),dateTime:Nu({formats:bA,defaultWidth:"full"})},NA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},SA=(e,t,r,n)=>NA[e];function Mo(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const _A={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},kA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},CA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},EA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},PA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},AA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},TA=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},RA={ordinalNumber:TA,era:Mo({values:_A,defaultWidth:"wide"}),quarter:Mo({values:kA,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Mo({values:CA,defaultWidth:"wide"}),day:Mo({values:EA,defaultWidth:"wide"}),dayPeriod:Mo({values:PA,defaultWidth:"wide",formattingValues:AA,defaultFormattingWidth:"wide"})};function $o(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const a=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?IA(l,d=>d.test(a)):OA(l,d=>d.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(a.length);return{value:u,rest:f}}}function OA(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function IA(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function DA(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=r.valueCallback?r.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const MA=/^(\d+)(th|st|nd|rd)?/i,$A=/\d+/i,LA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},FA={any:[/^b/i,/^(a|c)/i]},zA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},BA={any:[/1/i,/2/i,/3/i,/4/i]},UA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},WA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},HA={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qA={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},VA={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},GA={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},YA={ordinalNumber:DA({matchPattern:MA,parsePattern:$A,valueCallback:e=>parseInt(e,10)}),era:$o({matchPatterns:LA,defaultMatchWidth:"wide",parsePatterns:FA,defaultParseWidth:"any"}),quarter:$o({matchPatterns:zA,defaultMatchWidth:"wide",parsePatterns:BA,defaultParseWidth:"any",valueCallback:e=>e+1}),month:$o({matchPatterns:UA,defaultMatchWidth:"wide",parsePatterns:WA,defaultParseWidth:"any"}),day:$o({matchPatterns:HA,defaultMatchWidth:"wide",parsePatterns:qA,defaultParseWidth:"any"}),dayPeriod:$o({matchPatterns:VA,defaultMatchWidth:"any",parsePatterns:GA,defaultParseWidth:"any"})},Qy={code:"en-US",formatDistance:xA,formatLong:jA,formatRelative:SA,localize:RA,match:YA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function KA(e,t){const r=Ie(e,t==null?void 0:t.in);return nA(r,gA(r))+1}function QA(e,t){const r=Ie(e,t==null?void 0:t.in),n=+jl(r)-+sA(r);return Math.round(n/Yy)+1}function Xy(e,t){var f,d,m,p;const r=Ie(e,t==null?void 0:t.in),n=r.getFullYear(),s=zi(),o=(t==null?void 0:t.firstWeekContainsDate)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,a=hr((t==null?void 0:t.in)||e,0);a.setFullYear(n+1,0,o),a.setHours(0,0,0,0);const l=Si(a,t),c=hr((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=Si(c,t);return+r>=+l?n+1:+r>=+u?n:n-1}function XA(e,t){var l,c,u,f;const r=zi(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=Xy(e,t),o=hr((t==null?void 0:t.in)||e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),Si(o,t)}function JA(e,t){const r=Ie(e,t==null?void 0:t.in),n=+Si(r,t)-+XA(r,t);return Math.round(n/Yy)+1}function ye(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Yr={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ye(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ye(r+1,2)},d(e,t){return ye(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ye(e.getHours()%12||12,t.length)},H(e,t){return ye(e.getHours(),t.length)},m(e,t){return ye(e.getMinutes(),t.length)},s(e,t){return ye(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return ye(s,t.length)}},Ns={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Tg={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Yr.y(e,t)},Y:function(e,t,r,n){const s=Xy(e,n),o=s>0?s:1-s;if(t==="YY"){const a=o%100;return ye(a,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):ye(o,t.length)},R:function(e,t){const r=Ky(e);return ye(r,t.length)},u:function(e,t){const r=e.getFullYear();return ye(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ye(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ye(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Yr.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ye(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=JA(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):ye(s,t.length)},I:function(e,t,r){const n=QA(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ye(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Yr.d(e,t)},D:function(e,t,r){const n=KA(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ye(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ye(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ye(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return ye(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Ns.noon:n===0?s=Ns.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Ns.evening:n>=12?s=Ns.afternoon:n>=4?s=Ns.morning:s=Ns.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Yr.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Yr.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ye(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ye(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Yr.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Yr.s(e,t)},S:function(e,t){return Yr.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Og(n);case"XXXX":case"XX":return Wn(n);case"XXXXX":case"XXX":default:return Wn(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Og(n);case"xxxx":case"xx":return Wn(n);case"xxxxx":case"xxx":default:return Wn(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Rg(n,":");case"OOOO":default:return"GMT"+Wn(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Rg(n,":");case"zzzz":default:return"GMT"+Wn(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return ye(n,t.length)},T:function(e,t,r){return ye(+e,t.length)}};function Rg(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+ye(o,2)}function Og(e,t){return e%60===0?(e>0?"-":"+")+ye(Math.abs(e)/60,2):Wn(e,t)}function Wn(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=ye(Math.trunc(n/60),2),o=ye(n%60,2);return r+s+t+o}const Ig=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Jy=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ZA=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Ig(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Ig(n,t)).replace("{{time}}",Jy(s,t))},eT={p:Jy,P:ZA},tT=/^D+$/,rT=/^Y+$/,nT=["D","DD","YY","YYYY"];function sT(e){return tT.test(e)}function oT(e){return rT.test(e)}function iT(e,t,r){const n=aT(e,t,r);if(console.warn(n),nT.includes(e))throw new RangeError(n)}function aT(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lT=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cT=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uT=/^'([^]*?)'?$/,dT=/''/g,fT=/[a-zA-Z]/;function hT(e,t,r){var f,d,m,p;const n=zi(),s=n.locale??Qy,o=n.firstWeekContainsDate??((d=(f=n.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,l=Ie(e,r==null?void 0:r.in);if(!aA(l))throw new RangeError("Invalid time value");let c=t.match(cT).map(w=>{const g=w[0];if(g==="p"||g==="P"){const x=eT[g];return x(w,s.formatLong)}return w}).join("").match(lT).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const g=w[0];if(g==="'")return{isToken:!1,value:mT(w)};if(Tg[g])return{isToken:!0,value:w};if(g.match(fT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:a,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const g=w.value;(oT(g)||sT(g))&&iT(g,t,String(e));const x=Tg[g[0]];return x(l,g,s.localize,u)}).join("")}function mT(e){const t=e.match(uT);return t?t[1].replace(dT,"'"):e}function pT(e,t,r){const n=zi(),s=(r==null?void 0:r.locale)??n.locale??Qy,o=2520,a=$a(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a}),[c,u]=jc(r==null?void 0:r.in,...a>0?[t,e]:[e,t]),f=pA(u,c),d=(Nl(u)-Nl(c))/1e3,m=Math.round((f-d)/60);let p;if(m<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):m===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",m,l);if(m<45)return s.formatDistance("xMinutes",m,l);if(m<90)return s.formatDistance("aboutXHours",1,l);if(m<Cg){const w=Math.round(m/60);return s.formatDistance("aboutXHours",w,l)}else{if(m<o)return s.formatDistance("xDays",1,l);if(m<ya){const w=Math.round(m/Cg);return s.formatDistance("xDays",w,l)}else if(m<ya*2)return p=Math.round(m/ya),s.formatDistance("aboutXMonths",p,l)}if(p=mA(u,c),p<12){const w=Math.round(m/ya);return s.formatDistance("xMonths",w,l)}else{const w=p%12,g=Math.trunc(p/12);return w<3?s.formatDistance("aboutXYears",g,l):w<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function gT(e,t){return pT(e,oA(e),t)}function Su(e,t){return+Ie(e)<+Ie(t)}const vT=pc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _i({className:e,variant:t,...r}){return i.jsx("div",{className:ee(vT({variant:t}),e),...r})}const Zy=()=>{const{user:e}=Ve(),[t,r]=h.useState(!1),[n,s]=h.useState([]),o=h.useCallback(async()=>{if(e)try{r(!0);const{data:l,error:c}=await Y.from("refund_requests").select("*").eq("user_id",e.id);if(c)throw c;s((l||[]).map(u=>({...u,status:u.status})))}catch(l){console.error("Error fetching refund requests:",l),W.error("Failed to load refund requests")}finally{r(!1)}},[e]),a=h.useCallback(async(l,c)=>{if(!e)return W.error("You must be logged in to request a refund"),null;try{r(!0);const{data:u,error:f}=await Y.from("refund_requests").select("id").eq("order_id",l).eq("user_id",e.id);if(f)throw f;if(u&&u.length>0)return W.error("You have already submitted a refund request for this order"),null;const{data:d,error:m}=await Y.from("refund_requests").insert({order_id:l,user_id:e.id,reason:c}).select().single();if(m)throw m;return W.success("Refund request submitted successfully"),d}catch(u){return console.error("Error creating refund request:",u),W.error("Failed to submit refund request"),null}finally{r(!1)}},[e]);return{refundRequests:n,loading:t,fetchRefundRequests:o,createRefundRequest:a}};var xT=qa.useId||(()=>{}),yT=0;function bn(e){const[t,r]=h.useState(xT());return st(()=>{r(n=>n??String(yT++))},[e]),t?`radix-${t}`:""}function wT(e,t=globalThis==null?void 0:globalThis.document){const r=Ir(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var bT="DismissableLayer",ef="dismissableLayer.update",jT="dismissableLayer.pointerDownOutside",NT="dismissableLayer.focusOutside",Dg,ew=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fh=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=e,u=h.useContext(ew),[f,d]=h.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),w=Se(t,_=>d(_)),g=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(x),v=f?g.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=y,N=kT(_=>{const C=_.target,z=[...u.branches].some(O=>O.contains(C));!j||z||(s==null||s(_),a==null||a(_),_.defaultPrevented||l==null||l())},m),S=CT(_=>{const C=_.target;[...u.branches].some(O=>O.contains(C))||(o==null||o(_),a==null||a(_),_.defaultPrevented||l==null||l())},m);return wT(_=>{v===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},m),h.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Dg=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Mg(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Dg)}},[f,m,r,u]),h.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Mg())},[f,u]),h.useEffect(()=>{const _=()=>p({});return document.addEventListener(ef,_),()=>document.removeEventListener(ef,_)},[]),i.jsx(ge.div,{...c,ref:w,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:xe(e.onFocusCapture,S.onFocusCapture),onBlurCapture:xe(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:xe(e.onPointerDownCapture,N.onPointerDownCapture)})});Fh.displayName=bT;var ST="DismissableLayerBranch",_T=h.forwardRef((e,t)=>{const r=h.useContext(ew),n=h.useRef(null),s=Se(t,n);return h.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),i.jsx(ge.div,{...e,ref:s})});_T.displayName=ST;function kT(e,t=globalThis==null?void 0:globalThis.document){const r=Ir(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){tw(jT,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function CT(e,t=globalThis==null?void 0:globalThis.document){const r=Ir(e),n=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!n.current&&tw(NT,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Mg(){const e=new CustomEvent(ef);document.dispatchEvent(e)}function tw(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?A3(s,o):s.dispatchEvent(o)}var _u="focusScope.autoFocusOnMount",ku="focusScope.autoFocusOnUnmount",$g={bubbles:!1,cancelable:!0},ET="FocusScope",zh=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=e,[l,c]=h.useState(null),u=Ir(s),f=Ir(o),d=h.useRef(null),m=Se(t,g=>c(g)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let g=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?d.current=j:Xr(d.current,{select:!0})},x=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Xr(d.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Xr(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),v.disconnect()}}},[n,l,p.paused]),h.useEffect(()=>{if(l){Fg.add(p);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(_u,$g);l.addEventListener(_u,u),l.dispatchEvent(y),y.defaultPrevented||(PT(IT(rw(l)),{select:!0}),document.activeElement===g&&Xr(l))}return()=>{l.removeEventListener(_u,u),setTimeout(()=>{const y=new CustomEvent(ku,$g);l.addEventListener(ku,f),l.dispatchEvent(y),y.defaultPrevented||Xr(g??document.body,{select:!0}),l.removeEventListener(ku,f),Fg.remove(p)},0)}}},[l,u,f,p]);const w=h.useCallback(g=>{if(!r&&!n||p.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(x&&y){const v=g.currentTarget,[b,j]=AT(v);b&&j?!g.shiftKey&&y===j?(g.preventDefault(),r&&Xr(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),r&&Xr(j,{select:!0})):y===v&&g.preventDefault()}},[r,n,p.paused]);return i.jsx(ge.div,{tabIndex:-1,...a,ref:m,onKeyDown:w})});zh.displayName=ET;function PT(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Xr(n,{select:t}),document.activeElement!==r)return}function AT(e){const t=rw(e),r=Lg(t,e),n=Lg(t.reverse(),e);return[r,n]}function rw(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Lg(e,t){for(const r of e)if(!TT(r,{upTo:t}))return r}function TT(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function RT(e){return e instanceof HTMLInputElement&&"select"in e}function Xr(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&RT(e)&&t&&e.select()}}var Fg=OT();function OT(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=zg(e,t),e.unshift(t)},remove(t){var r;e=zg(e,t),(r=e[0])==null||r.resume()}}}function zg(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function IT(e){return e.filter(t=>t.tagName!=="A")}var DT="Portal",Bh=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=h.useState(!1);st(()=>o(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?px.createPortal(i.jsx(ge.div,{...n,ref:t}),a):null});Bh.displayName=DT;var Cu=0;function nw(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Bg()),document.body.insertAdjacentElement("beforeend",e[1]??Bg()),Cu++,()=>{Cu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Cu--}},[])}function Bg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var cr=function(){return cr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},cr.apply(this,arguments)};function sw(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function MT(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var La="right-scroll-bar-position",Fa="width-before-scroll-bar",$T="with-scroll-bars-hidden",LT="--removed-body-scroll-bar-size";function Eu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function FT(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var zT=typeof window<"u"?h.useLayoutEffect:h.useEffect,Ug=new WeakMap;function BT(e,t){var r=FT(null,function(n){return e.forEach(function(s){return Eu(s,n)})});return zT(function(){var n=Ug.get(r);if(n){var s=new Set(n),o=new Set(e),a=r.current;s.forEach(function(l){o.has(l)||Eu(l,null)}),o.forEach(function(l){s.has(l)||Eu(l,a)})}Ug.set(r,e)},[e]),r}function UT(e){return e}function WT(e,t){t===void 0&&(t=UT);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var a=t(o,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(n=!0;r.length;){var a=r;r=[],a.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(o),a=r}var c=function(){var f=a;a=[],f.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){a.push(f),u()},filter:function(f){return a=a.filter(f),r}}}};return s}function HT(e){e===void 0&&(e={});var t=WT(null);return t.options=cr({async:!0,ssr:!1},e),t}var ow=function(e){var t=e.sideCar,r=sw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,cr({},r))};ow.isSideCarExport=!0;function qT(e,t){return e.useMedium(t),ow}var iw=HT(),Pu=function(){},Nc=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:Pu,onWheelCapture:Pu,onTouchMoveCapture:Pu}),s=n[0],o=n[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,m=e.sideCar,p=e.noIsolation,w=e.inert,g=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,v=e.gapMode,b=sw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,N=BT([r,t]),S=cr(cr({},b),s);return h.createElement(h.Fragment,null,f&&h.createElement(j,{sideCar:iw,removeScrollBar:u,shards:d,noIsolation:p,inert:w,setCallbacks:o,allowPinchZoom:!!g,lockRef:r,gapMode:v}),a?h.cloneElement(h.Children.only(l),cr(cr({},S),{ref:N})):h.createElement(y,cr({},S,{className:c,ref:N}),l))});Nc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nc.classNames={fullWidth:Fa,zeroRight:La};var VT=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function GT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=VT();return t&&e.setAttribute("nonce",t),e}function YT(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function KT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var QT=function(){var e=0,t=null;return{add:function(r){e==0&&(t=GT())&&(YT(t,r),KT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},XT=function(){var e=QT();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},aw=function(){var e=XT(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},JT={left:0,top:0,right:0,gap:0},Au=function(e){return parseInt(e||"",10)||0},ZT=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Au(r),Au(n),Au(s)]},eR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return JT;var t=ZT(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},tR=aw(),Ks="data-scroll-locked",rR=function(e,t,r,n){var s=e.left,o=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat($T,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ks,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(La,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Fa,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(La," .").concat(La,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Fa," .").concat(Fa,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ks,`] {
    `).concat(LT,": ").concat(l,`px;
  }
`)},Wg=function(){var e=parseInt(document.body.getAttribute(Ks)||"0",10);return isFinite(e)?e:0},nR=function(){h.useEffect(function(){return document.body.setAttribute(Ks,(Wg()+1).toString()),function(){var e=Wg()-1;e<=0?document.body.removeAttribute(Ks):document.body.setAttribute(Ks,e.toString())}},[])},sR=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;nR();var o=h.useMemo(function(){return eR(s)},[s]);return h.createElement(tR,{styles:rR(o,!t,s,r?"":"!important")})},tf=!1;if(typeof window<"u")try{var wa=Object.defineProperty({},"passive",{get:function(){return tf=!0,!0}});window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{tf=!1}var Ss=tf?{passive:!1}:!1,oR=function(e){return e.tagName==="TEXTAREA"},lw=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!oR(e)&&r[t]==="visible")},iR=function(e){return lw(e,"overflowY")},aR=function(e){return lw(e,"overflowX")},Hg=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=cw(e,n);if(s){var o=uw(e,n),a=o[1],l=o[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},lR=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},cR=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},cw=function(e,t){return e==="v"?iR(t):aR(t)},uw=function(e,t){return e==="v"?lR(t):cR(t)},uR=function(e,t){return e==="h"&&t==="rtl"?-1:1},dR=function(e,t,r,n,s){var o=uR(e,window.getComputedStyle(t).direction),a=o*n,l=r.target,c=t.contains(l),u=!1,f=a>0,d=0,m=0;do{var p=uw(e,l),w=p[0],g=p[1],x=p[2],y=g-x-o*w;(w||y)&&cw(e,l)&&(d+=y,m+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(d)<1||!f&&Math.abs(m)<1)&&(u=!0),u},ba=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qg=function(e){return[e.deltaX,e.deltaY]},Vg=function(e){return e&&"current"in e?e.current:e},fR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},hR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},mR=0,_s=[];function pR(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(mR++)[0],o=h.useState(aw)[0],a=h.useRef(e);h.useEffect(function(){a.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=MT([e.lockRef.current],(e.shards||[]).map(Vg),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var y=ba(g),v=r.current,b="deltaX"in g?g.deltaX:v[0]-y[0],j="deltaY"in g?g.deltaY:v[1]-y[1],N,S=g.target,_=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in g&&_==="h"&&S.type==="range")return!1;var C=Hg(_,S);if(!C)return!0;if(C?N=_:(N=_==="v"?"h":"v",C=Hg(_,S)),!C)return!1;if(!n.current&&"changedTouches"in g&&(b||j)&&(n.current=N),!N)return!0;var z=n.current||N;return dR(z,x,g,z==="h"?b:j)},[]),c=h.useCallback(function(g){var x=g;if(!(!_s.length||_s[_s.length-1]!==o)){var y="deltaY"in x?qg(x):ba(x),v=t.current.filter(function(N){return N.name===x.type&&(N.target===x.target||x.target===N.shadowParent)&&fR(N.delta,y)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var b=(a.current.shards||[]).map(Vg).filter(Boolean).filter(function(N){return N.contains(x.target)}),j=b.length>0?l(x,b[0]):!a.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),u=h.useCallback(function(g,x,y,v){var b={name:g,delta:x,target:y,should:v,shadowParent:gR(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),f=h.useCallback(function(g){r.current=ba(g),n.current=void 0},[]),d=h.useCallback(function(g){u(g.type,qg(g),g.target,l(g,e.lockRef.current))},[]),m=h.useCallback(function(g){u(g.type,ba(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return _s.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ss),document.addEventListener("touchmove",c,Ss),document.addEventListener("touchstart",f,Ss),function(){_s=_s.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,Ss),document.removeEventListener("touchmove",c,Ss),document.removeEventListener("touchstart",f,Ss)}},[]);var p=e.removeScrollBar,w=e.inert;return h.createElement(h.Fragment,null,w?h.createElement(o,{styles:hR(s)}):null,p?h.createElement(sR,{gapMode:e.gapMode}):null)}function gR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const vR=qT(iw,pR);var Uh=h.forwardRef(function(e,t){return h.createElement(Nc,cr({},e,{ref:t,sideCar:vR}))});Uh.classNames=Nc.classNames;var xR=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ks=new WeakMap,ja=new WeakMap,Na={},Tu=0,dw=function(e){return e&&(e.host||dw(e.parentNode))},yR=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=dw(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},wR=function(e,t,r,n){var s=yR(t,Array.isArray(e)?e:[e]);Na[r]||(Na[r]=new WeakMap);var o=Na[r],a=[],l=new Set,c=new Set(s),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};s.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(m){if(l.has(m))f(m);else try{var p=m.getAttribute(n),w=p!==null&&p!=="false",g=(ks.get(m)||0)+1,x=(o.get(m)||0)+1;ks.set(m,g),o.set(m,x),a.push(m),g===1&&w&&ja.set(m,!0),x===1&&m.setAttribute(r,"true"),w||m.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return f(t),l.clear(),Tu++,function(){a.forEach(function(d){var m=ks.get(d)-1,p=o.get(d)-1;ks.set(d,m),o.set(d,p),m||(ja.has(d)||d.removeAttribute(n),ja.delete(d)),p||d.removeAttribute(r)}),Tu--,Tu||(ks=new WeakMap,ks=new WeakMap,ja=new WeakMap,Na={})}},fw=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=xR(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),wR(n,s,r,"aria-hidden")):function(){return null}},Wh="Dialog",[hw,mw]=Rn(Wh),[bR,nr]=hw(Wh),pw=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,l=h.useRef(null),c=h.useRef(null),[u=!1,f]=os({prop:n,defaultProp:s,onChange:o});return i.jsx(bR,{scope:t,triggerRef:l,contentRef:c,contentId:bn(),titleId:bn(),descriptionId:bn(),open:u,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(d=>!d),[f]),modal:a,children:r})};pw.displayName=Wh;var gw="DialogTrigger",vw=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=nr(gw,r),o=Se(t,s.triggerRef);return i.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Vh(s.open),...n,ref:o,onClick:xe(e.onClick,s.onOpenToggle)})});vw.displayName=gw;var Hh="DialogPortal",[jR,xw]=hw(Hh,{forceMount:void 0}),yw=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=nr(Hh,t);return i.jsx(jR,{scope:t,forceMount:r,children:h.Children.map(n,a=>i.jsx(No,{present:r||o.open,children:i.jsx(Bh,{asChild:!0,container:s,children:a})}))})};yw.displayName=Hh;var Sl="DialogOverlay",ww=h.forwardRef((e,t)=>{const r=xw(Sl,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=nr(Sl,e.__scopeDialog);return o.modal?i.jsx(No,{present:n||o.open,children:i.jsx(NR,{...s,ref:t})}):null});ww.displayName=Sl;var NR=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=nr(Sl,r);return i.jsx(Uh,{as:ss,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(ge.div,{"data-state":Vh(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),as="DialogContent",bw=h.forwardRef((e,t)=>{const r=xw(as,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=nr(as,e.__scopeDialog);return i.jsx(No,{present:n||o.open,children:o.modal?i.jsx(SR,{...s,ref:t}):i.jsx(_R,{...s,ref:t})})});bw.displayName=as;var SR=h.forwardRef((e,t)=>{const r=nr(as,e.__scopeDialog),n=h.useRef(null),s=Se(t,r.contentRef,n);return h.useEffect(()=>{const o=n.current;if(o)return fw(o)},[]),i.jsx(jw,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:xe(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:xe(e.onFocusOutside,o=>o.preventDefault())})}),_R=h.forwardRef((e,t)=>{const r=nr(as,e.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return i.jsx(jw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),jw=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=e,l=nr(as,r),c=h.useRef(null),u=Se(t,c);return nw(),i.jsxs(i.Fragment,{children:[i.jsx(zh,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(Fh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Vh(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(CR,{titleId:l.titleId}),i.jsx(PR,{contentRef:c,descriptionId:l.descriptionId})]})]})}),qh="DialogTitle",Nw=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=nr(qh,r);return i.jsx(ge.h2,{id:s.titleId,...n,ref:t})});Nw.displayName=qh;var Sw="DialogDescription",_w=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=nr(Sw,r);return i.jsx(ge.p,{id:s.descriptionId,...n,ref:t})});_w.displayName=Sw;var kw="DialogClose",Cw=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=nr(kw,r);return i.jsx(ge.button,{type:"button",...n,ref:t,onClick:xe(e.onClick,()=>s.onOpenChange(!1))})});Cw.displayName=kw;function Vh(e){return e?"open":"closed"}var Ew="DialogTitleWarning",[kR,Pw]=N3(Ew,{contentName:as,titleName:qh,docsSlug:"dialog"}),CR=({titleId:e})=>{const t=Pw(Ew),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},ER="DialogDescriptionWarning",PR=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pw(ER).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Aw=pw,AR=vw,Tw=yw,Gh=ww,Yh=bw,Kh=Nw,Qh=_w,Xh=Cw,Rw="AlertDialog",[TR,OI]=Rn(Rw,[mw]),zr=mw(),Ow=e=>{const{__scopeAlertDialog:t,...r}=e,n=zr(t);return i.jsx(Aw,{...n,...r,modal:!0})};Ow.displayName=Rw;var RR="AlertDialogTrigger",Iw=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zr(r);return i.jsx(AR,{...s,...n,ref:t})});Iw.displayName=RR;var OR="AlertDialogPortal",Dw=e=>{const{__scopeAlertDialog:t,...r}=e,n=zr(t);return i.jsx(Tw,{...n,...r})};Dw.displayName=OR;var IR="AlertDialogOverlay",Mw=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zr(r);return i.jsx(Gh,{...s,...n,ref:t})});Mw.displayName=IR;var Qs="AlertDialogContent",[DR,MR]=TR(Qs),$w=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=zr(r),a=h.useRef(null),l=Se(t,a),c=h.useRef(null);return i.jsx(kR,{contentName:Qs,titleName:Lw,docsSlug:"alert-dialog",children:i.jsx(DR,{scope:r,cancelRef:c,children:i.jsxs(Yh,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:xe(s.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx($y,{children:n}),i.jsx(LR,{contentRef:a})]})})})});$w.displayName=Qs;var Lw="AlertDialogTitle",Fw=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zr(r);return i.jsx(Kh,{...s,...n,ref:t})});Fw.displayName=Lw;var zw="AlertDialogDescription",Bw=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zr(r);return i.jsx(Qh,{...s,...n,ref:t})});Bw.displayName=zw;var $R="AlertDialogAction",Uw=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zr(r);return i.jsx(Xh,{...s,...n,ref:t})});Uw.displayName=$R;var Ww="AlertDialogCancel",Hw=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=MR(Ww,r),o=zr(r),a=Se(t,s);return i.jsx(Xh,{...o,...n,ref:a})});Hw.displayName=Ww;var LR=({contentRef:e})=>{const t=`\`${Qs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Qs}\` by passing a \`${zw}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Qs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},FR=Ow,zR=Iw,BR=Dw,qw=Mw,Vw=$w,Gw=Uw,Yw=Hw,Kw=Fw,Qw=Bw;const UR=FR,WR=zR,HR=BR,Xw=h.forwardRef(({className:e,...t},r)=>i.jsx(qw,{className:ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Xw.displayName=qw.displayName;const Jw=h.forwardRef(({className:e,...t},r)=>i.jsxs(HR,{children:[i.jsx(Xw,{}),i.jsx(Vw,{ref:r,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Jw.displayName=Vw.displayName;const Zw=({className:e,...t})=>i.jsx("div",{className:ee("flex flex-col space-y-2 text-center sm:text-left",e),...t});Zw.displayName="AlertDialogHeader";const e1=({className:e,...t})=>i.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});e1.displayName="AlertDialogFooter";const t1=h.forwardRef(({className:e,...t},r)=>i.jsx(Kw,{ref:r,className:ee("text-lg font-semibold",e),...t}));t1.displayName=Kw.displayName;const r1=h.forwardRef(({className:e,...t},r)=>i.jsx(Qw,{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));r1.displayName=Qw.displayName;const n1=h.forwardRef(({className:e,...t},r)=>i.jsx(Gw,{ref:r,className:ee(gc(),e),...t}));n1.displayName=Gw.displayName;const s1=h.forwardRef(({className:e,...t},r)=>i.jsx(Yw,{ref:r,className:ee(gc({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));s1.displayName=Yw.displayName;const Jh=h.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Jh.displayName="Textarea";function qR({orderId:e,onSuccess:t,disabled:r=!1}){const{t:n}=ne(),{createRefundRequest:s}=Zy(),[o,a]=h.useState(""),[l,c]=h.useState(!1),[u,f]=h.useState(!1),d=async()=>{if(o.trim()){c(!0);try{await s(e,o)&&(f(!1),a(""),t&&t())}finally{c(!1)}}};return i.jsxs(UR,{open:u,onOpenChange:f,children:[i.jsx(WR,{asChild:!0,children:i.jsx(te,{variant:"outline",size:"sm",className:"border-red-200 text-red-700 hover:bg-red-50",disabled:r,children:n("requestRefund")})}),i.jsxs(Jw,{children:[i.jsxs(Zw,{children:[i.jsx(t1,{children:n("requestRefund")}),i.jsx(r1,{children:n("refundRequestDescription")})]}),i.jsx("div",{className:"py-4",children:i.jsx(Jh,{placeholder:n("refundReasonPlaceholder"),value:o,onChange:m=>a(m.target.value),rows:4,className:"w-full"})}),i.jsxs(e1,{children:[i.jsx(s1,{children:n("cancel")}),i.jsx(n1,{onClick:m=>{m.preventDefault(),d()},disabled:l||!o.trim(),className:"bg-red-600 hover:bg-red-700 text-white",children:l?i.jsxs(i.Fragment,{children:[i.jsx(by,{className:"mr-2 h-4 w-4 animate-spin"}),n("submitting")]}):n("submitRequest")})]})]})]})}function VR(){const{orders:e,loading:t,error:r,refetch:n}=J3(),{t:s,language:o}=ne(),[a,l]=h.useState(null),c=o==="ar",{refundRequests:u,fetchRefundRequests:f}=Zy(),[d,m]=h.useState(new Set);h.useEffect(()=>{f()},[f]),h.useEffect(()=>{if(u.length>0){const j=new Set(u.map(N=>N.order_id));m(j)}},[u]);const p=j=>{switch(j){case"pending":return i.jsx(N5,{className:"h-5 w-5 text-orange-500"});case"processing":return i.jsx(Gd,{className:"h-5 w-5 text-blue-500"});case"shipped":return i.jsx(Gd,{className:"h-5 w-5 text-purple-500"});case"delivered":return i.jsx(y5,{className:"h-5 w-5 text-green-500"});case"cancelled":return i.jsx(b5,{className:"h-5 w-5 text-red-500"});default:return i.jsx(dP,{className:"h-5 w-5 text-gray-500"})}},w=j=>{switch(j){case"pending":return"bg-orange-100 text-orange-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=j=>{if(j.status!=="pending"&&j.status!=="processing")return!1;const N=new Date(j.created_at),S=Ag(N,30);return Su(new Date,S)},x=j=>{const N=new Date(j.created_at),S=Ag(N,30);return Su(new Date,S)?gT(S,{addSuffix:!0}):null},y=async j=>{try{l(j);const{error:N}=await Y.from("orders").update({status:"cancelled"}).eq("id",j);if(N)throw N;W.success(s("orderCancelled")),n()}catch(N){console.error("Error cancelling order:",N),W.error(s("errorCancellingOrder"))}finally{l(null)}},v=j=>{if(j.status==="pending"||j.status==="cancelled")return!1;const N=new Date(j.created_at),S=tA(N,14),_=new Date;return d.has(j.id)?!1:Su(_,S)},b=()=>{f(),W.success(s("refundRequestSubmitted"))};return t?i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-500"}),i.jsx("p",{className:"mt-2 text-gray-500",children:s("loadingOrders")})]})}):r?i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:i.jsxs("div",{className:"text-center text-red-500",children:[i.jsx("p",{children:s("errorLoadingOrders")}),i.jsx("p",{className:"text-sm",children:r})]})}):i.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 ${c?"rtl":"ltr"}`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s("myOrders")}),i.jsxs(te,{variant:"outline",size:"sm",onClick:()=>n(),className:"flex items-center gap-2",children:[i.jsx(Ny,{className:"h-4 w-4"}),s("refresh")]})]}),e.length===0?i.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[i.jsx(K5,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-1",children:s("noOrdersYet")}),i.jsx("p",{className:"text-gray-500",children:s("startShoppingToSeeOrders")}),i.jsx(te,{className:"mt-4",onClick:()=>window.location.href="/products",children:s("browseProducts")})]}):i.jsx("div",{className:"space-y-8",children:e.map(j=>{var N;return i.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[i.jsxs("div",{className:"px-6 py-4 border-b bg-gray-50 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm text-gray-500",children:[s("orderId"),":"]}),i.jsx("span",{className:"font-medium",children:j.id.substring(0,8)})]}),i.jsx("div",{className:"text-sm text-gray-500",children:hT(new Date(j.created_at),"PPP p")})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(_i,{className:`flex items-center gap-1 px-3 py-1 ${w(j.status)}`,children:[p(j.status),s(j.status)]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[g(j)&&j.status!=="cancelled"&&i.jsx(te,{variant:"destructive",size:"sm",onClick:()=>y(j.id),disabled:a===j.id,children:a===j.id?s("cancelling"):s("cancelOrder")}),v(j)&&i.jsx(qR,{orderId:j.id,onSuccess:b,disabled:d.has(j.id)}),d.has(j.id)&&i.jsx("span",{className:"text-xs text-amber-600 font-medium",children:s("refundRequested")}),g(j)&&j.status!=="cancelled"&&i.jsxs("span",{className:"text-xs text-gray-500",children:[s("cancelAvailable")," ",x(j)]})]})]})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:s("shippingDetails")}),i.jsxs("p",{className:"text-gray-700",children:[j.first_name," ",j.last_name]}),i.jsx("p",{className:"text-gray-700",children:j.address}),i.jsxs("p",{className:"text-gray-700",children:[j.city,", ",j.postal_code]}),i.jsx("p",{className:"text-gray-700",children:j.email}),i.jsx("p",{className:"text-gray-700",children:j.phone})]}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:s("orderedItems")}),i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("product")}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("quantity")}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("price")})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(N=j.items)==null?void 0:N.map(S=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S.product_name}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:S.quantity}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:[S.price.toFixed(2)," EGP"]})]},S.id))}),i.jsx("tfoot",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsxs("td",{colSpan:2,className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-right",children:[s("total"),":"]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900 text-right",children:[j.total_amount.toFixed(2)," EGP"]})]})})]})})]})]},j.id)})})]})}function o1({product:e}){const{items:t,addItem:r,removeItem:n,updateQuantity:s}=hs(),{t:o,language:a}=ne(),l=t.find(x=>x.product.id===e.id),c=$e(),[u,f]=h.useState(""),d=a==="ar";h.useEffect(()=>{(async()=>{const{data:y,error:v}=await Y.from("shops").select("name").eq("id",e.shopId).single();!v&&y&&f(y.name)})()},[e.shopId]);const m=()=>{c(`/products/${e.id}`)},p=(x,y)=>{y.stopPropagation(),c(`/products/${e.id}`)},w=()=>{if(e.stock<=0){W.error(o("outOfStock"));return}if(l&&l.quantity>=e.stock){W.error(`${o("maxStockReached")}: ${e.stock}`);return}r(e)},g=()=>{if(l){if(l.quantity>=e.stock){W.error(`${o("maxStockReached")}: ${e.stock}`);return}s(e.id,l.quantity+1)}};return i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 flex flex-col h-[420px]",children:[i.jsxs("div",{className:"aspect-square w-full overflow-hidden bg-gray-200 cursor-pointer relative",onClick:m,children:[i.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),i.jsx("button",{className:"absolute top-2 right-2 bg-white p-2 rounded-full shadow-md hover:bg-gray-100",onClick:x=>{x.stopPropagation(),m()},children:i.jsx(A5,{className:"h-4 w-4 text-gray-700"})})]}),i.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2 h-14",children:[e.name," ",u&&i.jsxs("span",{className:"text-gray-600",children:["(",u,")"]})]}),i.jsx("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2 h-10",children:e.description}),i.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[i.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[e.price.toFixed(2)," EGP"]}),i.jsx("span",{className:`text-sm ${e.stock>0?"text-green-600":"text-red-600"}`,children:e.stock>0?`${e.stock} ${o("inStock")}`:o("outOfStock")})]}),i.jsx("div",{className:"mt-2 overflow-y-auto max-h-16 scrollbar-thin scrollbar-thumb-gray-300",children:i.jsx("div",{className:"flex flex-wrap gap-1",children:e.compatibility.map(x=>i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 cursor-pointer hover:bg-indigo-100",onClick:y=>p(x,y),children:x},x))})}),i.jsx("div",{className:"mt-auto pt-3",children:e.stock>0&&(l?i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("button",{onClick:()=>s(e.id,Math.max(0,l.quantity-1)),className:"flex-1 flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium bg-gray-100 text-gray-800 hover:bg-gray-200",children:i.jsx(Ph,{className:"h-5 w-5"})}),i.jsx("span",{className:"text-lg font-medium text-gray-900",children:l.quantity}),i.jsx("button",{onClick:g,className:"flex-1 flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium bg-gray-100 text-gray-800 hover:bg-gray-200",children:i.jsx(co,{className:"h-5 w-5"})}),i.jsx("button",{onClick:()=>n(e.id),className:"flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium bg-red-100 text-red-600 hover:bg-red-200","aria-label":o("remove"),children:i.jsx(hc,{className:"h-5 w-5"})})]}):i.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700",children:[i.jsx(co,{className:`h-5 w-5 ${d?"ml-2":"mr-2"}`}),o("addToCart")]}))})]})]})}function GR(){const{t:e,language:t}=ne(),{products:r,loading:n}=Fy(),{categories:s,loading:o}=mc(),[a,l]=_x(),c=a.get("category"),u=a.get("make"),f=a.get("model"),[d,m]=h.useState(c||""),[p,w]=h.useState(""),[g,x]=h.useState(1),y=9,[v,b]=h.useState(t==="ar"),[j,N]=h.useState({});h.useEffect(()=>{const D={};c&&(D.category=c,m(c)),u&&(D.make=u),f&&(D.model=f),Object.keys(D).length>0&&N(D)},[c,u,f]),h.useEffect(()=>{const D=new URLSearchParams(a);d?D.set("category",d):D.delete("category"),l(D)},[d,l]),h.useEffect(()=>(b(t==="ar"),document.body.classList.toggle("rtl",t==="ar"),()=>{document.body.classList.remove("rtl")}),[t]);const S=r.filter(D=>!d||D.category===d).filter(D=>!p||D.name.toLowerCase().includes(p.toLowerCase())||D.description.toLowerCase().includes(p.toLowerCase())).filter(D=>!j.make&&!j.model?!0:D.compatibility.some(R=>j.make&&j.model?R.toLowerCase().includes(j.make.toLowerCase())&&R.toLowerCase().includes(j.model.toLowerCase()):j.make?R.toLowerCase().includes(j.make.toLowerCase()):j.model?R.toLowerCase().includes(j.model.toLowerCase()):!0)),_=g*y,C=_-y,z=S.slice(C,_),O=Math.ceil(S.length/y);h.useEffect(()=>{x(1)},[d,p,j]);const H=()=>{g<O&&x(g+1)},K=()=>{N({}),m(""),l({})};return i.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 ${v?"rtl":""}`,children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8 gap-4",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e("products")}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(le,{type:"text",placeholder:e("searchProducts"),value:p,onChange:D=>w(D.target.value),className:`pl-10 pr-4 py-2 ${v?"text-right pr-10 pl-4":""}`}),i.jsx(fc,{className:`absolute ${v?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400`})]}),i.jsxs("div",{className:"relative flex items-center",children:[i.jsx(wy,{className:`absolute ${v?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400`}),i.jsxs("select",{id:"category",value:d,onChange:D=>m(D.target.value),className:`rounded-md border-gray-300 py-2 ${v?"pr-10 pl-3 text-right":"pl-10 pr-3"} text-base focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 w-full`,children:[i.jsx("option",{value:"",children:e("allCategories")}),s.map(D=>i.jsx("option",{value:D.name,children:D.name},D.id))]})]})]})]}),(j.category||j.make||j.model)&&i.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-2",children:[i.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e("activeFilters"),":"]}),j.category&&i.jsxs(_i,{className:"bg-indigo-100 text-indigo-800 hover:bg-indigo-200 flex items-center gap-1",children:[j.category,i.jsx("button",{onClick:K,className:"ml-1",children:i.jsx(Yd,{className:"h-3 w-3"})})]}),(j.make||j.model)&&i.jsxs(_i,{className:"bg-indigo-100 text-indigo-800 hover:bg-indigo-200 flex items-center gap-1",children:[j.make&&`${j.make}`," ",j.model&&`${j.model}`,i.jsx("button",{onClick:K,className:"ml-1",children:i.jsx(Yd,{className:"h-3 w-3"})})]})]}),n||o?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:e("loadingProducts")})]}):S.length===0?i.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg shadow-sm",children:[i.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),i.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:e("noProductsFound")}),i.jsxs("p",{className:"text-gray-500",children:[d&&`${e("for")} ${d}`,(j.make||j.model)&&` ${e("matching")} ${j.make||""} ${j.model||""}`]}),(j.category||j.make||j.model)&&i.jsx(te,{onClick:K,variant:"outline",className:"mt-4",children:e("clearFilters")})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(D=>i.jsx(o1,{product:D},D.id))}),i.jsxs("div",{className:"mt-8 flex flex-col items-center",children:[_<S.length&&i.jsx(te,{onClick:H,className:"mb-4",variant:"outline",children:e("loadMore")}),i.jsx(vc,{children:i.jsxs(xc,{children:[i.jsx(mt,{children:i.jsx(yc,{onClick:()=>x(D=>Math.max(D-1,1)),className:`cursor-pointer ${g===1?"pointer-events-none opacity-50":""}`})}),Array.from({length:Math.min(O,5)}).map((D,R)=>{const M=g>3?g-3+R+1:R+1;return M<=O?i.jsx(mt,{children:i.jsx(yn,{isActive:g===M,onClick:()=>x(M),className:"cursor-pointer",children:M})},M):null}),i.jsx(mt,{children:i.jsx(wc,{onClick:()=>x(D=>Math.min(D+1,O)),className:`cursor-pointer ${g===O?"pointer-events-none opacity-50":""}`})})]})})]})]})]})}var YR="Separator",Gg="horizontal",KR=["horizontal","vertical"],i1=h.forwardRef((e,t)=>{const{decorative:r,orientation:n=Gg,...s}=e,o=QR(n)?n:Gg,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return i.jsx(ge.div,{"data-orientation":o,...l,...s,ref:t})});i1.displayName=YR;function QR(e){return KR.includes(e)}var a1=i1;const Zh=h.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>i.jsx(a1,{ref:s,decorative:r,orientation:t,className:ee("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Zh.displayName=a1.displayName;function l1(){const{user:e}=Ve(),[t,r]=h.useState([]),[n,s]=h.useState(!0),[o,a]=h.useState(null),l=h.useCallback(async()=>{if(!e){r([]),s(!1);return}try{s(!0),a(null);const{data:d,error:m}=await Y.from("wishlists").select("product_id").eq("user_id",e.id);if(m)throw console.error("Error fetching wishlist data:",m),m;if(!d||d.length===0){r([]),s(!1);return}const p=d.map(x=>x.product_id),{data:w,error:g}=await Y.from("products").select(`
          *,
          category:category_id(name),
          product_car_models(
            car_model:car_model_id(
              make,
              model,
              year_start,
              year_end
            )
          )
        `).in("id",p);if(g)throw console.error("Error fetching product data:",g),g;if(!w)r([]);else{const x=w.map(y=>{var v,b;return{id:y.id,shopId:y.shop_id,name:y.name,description:y.description||"",price:y.price,image:y.image||"https://via.placeholder.com/500",category:((v=y.category)==null?void 0:v.name)||"Uncategorized",compatibility:((b=y.product_car_models)==null?void 0:b.map(j=>{const N=j.car_model;return`${N.make} ${N.model} (${N.year_start}${N.year_end?`-${N.year_end}`:"+"})`}))||[],stock:y.stock}});r(x)}}catch(d){const m=d instanceof Error?d.message:"Failed to fetch wishlist";a(d instanceof Error?d:new Error(m)),console.error("Error fetching wishlist:",d)}finally{s(!1)}},[e]);return h.useEffect(()=>{e?l():(r([]),s(!1))},[e,l]),{wishlistItems:t,loading:n,error:o,addToWishlist:async d=>{if(!e)return W.error("Please log in to add items to your wishlist"),!1;try{const{error:m}=await Y.from("wishlists").insert([{user_id:e.id,product_id:d}]);if(m){if(m.code==="23505")return W.info("This item is already in your wishlist"),!0;throw m}return W.success("Added to wishlist"),l(),!0}catch(m){return console.error("Error adding to wishlist:",m),W.error("Failed to add to wishlist"),!1}},removeFromWishlist:async d=>{if(!e)return!1;try{const{error:m}=await Y.from("wishlists").delete().eq("user_id",e.id).eq("product_id",d);if(m)throw m;return r(t.filter(p=>p.id!==d)),W.success("Removed from wishlist"),!0}catch(m){return console.error("Error removing from wishlist:",m),W.error("Failed to remove from wishlist"),!1}},isInWishlist:async d=>{if(!e)return!1;try{const{data:m,error:p}=await Y.from("wishlists").select("*").eq("user_id",e.id).eq("product_id",d).maybeSingle();if(p)throw p;return!!m}catch(m){return console.error("Error checking wishlist:",m),!1}},refreshWishlist:l}}function XR(){const{productId:e}=Ql(),t=$e(),{t:r,language:n}=ne(),{user:s}=Ve(),{items:o,addItem:a,removeItem:l,updateQuantity:c}=hs(),{isInWishlist:u,addToWishlist:f,removeFromWishlist:d}=l1(),[m,p]=h.useState(null),[w,g]=h.useState(""),[x,y]=h.useState(!0),[v,b]=h.useState([]),[j,N]=h.useState(0),[S,_]=h.useState(!1),[C,z]=h.useState(!1),O=o.find(A=>A.product.id===e),H=n==="ar";h.useEffect(()=>{K(),s&&D()},[e,s]);async function K(){var A,F;try{y(!0);const{data:$,error:U}=await Y.from("products").select(`
          *,
          categories (name),
          product_car_models (
            car_models (
              make,
              model,
              year_start,
              year_end
            )
          ),
          product_images (
            image_url,
            is_primary
          )
        `).eq("id",e).single();if(U)throw U;const{data:Q,error:X}=await Y.from("shops").select("name").eq("id",$.shop_id).single();if(X)throw X;let de=[];if($.image&&de.push($.image),$.product_images&&$.product_images.length>0){const E=$.product_images.filter(I=>I.image_url!==$.image).map(I=>I.image_url);de=[...de,...E]}de.length===0&&(de=["https://via.placeholder.com/500"]),b(de),g(Q.name);const J={id:$.id,shopId:$.shop_id,name:$.name,description:$.description||"",price:$.price,image:de[0],category:((A=$.categories)==null?void 0:A.name)||"Uncategorized",compatibility:((F=$.product_car_models)==null?void 0:F.map(E=>{const I=E.car_models;return`${I.make} ${I.model} (${I.year_start}${I.year_end?`-${I.year_end}`:"+"})`}))||[],stock:$.stock};p(J)}catch($){console.error("Error fetching product details:",$),W.error(r("errorFetchingProduct"))}finally{y(!1)}}async function D(){if(s)try{const A=await u(e||"");_(A)}catch(A){console.error("Error checking wishlist:",A)}}async function R(){if(!s){W.error(r("pleaseLoginToAddToWishlist")),t("/login");return}z(!0);try{S?(await d(e||""),_(!1),W.success(r("removedFromWishlist"))):(await f(e||""),_(!0),W.success(r("addedToWishlist")))}catch(A){console.error("Error updating wishlist:",A),W.error(r("errorUpdatingWishlist"))}finally{z(!1)}}function M(){navigator.share?navigator.share({title:(m==null?void 0:m.name)||"Product",text:(m==null?void 0:m.description)||"Check out this product",url:window.location.href}).catch(A=>console.error("Error sharing:",A)):navigator.clipboard.writeText(window.location.href).then(()=>W.success(r("linkCopiedToClipboard"))).catch(A=>{console.error("Error copying to clipboard:",A),W.error(r("errorCopyingToClipboard"))})}function P(){N(A=>(A+1)%v.length)}function B(){N(A=>(A-1+v.length)%v.length)}function k(A){const F=/(\w+)\s+(\w+)\s+\((\d+)(?:-(\d+))?\)/,$=A.match(F);if($){const[U,Q,X]=$;t(`/products?make=${Q}&model=${X}`)}}return x?i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-96 bg-gray-200 rounded-lg mb-8"}),i.jsx("div",{className:"h-10 bg-gray-200 rounded-lg w-3/4 mb-4"}),i.jsx("div",{className:"h-6 bg-gray-200 rounded-lg w-1/2 mb-2"}),i.jsx("div",{className:"h-6 bg-gray-200 rounded-lg w-1/4 mb-8"}),i.jsx("div",{className:"h-32 bg-gray-200 rounded-lg mb-8"}),i.jsx("div",{className:"h-12 bg-gray-200 rounded-lg w-full"})]})}):m?i.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 ${H?"rtl":"ltr"}`,children:[i.jsxs(te,{variant:"ghost",className:"mb-6 flex items-center gap-2 hover:bg-gray-100",onClick:()=>t(-1),children:[i.jsx(wl,{className:"h-4 w-4"}),r("back")]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[i.jsxs(is,{className:"overflow-hidden border-0 shadow-lg",children:[i.jsxs("div",{className:"aspect-square bg-white rounded-lg overflow-hidden relative",children:[i.jsx("img",{src:v[j],alt:m.name,className:"w-full h-full object-contain p-4"}),v.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:B,className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/90 p-2 rounded-full shadow-md hover:bg-white transition-colors","aria-label":"Previous image",children:i.jsx(wl,{className:"h-5 w-5 text-gray-700"})}),i.jsx("button",{onClick:P,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/90 p-2 rounded-full shadow-md hover:bg-white transition-colors","aria-label":"Next image",children:i.jsx(l5,{className:"h-5 w-5 text-gray-700"})})]})]}),v.length>1&&i.jsx("div",{className:"flex mt-4 p-4 space-x-2 overflow-x-auto pb-2",children:v.map((A,F)=>i.jsx("button",{onClick:()=>N(F),className:`w-16 h-16 rounded-md overflow-hidden flex-shrink-0 transition-all duration-200 ${j===F?"border-2 border-indigo-600 shadow-md":"border border-gray-200 hover:border-indigo-300"}`,children:i.jsx("img",{src:A,alt:`${m.name} thumbnail ${F+1}`,className:"w-full h-full object-cover"})},F))})]}),i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{children:[i.jsx(_i,{variant:"outline",className:"bg-indigo-50 text-indigo-700 mb-2",children:m.category}),i.jsx("h1",{className:"text-3xl font-bold text-gray-900 break-words",children:m.name}),i.jsx("div",{className:"flex items-center mt-2 mb-4",children:i.jsx(ue,{to:`/shops/${m.shopId}`,className:"text-indigo-600 hover:text-indigo-800 transition-colors text-sm font-medium",children:w})})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:R,disabled:C,className:`p-2 rounded-full transition-colors ${S?"bg-pink-100 text-pink-600 hover:bg-pink-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,"aria-label":r(S?"removeFromWishlist":"addToWishlist"),children:i.jsx(Ni,{className:`h-6 w-6 ${S?"fill-current":""}`})}),i.jsx("button",{onClick:M,className:"p-2 rounded-full bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors","aria-label":r("shareProduct"),children:i.jsx(oP,{className:"h-6 w-6"})})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"flex items-baseline gap-2",children:i.jsx("span",{className:"text-3xl font-bold text-indigo-600",children:Vn(m.price)})}),i.jsx("div",{className:"mt-1",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${m.stock>10?"bg-green-100 text-green-800":m.stock>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:m.stock>0?r("inStock"):r("outOfStock")})})]}),i.jsx(Zh,{className:"my-6"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:r("description")}),i.jsx("p",{className:"text-gray-600 whitespace-pre-line break-words overflow-hidden",children:m.description})]}),m.compatibility.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:r("compatibleWith")}),i.jsx("div",{className:"flex flex-wrap gap-2",children:m.compatibility.map((A,F)=>i.jsx(_i,{variant:"outline",className:"bg-gray-100 text-gray-800 py-1.5 cursor-pointer hover:bg-indigo-50",onClick:()=>k(A),children:A},F))})]})]}),i.jsx("div",{className:"mt-auto",children:m.stock>0?O?i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center border rounded-lg overflow-hidden bg-white shadow-sm",children:[i.jsx("button",{onClick:()=>c(m.id,Math.max(0,O.quantity-1)),className:"flex items-center justify-center w-12 h-12 hover:bg-gray-100 transition-colors",children:i.jsx(Ph,{className:"h-4 w-4"})}),i.jsx("span",{className:"w-12 h-12 flex items-center justify-center text-lg font-medium",children:O.quantity}),i.jsx("button",{onClick:()=>c(m.id,O.quantity+1),className:"flex items-center justify-center w-12 h-12 hover:bg-gray-100 transition-colors",children:i.jsx(co,{className:"h-4 w-4"})})]}),i.jsx(te,{variant:"outline",onClick:()=>l(m.id),className:"flex-1 h-12 text-indigo-600 border-indigo-200 hover:bg-indigo-50",children:r("removeFromCart")}),i.jsxs(te,{onClick:()=>t("/cart"),className:"flex-1 h-12 bg-indigo-600 hover:bg-indigo-700",children:[i.jsx(Vd,{className:"h-5 w-5 mr-2"}),r("goToCart")]})]}):i.jsxs(te,{onClick:()=>{a(m),W.success(r("addedToCart"))},className:"w-full h-12 flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700",children:[i.jsx(Vd,{className:"h-5 w-5"}),r("addToCart")]}):i.jsx(te,{disabled:!0,variant:"outline",className:"w-full h-12 bg-gray-100 text-gray-400 cursor-not-allowed",children:r("outOfStock")})})]})]})]}):i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r("productNotFound")}),i.jsx("p",{className:"mt-2 text-gray-600",children:r("productDoesNotExist")}),i.jsx(te,{className:"mt-6",onClick:()=>t("/products"),children:r("backToProducts")})]})})}function Yg(e,[t,r]){return Math.min(r,Math.max(t,e))}function c1(e){const t=e+"CollectionProvider",[r,n]=Rn(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:w,children:g}=p,x=T.useRef(null),y=T.useRef(new Map).current;return i.jsx(s,{scope:w,itemMap:y,collectionRef:x,children:g})};a.displayName=t;const l=e+"CollectionSlot",c=T.forwardRef((p,w)=>{const{scope:g,children:x}=p,y=o(l,g),v=Se(w,y.collectionRef);return i.jsx(ss,{ref:v,children:x})});c.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",d=T.forwardRef((p,w)=>{const{scope:g,children:x,...y}=p,v=T.useRef(null),b=Se(w,v),j=o(u,g);return T.useEffect(()=>(j.itemMap.set(v,{ref:v,...y}),()=>void j.itemMap.delete(v))),i.jsx(ss,{[f]:"",ref:b,children:x})});d.displayName=u;function m(p){const w=o(e+"CollectionConsumer",p);return T.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((j,N)=>y.indexOf(j.ref.current)-y.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:c,ItemSlot:d},m,n]}var JR=h.createContext(void 0);function u1(e){const t=h.useContext(JR);return e||t||"ltr"}const ZR=["top","right","bottom","left"],Sn=Math.min,St=Math.max,_l=Math.round,Sa=Math.floor,fr=e=>({x:e,y:e}),e6={left:"right",right:"left",bottom:"top",top:"bottom"},t6={start:"end",end:"start"};function rf(e,t,r){return St(e,Sn(t,r))}function Dr(e,t){return typeof e=="function"?e(t):e}function Mr(e){return e.split("-")[0]}function So(e){return e.split("-")[1]}function em(e){return e==="x"?"y":"x"}function tm(e){return e==="y"?"height":"width"}function _n(e){return["top","bottom"].includes(Mr(e))?"y":"x"}function rm(e){return em(_n(e))}function r6(e,t,r){r===void 0&&(r=!1);const n=So(e),s=rm(e),o=tm(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=kl(a)),[a,kl(a)]}function n6(e){const t=kl(e);return[nf(e),t,nf(t)]}function nf(e){return e.replace(/start|end/g,t=>t6[t])}function s6(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:a;default:return[]}}function o6(e,t,r,n){const s=So(e);let o=s6(Mr(e),r==="start",n);return s&&(o=o.map(a=>a+"-"+s),t&&(o=o.concat(o.map(nf)))),o}function kl(e){return e.replace(/left|right|bottom|top/g,t=>e6[t])}function i6(e){return{top:0,right:0,bottom:0,left:0,...e}}function d1(e){return typeof e!="number"?i6(e):{top:e,right:e,bottom:e,left:e}}function Cl(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Kg(e,t,r){let{reference:n,floating:s}=e;const o=_n(t),a=rm(t),l=tm(a),c=Mr(t),u=o==="y",f=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:f,y:n.y-s.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-s.width,y:d};break;default:p={x:n.x,y:n.y}}switch(So(t)){case"start":p[a]-=m*(r&&u?-1:1);break;case"end":p[a]+=m*(r&&u?-1:1);break}return p}const a6=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:a}=r,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:d}=Kg(u,n,c),m=n,p={},w=0;for(let g=0;g<l.length;g++){const{name:x,fn:y}=l[g],{x:v,y:b,data:j,reset:N}=await y({x:f,y:d,initialPlacement:n,placement:m,strategy:s,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});f=v??f,d=b??d,p={...p,[x]:{...p[x],...j}},N&&w<=50&&(w++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(u=N.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:f,y:d}=Kg(u,m,c)),g=-1)}return{x:f,y:d,placement:m,strategy:s,middlewareData:p}};async function ki(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:m=!1,padding:p=0}=Dr(t,e),w=d1(p),x=l[m?d==="floating"?"reference":"floating":d],y=Cl(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(x)))==null||r?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),v=d==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},N=Cl(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-N.top+w.top)/j.y,bottom:(N.bottom-y.bottom+w.bottom)/j.y,left:(y.left-N.left+w.left)/j.x,right:(N.right-y.right+w.right)/j.x}}const l6=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=Dr(e,t)||{};if(u==null)return{};const d=d1(f),m={x:r,y:n},p=rm(s),w=tm(p),g=await a.getDimensions(u),x=p==="y",y=x?"top":"left",v=x?"bottom":"right",b=x?"clientHeight":"clientWidth",j=o.reference[w]+o.reference[p]-m[p]-o.floating[w],N=m[p]-o.reference[p],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let _=S?S[b]:0;(!_||!await(a.isElement==null?void 0:a.isElement(S)))&&(_=l.floating[b]||o.floating[w]);const C=j/2-N/2,z=_/2-g[w]/2-1,O=Sn(d[y],z),H=Sn(d[v],z),K=O,D=_-g[w]-H,R=_/2-g[w]/2+C,M=rf(K,R,D),P=!c.arrow&&So(s)!=null&&R!==M&&o.reference[w]/2-(R<K?O:H)-g[w]/2<0,B=P?R<K?R-K:R-D:0;return{[p]:m[p]+B,data:{[p]:M,centerOffset:R-M-B,...P&&{alignmentOffset:B}},reset:P}}}),c6=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...x}=Dr(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=Mr(s),v=_n(l),b=Mr(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(b||!g?[kl(l)]:n6(l)),S=w!=="none";!m&&S&&N.push(...o6(l,g,w,j));const _=[l,...N],C=await ki(t,x),z=[];let O=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&z.push(C[y]),d){const R=r6(s,a,j);z.push(C[R[0]],C[R[1]])}if(O=[...O,{placement:s,overflows:z}],!z.every(R=>R<=0)){var H,K;const R=(((H=o.flip)==null?void 0:H.index)||0)+1,M=_[R];if(M)return{data:{index:R,overflows:O},reset:{placement:M}};let P=(K=O.filter(B=>B.overflows[0]<=0).sort((B,k)=>B.overflows[1]-k.overflows[1])[0])==null?void 0:K.placement;if(!P)switch(p){case"bestFit":{var D;const B=(D=O.filter(k=>{if(S){const A=_n(k.placement);return A===v||A==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(A=>A>0).reduce((A,F)=>A+F,0)]).sort((k,A)=>k[1]-A[1])[0])==null?void 0:D[0];B&&(P=B);break}case"initialPlacement":P=l;break}if(s!==P)return{reset:{placement:P}}}return{}}}};function Qg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Xg(e){return ZR.some(t=>e[t]>=0)}const u6=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Dr(e,t);switch(n){case"referenceHidden":{const o=await ki(t,{...s,elementContext:"reference"}),a=Qg(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Xg(a)}}}case"escaped":{const o=await ki(t,{...s,altBoundary:!0}),a=Qg(o,r.floating);return{data:{escapedOffsets:a,escaped:Xg(a)}}}default:return{}}}}};async function d6(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=Mr(r),l=So(r),c=_n(r)==="y",u=["left","top"].includes(a)?-1:1,f=o&&c?-1:1,d=Dr(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:w}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*f,y:m*u}:{x:m*u,y:p*f}}const f6=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:a,middlewareData:l}=t,c=await d6(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},h6=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:x=>{let{x:y,y:v}=x;return{x:y,y:v}}},...c}=Dr(e,t),u={x:r,y:n},f=await ki(t,c),d=_n(Mr(s)),m=em(d);let p=u[m],w=u[d];if(o){const x=m==="y"?"top":"left",y=m==="y"?"bottom":"right",v=p+f[x],b=p-f[y];p=rf(v,p,b)}if(a){const x=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=w+f[x],b=w-f[y];w=rf(v,w,b)}const g=l.fn({...t,[m]:p,[d]:w});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:o,[d]:a}}}}}},m6=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Dr(e,t),f={x:r,y:n},d=_n(s),m=em(d);let p=f[m],w=f[d];const g=Dr(l,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=m==="y"?"height":"width",j=o.reference[m]-o.floating[b]+x.mainAxis,N=o.reference[m]+o.reference[b]-x.mainAxis;p<j?p=j:p>N&&(p=N)}if(u){var y,v;const b=m==="y"?"width":"height",j=["top","left"].includes(Mr(s)),N=o.reference[d]-o.floating[b]+(j&&((y=a.offset)==null?void 0:y[d])||0)+(j?0:x.crossAxis),S=o.reference[d]+o.reference[b]+(j?0:((v=a.offset)==null?void 0:v[d])||0)-(j?x.crossAxis:0);w<N?w=N:w>S&&(w=S)}return{[m]:p,[d]:w}}}},p6=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:a,elements:l}=t,{apply:c=()=>{},...u}=Dr(e,t),f=await ki(t,u),d=Mr(s),m=So(s),p=_n(s)==="y",{width:w,height:g}=o.floating;let x,y;d==="top"||d==="bottom"?(x=d,y=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(y=d,x=m==="end"?"top":"bottom");const v=g-f.top-f.bottom,b=w-f.left-f.right,j=Sn(g-f[x],v),N=Sn(w-f[y],b),S=!t.middlewareData.shift;let _=j,C=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=v),S&&!m){const O=St(f.left,0),H=St(f.right,0),K=St(f.top,0),D=St(f.bottom,0);p?C=w-2*(O!==0||H!==0?O+H:St(f.left,f.right)):_=g-2*(K!==0||D!==0?K+D:St(f.top,f.bottom))}await c({...t,availableWidth:C,availableHeight:_});const z=await a.getDimensions(l.floating);return w!==z.width||g!==z.height?{reset:{rects:!0}}:{}}}};function Sc(){return typeof window<"u"}function _o(e){return f1(e)?(e.nodeName||"").toLowerCase():"#document"}function Ct(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xr(e){var t;return(t=(f1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function f1(e){return Sc()?e instanceof Node||e instanceof Ct(e).Node:!1}function tr(e){return Sc()?e instanceof Element||e instanceof Ct(e).Element:!1}function mr(e){return Sc()?e instanceof HTMLElement||e instanceof Ct(e).HTMLElement:!1}function Jg(e){return!Sc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ct(e).ShadowRoot}function Bi(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=rr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function g6(e){return["table","td","th"].includes(_o(e))}function _c(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function nm(e){const t=sm(),r=tr(e)?rr(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function v6(e){let t=kn(e);for(;mr(t)&&!fo(t);){if(nm(t))return t;if(_c(t))return null;t=kn(t)}return null}function sm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fo(e){return["html","body","#document"].includes(_o(e))}function rr(e){return Ct(e).getComputedStyle(e)}function kc(e){return tr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function kn(e){if(_o(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Jg(e)&&e.host||xr(e);return Jg(t)?t.host:t}function h1(e){const t=kn(e);return fo(t)?e.ownerDocument?e.ownerDocument.body:e.body:mr(t)&&Bi(t)?t:h1(t)}function Ci(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=h1(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),a=Ct(s);if(o){const l=sf(a);return t.concat(a,a.visualViewport||[],Bi(s)?s:[],l&&r?Ci(l):[])}return t.concat(s,Ci(s,[],r))}function sf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function m1(e){const t=rr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=mr(e),o=s?e.offsetWidth:r,a=s?e.offsetHeight:n,l=_l(r)!==o||_l(n)!==a;return l&&(r=o,n=a),{width:r,height:n,$:l}}function om(e){return tr(e)?e:e.contextElement}function Xs(e){const t=om(e);if(!mr(t))return fr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=m1(t);let a=(o?_l(r.width):r.width)/n,l=(o?_l(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const x6=fr(0);function p1(e){const t=Ct(e);return!sm()||!t.visualViewport?x6:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function y6(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ct(e)?!1:t}function ls(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=om(e);let a=fr(1);t&&(n?tr(n)&&(a=Xs(n)):a=Xs(e));const l=y6(o,r,n)?p1(o):fr(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,f=s.width/a.x,d=s.height/a.y;if(o){const m=Ct(o),p=n&&tr(n)?Ct(n):n;let w=m,g=sf(w);for(;g&&n&&p!==w;){const x=Xs(g),y=g.getBoundingClientRect(),v=rr(g),b=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*x.x,j=y.top+(g.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,u*=x.y,f*=x.x,d*=x.y,c+=b,u+=j,w=Ct(g),g=sf(w)}}return Cl({width:f,height:d,x:c,y:u})}function im(e,t){const r=kc(e).scrollLeft;return t?t.left+r:ls(xr(e)).left+r}function g1(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:im(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function w6(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",a=xr(n),l=t?_c(t.floating):!1;if(n===a||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=fr(1);const f=fr(0),d=mr(n);if((d||!d&&!o)&&((_o(n)!=="body"||Bi(a))&&(c=kc(n)),mr(n))){const p=ls(n);u=Xs(n),f.x=p.x+n.clientLeft,f.y=p.y+n.clientTop}const m=a&&!d&&!o?g1(a,c,!0):fr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+m.x,y:r.y*u.y-c.scrollTop*u.y+f.y+m.y}}function b6(e){return Array.from(e.getClientRects())}function j6(e){const t=xr(e),r=kc(e),n=e.ownerDocument.body,s=St(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=St(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+im(e);const l=-r.scrollTop;return rr(n).direction==="rtl"&&(a+=St(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:a,y:l}}function N6(e,t){const r=Ct(e),n=xr(e),s=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;const u=sm();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:a,x:l,y:c}}function S6(e,t){const r=ls(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=mr(e)?Xs(e):fr(1),a=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:a,height:l,x:c,y:u}}function Zg(e,t,r){let n;if(t==="viewport")n=N6(e,r);else if(t==="document")n=j6(xr(e));else if(tr(t))n=S6(t,r);else{const s=p1(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Cl(n)}function v1(e,t){const r=kn(e);return r===t||!tr(r)||fo(r)?!1:rr(r).position==="fixed"||v1(r,t)}function _6(e,t){const r=t.get(e);if(r)return r;let n=Ci(e,[],!1).filter(l=>tr(l)&&_o(l)!=="body"),s=null;const o=rr(e).position==="fixed";let a=o?kn(e):e;for(;tr(a)&&!fo(a);){const l=rr(a),c=nm(a);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Bi(a)&&!c&&v1(e,a))?n=n.filter(f=>f!==a):s=l,a=kn(a)}return t.set(e,n),n}function k6(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?_c(t)?[]:_6(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,f)=>{const d=Zg(t,f,s);return u.top=St(d.top,u.top),u.right=Sn(d.right,u.right),u.bottom=Sn(d.bottom,u.bottom),u.left=St(d.left,u.left),u},Zg(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function C6(e){const{width:t,height:r}=m1(e);return{width:t,height:r}}function E6(e,t,r){const n=mr(t),s=xr(t),o=r==="fixed",a=ls(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=fr(0);if(n||!n&&!o)if((_o(t)!=="body"||Bi(s))&&(l=kc(t)),n){const m=ls(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=im(s));const u=s&&!n&&!o?g1(s,l):fr(0),f=a.left+l.scrollLeft-c.x-u.x,d=a.top+l.scrollTop-c.y-u.y;return{x:f,y:d,width:a.width,height:a.height}}function Ru(e){return rr(e).position==="static"}function e0(e,t){if(!mr(e)||rr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return xr(e)===r&&(r=r.ownerDocument.body),r}function x1(e,t){const r=Ct(e);if(_c(e))return r;if(!mr(e)){let s=kn(e);for(;s&&!fo(s);){if(tr(s)&&!Ru(s))return s;s=kn(s)}return r}let n=e0(e,t);for(;n&&g6(n)&&Ru(n);)n=e0(n,t);return n&&fo(n)&&Ru(n)&&!nm(n)?r:n||v6(e)||r}const P6=async function(e){const t=this.getOffsetParent||x1,r=this.getDimensions,n=await r(e.floating);return{reference:E6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function A6(e){return rr(e).direction==="rtl"}const T6={convertOffsetParentRelativeRectToViewportRelativeRect:w6,getDocumentElement:xr,getClippingRect:k6,getOffsetParent:x1,getElementRects:P6,getClientRects:b6,getDimensions:C6,getScale:Xs,isElement:tr,isRTL:A6};function y1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function R6(e,t){let r=null,n;const s=xr(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:f,top:d,width:m,height:p}=u;if(l||t(),!m||!p)return;const w=Sa(d),g=Sa(s.clientWidth-(f+m)),x=Sa(s.clientHeight-(d+p)),y=Sa(f),b={rootMargin:-w+"px "+-g+"px "+-x+"px "+-y+"px",threshold:St(0,Sn(1,c))||1};let j=!0;function N(S){const _=S[0].intersectionRatio;if(_!==c){if(!j)return a();_?a(!1,_):n=setTimeout(()=>{a(!1,1e-7)},1e3)}_===1&&!y1(u,e.getBoundingClientRect())&&a(),j=!1}try{r=new IntersectionObserver(N,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,b)}r.observe(e)}return a(!0),o}function O6(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=om(e),f=s||o?[...u?Ci(u):[],...Ci(t)]:[];f.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const d=u&&l?R6(u,r):null;let m=-1,p=null;a&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let w,g=c?ls(e):null;c&&x();function x(){const y=ls(e);g&&!y1(g,y)&&r(),g=y,w=requestAnimationFrame(x)}return r(),()=>{var y;f.forEach(v=>{s&&v.removeEventListener("scroll",r),o&&v.removeEventListener("resize",r)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const I6=f6,D6=h6,M6=c6,$6=p6,L6=u6,t0=l6,F6=m6,z6=(e,t,r)=>{const n=new Map,s={platform:T6,...r},o={...s.platform,_c:n};return a6(e,t,{...s,platform:o})};var za=typeof document<"u"?h.useLayoutEffect:h.useEffect;function El(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!El(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!El(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function w1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function r0(e,t){const r=w1(e);return Math.round(t*r)/r}function Ou(e){const t=h.useRef(e);return za(()=>{t.current=e}),t}function B6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(n);El(m,n)||p(n);const[w,g]=h.useState(null),[x,y]=h.useState(null),v=h.useCallback(k=>{k!==S.current&&(S.current=k,g(k))},[]),b=h.useCallback(k=>{k!==_.current&&(_.current=k,y(k))},[]),j=o||w,N=a||x,S=h.useRef(null),_=h.useRef(null),C=h.useRef(f),z=c!=null,O=Ou(c),H=Ou(s),K=Ou(u),D=h.useCallback(()=>{if(!S.current||!_.current)return;const k={placement:t,strategy:r,middleware:m};H.current&&(k.platform=H.current),z6(S.current,_.current,k).then(A=>{const F={...A,isPositioned:K.current!==!1};R.current&&!El(C.current,F)&&(C.current=F,go.flushSync(()=>{d(F)}))})},[m,t,r,H,K]);za(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(k=>({...k,isPositioned:!1})))},[u]);const R=h.useRef(!1);za(()=>(R.current=!0,()=>{R.current=!1}),[]),za(()=>{if(j&&(S.current=j),N&&(_.current=N),j&&N){if(O.current)return O.current(j,N,D);D()}},[j,N,D,O,z]);const M=h.useMemo(()=>({reference:S,floating:_,setReference:v,setFloating:b}),[v,b]),P=h.useMemo(()=>({reference:j,floating:N}),[j,N]),B=h.useMemo(()=>{const k={position:r,left:0,top:0};if(!P.floating)return k;const A=r0(P.floating,f.x),F=r0(P.floating,f.y);return l?{...k,transform:"translate("+A+"px, "+F+"px)",...w1(P.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:F}},[r,l,P.floating,f.x,f.y]);return h.useMemo(()=>({...f,update:D,refs:M,elements:P,floatingStyles:B}),[f,D,M,P,B])}const U6=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?t0({element:n.current,padding:s}).fn(r):{}:n?t0({element:n,padding:s}).fn(r):{}}}},W6=(e,t)=>({...I6(e),options:[e,t]}),H6=(e,t)=>({...D6(e),options:[e,t]}),q6=(e,t)=>({...F6(e),options:[e,t]}),V6=(e,t)=>({...M6(e),options:[e,t]}),G6=(e,t)=>({...$6(e),options:[e,t]}),Y6=(e,t)=>({...L6(e),options:[e,t]}),K6=(e,t)=>({...U6(e),options:[e,t]});var Q6="Arrow",b1=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return i.jsx(ge.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});b1.displayName=Q6;var X6=b1,am="Popper",[j1,N1]=Rn(am),[J6,S1]=j1(am),_1=e=>{const{__scopePopper:t,children:r}=e,[n,s]=h.useState(null);return i.jsx(J6,{scope:t,anchor:n,onAnchorChange:s,children:r})};_1.displayName=am;var k1="PopperAnchor",C1=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=S1(k1,r),a=h.useRef(null),l=Se(t,a);return h.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:i.jsx(ge.div,{...s,ref:l})});C1.displayName=k1;var lm="PopperContent",[Z6,eO]=j1(lm),E1=h.forwardRef((e,t)=>{var E,I,Z,re,ie,se;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:w,...g}=e,x=S1(lm,r),[y,v]=h.useState(null),b=Se(t,ot=>v(ot)),[j,N]=h.useState(null),S=By(j),_=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,z=n+(o!=="center"?"-"+o:""),O=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},H=Array.isArray(u)?u:[u],K=H.length>0,D={padding:O,boundary:H.filter(rO),altBoundary:K},{refs:R,floatingStyles:M,placement:P,isPositioned:B,middlewareData:k}=B6({strategy:"fixed",placement:z,whileElementsMounted:(...ot)=>O6(...ot,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[W6({mainAxis:s+C,alignmentAxis:a}),c&&H6({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?q6():void 0,...D}),c&&V6({...D}),G6({...D,apply:({elements:ot,rects:ut,availableWidth:Dn,availableHeight:Ur})=>{const{width:Bt,height:Wi}=ut.reference,dt=ot.floating.style;dt.setProperty("--radix-popper-available-width",`${Dn}px`),dt.setProperty("--radix-popper-available-height",`${Ur}px`),dt.setProperty("--radix-popper-anchor-width",`${Bt}px`),dt.setProperty("--radix-popper-anchor-height",`${Wi}px`)}}),j&&K6({element:j,padding:l}),nO({arrowWidth:_,arrowHeight:C}),m&&Y6({strategy:"referenceHidden",...D})]}),[A,F]=T1(P),$=Ir(w);st(()=>{B&&($==null||$())},[B,$]);const U=(E=k.arrow)==null?void 0:E.x,Q=(I=k.arrow)==null?void 0:I.y,X=((Z=k.arrow)==null?void 0:Z.centerOffset)!==0,[de,J]=h.useState();return st(()=>{y&&J(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:B?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(re=k.transformOrigin)==null?void 0:re.x,(ie=k.transformOrigin)==null?void 0:ie.y].join(" "),...((se=k.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(Z6,{scope:r,placedSide:A,onArrowChange:N,arrowX:U,arrowY:Q,shouldHideArrow:X,children:i.jsx(ge.div,{"data-side":A,"data-align":F,...g,ref:b,style:{...g.style,animation:B?void 0:"none"}})})})});E1.displayName=lm;var P1="PopperArrow",tO={top:"bottom",right:"left",bottom:"top",left:"right"},A1=h.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=eO(P1,n),a=tO[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(X6,{...s,ref:r,style:{...s.style,display:"block"}})})});A1.displayName=P1;function rO(e){return e!==null}var nO=e=>({name:"transformOrigin",options:e,fn(t){var x,y,v;const{placement:r,rects:n,middlewareData:s}=t,a=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,f]=T1(r),d={start:"0%",center:"50%",end:"100%"}[f],m=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let w="",g="";return u==="bottom"?(w=a?d:`${m}px`,g=`${-c}px`):u==="top"?(w=a?d:`${m}px`,g=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,g=a?d:`${p}px`):u==="left"&&(w=`${n.floating.width+c}px`,g=a?d:`${p}px`),{data:{x:w,y:g}}}});function T1(e){const[t,r="center"]=e.split("-");return[t,r]}var sO=_1,oO=C1,iO=E1,aO=A1,lO="VisuallyHidden",R1=h.forwardRef((e,t)=>i.jsx(ge.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));R1.displayName=lO;var cO=[" ","Enter","ArrowUp","ArrowDown"],uO=[" ","Enter"],Ui="Select",[Cc,Ec,dO]=c1(Ui),[ko,II]=Rn(Ui,[dO,N1]),Pc=N1(),[fO,On]=ko(Ui),[hO,mO]=ko(Ui),O1=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:a,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:m,required:p,form:w}=e,g=Pc(t),[x,y]=h.useState(null),[v,b]=h.useState(null),[j,N]=h.useState(!1),S=u1(u),[_=!1,C]=os({prop:n,defaultProp:s,onChange:o}),[z,O]=os({prop:a,defaultProp:l,onChange:c}),H=h.useRef(null),K=x?w||!!x.closest("form"):!0,[D,R]=h.useState(new Set),M=Array.from(D).map(P=>P.props.value).join(";");return i.jsx(sO,{...g,children:i.jsxs(fO,{required:p,scope:t,trigger:x,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:bn(),value:z,onValueChange:O,open:_,onOpenChange:C,dir:S,triggerPointerDownPosRef:H,disabled:m,children:[i.jsx(Cc.Provider,{scope:t,children:i.jsx(hO,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(P=>{R(B=>new Set(B).add(P))},[]),onNativeOptionRemove:h.useCallback(P=>{R(B=>{const k=new Set(B);return k.delete(P),k})},[]),children:r})}),K?i.jsxs(sb,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:d,value:z,onChange:P=>O(P.target.value),disabled:m,form:w,children:[z===void 0?i.jsx("option",{value:""}):null,Array.from(D)]},M):null]})})};O1.displayName=Ui;var I1="SelectTrigger",D1=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=Pc(r),a=On(I1,r),l=a.disabled||n,c=Se(t,a.onTriggerChange),u=Ec(r),f=h.useRef("touch"),[d,m,p]=ob(g=>{const x=u().filter(b=>!b.disabled),y=x.find(b=>b.value===a.value),v=ib(x,g,y);v!==void 0&&a.onValueChange(v.value)}),w=g=>{l||(a.onOpenChange(!0),p()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(oO,{asChild:!0,...o,children:i.jsx(ge.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":nb(a.value)?"":void 0,...s,ref:c,onClick:xe(s.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&w(g)}),onPointerDown:xe(s.onPointerDown,g=>{f.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(w(g),g.preventDefault())}),onKeyDown:xe(s.onKeyDown,g=>{const x=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(x&&g.key===" ")&&cO.includes(g.key)&&(w(),g.preventDefault())})})})});D1.displayName=I1;var M1="SelectValue",$1=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:a="",...l}=e,c=On(M1,r),{onValueNodeHasChildrenChange:u}=c,f=o!==void 0,d=Se(t,c.onValueNodeChange);return st(()=>{u(f)},[u,f]),i.jsx(ge.span,{...l,ref:d,style:{pointerEvents:"none"},children:nb(c.value)?i.jsx(i.Fragment,{children:a}):o})});$1.displayName=M1;var pO="SelectIcon",L1=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(ge.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});L1.displayName=pO;var gO="SelectPortal",F1=e=>i.jsx(Bh,{asChild:!0,...e});F1.displayName=gO;var cs="SelectContent",z1=h.forwardRef((e,t)=>{const r=On(cs,e.__scopeSelect),[n,s]=h.useState();if(st(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?go.createPortal(i.jsx(B1,{scope:e.__scopeSelect,children:i.jsx(Cc.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),o):null}return i.jsx(U1,{...e,ref:t})});z1.displayName=cs;var Vt=10,[B1,In]=ko(cs),vO="SelectContentImpl",U1=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:g,avoidCollisions:x,...y}=e,v=On(cs,r),[b,j]=h.useState(null),[N,S]=h.useState(null),_=Se(t,E=>j(E)),[C,z]=h.useState(null),[O,H]=h.useState(null),K=Ec(r),[D,R]=h.useState(!1),M=h.useRef(!1);h.useEffect(()=>{if(b)return fw(b)},[b]),nw();const P=h.useCallback(E=>{const[I,...Z]=K().map(se=>se.ref.current),[re]=Z.slice(-1),ie=document.activeElement;for(const se of E)if(se===ie||(se==null||se.scrollIntoView({block:"nearest"}),se===I&&N&&(N.scrollTop=0),se===re&&N&&(N.scrollTop=N.scrollHeight),se==null||se.focus(),document.activeElement!==ie))return},[K,N]),B=h.useCallback(()=>P([C,b]),[P,C,b]);h.useEffect(()=>{D&&B()},[D,B]);const{onOpenChange:k,triggerPointerDownPosRef:A}=v;h.useEffect(()=>{if(b){let E={x:0,y:0};const I=re=>{var ie,se;E={x:Math.abs(Math.round(re.pageX)-(((ie=A.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(re.pageY)-(((se=A.current)==null?void 0:se.y)??0))}},Z=re=>{E.x<=10&&E.y<=10?re.preventDefault():b.contains(re.target)||k(!1),document.removeEventListener("pointermove",I),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",Z,{capture:!0})}}},[b,k,A]),h.useEffect(()=>{const E=()=>k(!1);return window.addEventListener("blur",E),window.addEventListener("resize",E),()=>{window.removeEventListener("blur",E),window.removeEventListener("resize",E)}},[k]);const[F,$]=ob(E=>{const I=K().filter(ie=>!ie.disabled),Z=I.find(ie=>ie.ref.current===document.activeElement),re=ib(I,E,Z);re&&setTimeout(()=>re.ref.current.focus())}),U=h.useCallback((E,I,Z)=>{const re=!M.current&&!Z;(v.value!==void 0&&v.value===I||re)&&(z(E),re&&(M.current=!0))},[v.value]),Q=h.useCallback(()=>b==null?void 0:b.focus(),[b]),X=h.useCallback((E,I,Z)=>{const re=!M.current&&!Z;(v.value!==void 0&&v.value===I||re)&&H(E)},[v.value]),de=n==="popper"?of:W1,J=de===of?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:g,avoidCollisions:x}:{};return i.jsx(B1,{scope:r,content:b,viewport:N,onViewportChange:S,itemRefCallback:U,selectedItem:C,onItemLeave:Q,itemTextRefCallback:X,focusSelectedItem:B,selectedItemText:O,position:n,isPositioned:D,searchRef:F,children:i.jsx(Uh,{as:ss,allowPinchZoom:!0,children:i.jsx(zh,{asChild:!0,trapped:v.open,onMountAutoFocus:E=>{E.preventDefault()},onUnmountAutoFocus:xe(s,E=>{var I;(I=v.trigger)==null||I.focus({preventScroll:!0}),E.preventDefault()}),children:i.jsx(Fh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:E=>E.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:i.jsx(de,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:E=>E.preventDefault(),...y,...J,onPlaced:()=>R(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:xe(y.onKeyDown,E=>{const I=E.ctrlKey||E.altKey||E.metaKey;if(E.key==="Tab"&&E.preventDefault(),!I&&E.key.length===1&&$(E.key),["ArrowUp","ArrowDown","Home","End"].includes(E.key)){let re=K().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(E.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(E.key)){const ie=E.target,se=re.indexOf(ie);re=re.slice(se+1)}setTimeout(()=>P(re)),E.preventDefault()}})})})})})})});U1.displayName=vO;var xO="SelectItemAlignedPosition",W1=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=On(cs,r),a=In(cs,r),[l,c]=h.useState(null),[u,f]=h.useState(null),d=Se(t,_=>f(_)),m=Ec(r),p=h.useRef(!1),w=h.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:y,focusSelectedItem:v}=a,b=h.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&g&&x&&y){const _=o.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),z=o.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(o.dir!=="rtl"){const ie=O.left-C.left,se=z.left-ie,ot=_.left-se,ut=_.width+ot,Dn=Math.max(ut,C.width),Ur=window.innerWidth-Vt,Bt=Yg(se,[Vt,Math.max(Vt,Ur-Dn)]);l.style.minWidth=ut+"px",l.style.left=Bt+"px"}else{const ie=C.right-O.right,se=window.innerWidth-z.right-ie,ot=window.innerWidth-_.right-se,ut=_.width+ot,Dn=Math.max(ut,C.width),Ur=window.innerWidth-Vt,Bt=Yg(se,[Vt,Math.max(Vt,Ur-Dn)]);l.style.minWidth=ut+"px",l.style.right=Bt+"px"}const H=m(),K=window.innerHeight-Vt*2,D=g.scrollHeight,R=window.getComputedStyle(u),M=parseInt(R.borderTopWidth,10),P=parseInt(R.paddingTop,10),B=parseInt(R.borderBottomWidth,10),k=parseInt(R.paddingBottom,10),A=M+P+D+k+B,F=Math.min(x.offsetHeight*5,A),$=window.getComputedStyle(g),U=parseInt($.paddingTop,10),Q=parseInt($.paddingBottom,10),X=_.top+_.height/2-Vt,de=K-X,J=x.offsetHeight/2,E=x.offsetTop+J,I=M+P+E,Z=A-I;if(I<=X){const ie=H.length>0&&x===H[H.length-1].ref.current;l.style.bottom="0px";const se=u.clientHeight-g.offsetTop-g.offsetHeight,ot=Math.max(de,J+(ie?Q:0)+se+B),ut=I+ot;l.style.height=ut+"px"}else{const ie=H.length>0&&x===H[0].ref.current;l.style.top="0px";const ot=Math.max(X,M+g.offsetTop+(ie?U:0)+J)+Z;l.style.height=ot+"px",g.scrollTop=I-X+g.offsetTop}l.style.margin=`${Vt}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=K+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,l,u,g,x,y,o.dir,n]);st(()=>b(),[b]);const[j,N]=h.useState();st(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const S=h.useCallback(_=>{_&&w.current===!0&&(b(),v==null||v(),w.current=!1)},[b,v]);return i.jsx(wO,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(ge.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});W1.displayName=xO;var yO="SelectPopperPosition",of=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Vt,...o}=e,a=Pc(r);return i.jsx(iO,{...a,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});of.displayName=yO;var[wO,cm]=ko(cs,{}),af="SelectViewport",H1=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=In(af,r),a=cm(af,r),l=Se(t,o.onViewportChange),c=h.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Cc.Slot,{scope:r,children:i.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:xe(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&d){const p=Math.abs(c.current-f.scrollTop);if(p>0){const w=window.innerHeight-Vt*2,g=parseFloat(d.style.minHeight),x=parseFloat(d.style.height),y=Math.max(g,x);if(y<w){const v=y+p,b=Math.min(w,v),j=v-b;d.style.height=b+"px",d.style.bottom==="0px"&&(f.scrollTop=j>0?j:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});H1.displayName=af;var q1="SelectGroup",[bO,jO]=ko(q1),NO=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=bn();return i.jsx(bO,{scope:r,id:s,children:i.jsx(ge.div,{role:"group","aria-labelledby":s,...n,ref:t})})});NO.displayName=q1;var V1="SelectLabel",G1=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=jO(V1,r);return i.jsx(ge.div,{id:s.id,...n,ref:t})});G1.displayName=V1;var Pl="SelectItem",[SO,Y1]=ko(Pl),K1=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...a}=e,l=On(Pl,r),c=In(Pl,r),u=l.value===n,[f,d]=h.useState(o??""),[m,p]=h.useState(!1),w=Se(t,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,n,s)}),g=bn(),x=h.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(SO,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:h.useCallback(v=>{d(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:i.jsx(Cc.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:i.jsx(ge.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:w,onFocus:xe(a.onFocus,()=>p(!0)),onBlur:xe(a.onBlur,()=>p(!1)),onClick:xe(a.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:xe(a.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:xe(a.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:xe(a.onPointerMove,v=>{var b;x.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(a.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:xe(a.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(uO.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});K1.displayName=Pl;var Wo="SelectItemText",Q1=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,a=On(Wo,r),l=In(Wo,r),c=Y1(Wo,r),u=mO(Wo,r),[f,d]=h.useState(null),m=Se(t,y=>d(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),p=f==null?void 0:f.textContent,w=h.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=u;return st(()=>(g(w),()=>x(w)),[g,x,w]),i.jsxs(i.Fragment,{children:[i.jsx(ge.span,{id:c.textId,...o,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?go.createPortal(o.children,a.valueNode):null]})});Q1.displayName=Wo;var X1="SelectItemIndicator",J1=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Y1(X1,r).isSelected?i.jsx(ge.span,{"aria-hidden":!0,...n,ref:t}):null});J1.displayName=X1;var lf="SelectScrollUpButton",Z1=h.forwardRef((e,t)=>{const r=In(lf,e.__scopeSelect),n=cm(lf,e.__scopeSelect),[s,o]=h.useState(!1),a=Se(t,n.onScrollButtonChange);return st(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(tb,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Z1.displayName=lf;var cf="SelectScrollDownButton",eb=h.forwardRef((e,t)=>{const r=In(cf,e.__scopeSelect),n=cm(cf,e.__scopeSelect),[s,o]=h.useState(!1),a=Se(t,n.onScrollButtonChange);return st(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;o(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(tb,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});eb.displayName=cf;var tb=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=In("SelectScrollButton",r),a=h.useRef(null),l=Ec(r),c=h.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),st(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),i.jsx(ge.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:xe(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:xe(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:xe(s.onPointerLeave,()=>{c()})})}),_O="SelectSeparator",rb=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(ge.div,{"aria-hidden":!0,...n,ref:t})});rb.displayName=_O;var uf="SelectArrow",kO=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Pc(r),o=On(uf,r),a=In(uf,r);return o.open&&a.position==="popper"?i.jsx(aO,{...s,...n,ref:t}):null});kO.displayName=uf;function nb(e){return e===""||e===void 0}var sb=h.forwardRef((e,t)=>{const{value:r,...n}=e,s=h.useRef(null),o=Se(t,s),a=zy(r);return h.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==r&&f){const d=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(d)}},[a,r]),i.jsx(R1,{asChild:!0,children:i.jsx("select",{...n,ref:o,defaultValue:r})})});sb.displayName="BubbleSelect";function ob(e){const t=Ir(e),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(a=>{const l=r.current+a;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function ib(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let a=CO(e,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function CO(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var EO=O1,ab=D1,PO=$1,AO=L1,TO=F1,lb=z1,RO=H1,cb=G1,ub=K1,OO=Q1,IO=J1,db=Z1,fb=eb,hb=rb;const Al=EO,Tl=PO,Ei=h.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(ab,{ref:n,className:ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(AO,{asChild:!0,children:i.jsx(dc,{className:"h-4 w-4 opacity-50"})})]}));Ei.displayName=ab.displayName;const mb=h.forwardRef(({className:e,...t},r)=>i.jsx(db,{ref:r,className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(v5,{className:"h-4 w-4"})}));mb.displayName=db.displayName;const pb=h.forwardRef(({className:e,...t},r)=>i.jsx(fb,{ref:r,className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(dc,{className:"h-4 w-4"})}));pb.displayName=fb.displayName;const Pi=h.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(TO,{children:i.jsxs(lb,{ref:s,className:ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-white text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(mb,{}),i.jsx(RO,{className:ee("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(pb,{})]})}));Pi.displayName=lb.displayName;const DO=h.forwardRef(({className:e,...t},r)=>i.jsx(cb,{ref:r,className:ee("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));DO.displayName=cb.displayName;const _r=h.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(ub,{ref:n,className:ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(IO,{children:i.jsx(vy,{className:"h-4 w-4"})})}),i.jsx(OO,{children:t})]}));_r.displayName=ub.displayName;const MO=h.forwardRef(({className:e,...t},r)=>i.jsx(hb,{ref:r,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));MO.displayName=hb.displayName;function $O(){const{modelId:e}=Ql(),t=$e(),{t:r,language:n}=ne(),[s,o]=h.useState(null),[a,l]=h.useState([]),[c,u]=h.useState([]),[f,d]=h.useState(!0),[m,p]=h.useState(null),[w,g]=h.useState([]),[x,y]=h.useState(""),[v,b]=h.useState(""),[j,N]=h.useState("newest"),[S,_]=h.useState(1),C=9,z=n==="ar";h.useEffect(()=>{O()},[e]),h.useEffect(()=>{let M=[...a];if(x&&(M=M.filter(P=>P.category===x)),v){const P=v.toLowerCase();M=M.filter(B=>B.name.toLowerCase().includes(P)||B.description.toLowerCase().includes(P))}switch(j){case"price-low-high":M.sort((P,B)=>P.price-B.price);break;case"price-high-low":M.sort((P,B)=>B.price-P.price);break}u(M),_(1)},[a,x,v,j]);async function O(){try{d(!0);const{data:M,error:P}=await Y.from("car_models").select("*").eq("id",e).single();if(P)throw P;o(M);const{data:B,error:k}=await Y.from("product_car_models").select(`
          product_id,
          products (
            *,
            categories (name),
            product_car_models (
              car_models (
                make,
                model,
                year_start,
                year_end
              )
            )
          )
        `).eq("car_model_id",e);if(k)throw k;const A=new Map,F=new Set;B.forEach(U=>{var Q;U.products&&!A.has(U.products.id)&&(A.set(U.products.id,U.products),(Q=U.products.categories)!=null&&Q.name&&F.add(U.products.categories.name))});const $=Array.from(A.values()).map(U=>{var Q,X;return{id:U.id,shopId:U.shop_id,name:U.name,description:U.description||"",price:U.price,image:U.image||"https://via.placeholder.com/500",category:((Q=U.categories)==null?void 0:Q.name)||"Uncategorized",compatibility:((X=U.product_car_models)==null?void 0:X.map(de=>{const J=de.car_models;return`${J.make} ${J.model} (${J.year_start}${J.year_end?`-${J.year_end}`:"+"})`}))||[],stock:U.stock}});l($),u($),g(Array.from(F))}catch(M){console.error("Error fetching products:",M),p(M instanceof Error?M:new Error("Failed to fetch products for this car model"))}finally{d(!1)}}const H=S*C,K=H-C,D=c.slice(K,H),R=Math.ceil(c.length/C);return f?i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-500"}),i.jsx("p",{className:"mt-2 text-gray-500",children:r("loadingProducts")})]})}):m?i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:i.jsxs("div",{className:"text-center text-red-500",children:[i.jsx("p",{children:r("errorLoadingProducts")}),i.jsx("p",{className:"text-sm",children:m.message})]})}):s?i.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 ${z?"rtl":"ltr"}`,children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(te,{variant:"outline",className:"mb-4 flex items-center gap-2",onClick:()=>t(-1),children:[i.jsx(xy,{className:"h-4 w-4"}),r("back")]}),i.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[s.make," ",s.model," (",s.year_start,s.year_end?`-${s.year_end}`:"+",")"]}),i.jsxs("p",{className:"mt-2 text-gray-600",children:[r("productsCompatibleWith")," ",s.make," ",s.model]})]}),i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(le,{type:"text",placeholder:r("searchProducts"),value:v,onChange:M=>b(M.target.value),className:"pl-10"}),i.jsx(fc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),i.jsxs("div",{className:"relative flex items-center",children:[i.jsx(wy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsxs(Al,{value:x,onValueChange:y,children:[i.jsx(Ei,{className:"pl-10",children:i.jsx(Tl,{placeholder:r("allCategories")})}),i.jsxs(Pi,{children:[i.jsx(_r,{value:"",children:r("allCategories")}),w.map(M=>i.jsx(_r,{value:M,children:M},M))]})]})]}),i.jsx("div",{children:i.jsxs(Al,{value:j,onValueChange:N,children:[i.jsx(Ei,{children:i.jsx(Tl,{placeholder:r("sortBy")})}),i.jsxs(Pi,{children:[i.jsx(_r,{value:"newest",children:r("newest")}),i.jsx(_r,{value:"oldest",children:r("oldest")}),i.jsx(_r,{value:"price-low-high",children:r("priceLowToHigh")}),i.jsx(_r,{value:"price-high-low",children:r("priceHighToLow")})]})]})})]})}),c.length===0?i.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg shadow-sm",children:[i.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),i.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:r("noProductsFound")}),i.jsx("p",{className:"text-gray-500",children:r("noProductsForThisModelAndFilters")}),i.jsx(te,{className:"mt-4",onClick:()=>{y(""),b(""),N("newest")},children:r("clearFilters")})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(M=>i.jsx(o1,{product:M},M.id))}),R>1&&i.jsx("div",{className:"mt-8 flex justify-center",children:i.jsx(vc,{children:i.jsxs(xc,{children:[i.jsx(mt,{children:i.jsx(yc,{onClick:()=>_(M=>Math.max(M-1,1)),className:`cursor-pointer ${S===1?"pointer-events-none opacity-50":""}`})}),Array.from({length:Math.min(R,5)}).map((M,P)=>{const B=S>3?S-3+P+1:P+1;return B<=R?i.jsx(mt,{children:i.jsx(yn,{isActive:S===B,onClick:()=>_(B),className:"cursor-pointer",children:B})},B):null}),i.jsx(mt,{children:i.jsx(wc,{onClick:()=>_(M=>Math.min(M+1,R)),className:`cursor-pointer ${S===R?"pointer-events-none opacity-50":""}`})})]})})})]})]}):i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r("carModelNotFound")}),i.jsx(te,{className:"mt-4",onClick:()=>t("/products"),children:r("browseAllProducts")})]})})}function LO(){const{wishlistItems:e,loading:t,error:r,removeFromWishlist:n,refreshWishlist:s}=l1(),{user:o}=Ve(),a=$e(),{t:l,language:c}=ne(),{addItem:u}=hs(),f=c==="ar",[d,m]=h.useState(0);return h.useEffect(()=>{o?(console.log("User is logged in, refreshing wishlist"),s()):(a("/login"),W.error(l("pleaseLoginToViewWishlist")))},[o,s,a,l]),h.useEffect(()=>{let p;return t&&d<3&&(p=window.setTimeout(()=>{console.log(`Retry attempt ${d+1} for wishlist`),s(),m(w=>w+1)},3e3)),()=>{clearTimeout(p)}},[t,d,s]),t&&d<3?i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-500"}),i.jsx("p",{className:"mt-2 text-gray-500",children:l("loadingWishlist")})]})}):r?(console.error("Wishlist error:",r),i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:i.jsxs("div",{className:"text-center text-red-500",children:[i.jsx("p",{children:l("errorLoadingWishlist")}),i.jsx("p",{className:"text-sm",children:r.message}),i.jsx(te,{className:"mt-4",onClick:()=>{m(0),s()},children:l("tryAgain")})]})})):i.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 ${f?"rtl":"ltr"}`,children:[i.jsx("div",{className:"flex items-center justify-between mb-8",children:i.jsxs("div",{children:[i.jsxs(te,{variant:"outline",className:"mb-4 flex items-center gap-2",onClick:()=>a(-1),children:[i.jsx(wl,{className:"h-4 w-4"}),l("back")]}),i.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[i.jsx(Ni,{className:"h-6 w-6 text-pink-500"}),l("myWishlist")]}),i.jsx("p",{className:"mt-2 text-gray-600",children:e.length===0?l("emptyWishlist"):l("wishlistItemsCount",{count:e.length})})]})}),i.jsx(Zh,{className:"mb-8"}),e.length===0?i.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-lg",children:[i.jsx(Ni,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),i.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:l("noItemsInWishlist")}),i.jsx("p",{className:"text-gray-500 mb-6",children:l("startAddingToWishlist")}),i.jsx(te,{onClick:()=>a("/products"),children:l("browseProducts")})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(p=>i.jsxs(is,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[i.jsx("div",{className:"aspect-square overflow-hidden relative",children:i.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onClick:()=>a(`/products/${p.id}`)})}),i.jsxs(uo,{className:"p-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 cursor-pointer hover:text-indigo-600 transition-colors",onClick:()=>a(`/products/${p.id}`),children:p.name}),i.jsx("p",{className:"text-gray-500 mb-2 line-clamp-2 text-sm",children:p.description}),i.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[i.jsxs("p",{className:"text-xl font-bold text-indigo-600",children:[p.price.toFixed(2)," EGP"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(te,{variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50 hover:text-red-700",onClick:()=>n(p.id),children:i.jsx(hc,{className:"h-4 w-4"})}),i.jsxs(te,{size:"sm",onClick:()=>{u(p),W.success(l("addedToCart"))},children:[i.jsx(Vd,{className:"h-4 w-4 mr-1"}),l("addToCart")]})]})]})]})]},p.id))})]})}var FO="Label",gb=h.forwardRef((e,t)=>i.jsx(ge.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));gb.displayName=FO;var vb=gb;const zO=pc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fe=h.forwardRef(({className:e,...t},r)=>i.jsx(vb,{ref:r,className:ee(zO(),e),...t}));fe.displayName=vb.displayName;function BO({onApply:e}){const{t}=ne(),[r,n]=h.useState(""),[s,o]=h.useState(!1),[a,l]=h.useState(!1),c=async()=>{if(!r.trim()){W.error(t("enterCouponCode"));return}o(!0);try{const{data:f,error:d}=await Y.from("coupons").select("*").eq("code",r.trim()).eq("active",!0).maybeSingle();if(d){console.error("Coupon validation error:",d),W.error(t("invalidCoupon")),o(!1);return}if(!f){W.error(t("invalidCoupon")),o(!1);return}if(f.usage_limit>0&&f.times_used>=f.usage_limit){W.error(t("couponMaxUsed")),o(!1);return}const m={percentage:f.discount_percentage,amount:f.discount_amount,couponId:f.id,couponCode:f.code,ownerId:f.owner_id,ownerBenefitValue:f.owner_benefit_value,ownerBenefitType:f.owner_benefit_type};e(m),l(!0),W.success(t("couponApplied"))}catch(f){console.error("Error applying coupon:",f),W.error(t("couponError"))}finally{o(!1)}},u=()=>{e({}),l(!1),n(""),W.success(t("couponRemoved"))};return i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:t("haveCoupon")}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(le,{type:"text",placeholder:t("enterCoupon"),value:r,onChange:f=>n(f.target.value),disabled:a||s,className:"flex-grow"}),a?i.jsx(te,{variant:"outline",onClick:u,className:"whitespace-nowrap",children:t("remove")}):i.jsx(te,{onClick:c,disabled:s||!r.trim(),className:"whitespace-nowrap",children:s?i.jsxs(i.Fragment,{children:[i.jsx(by,{className:"mr-2 h-4 w-4 animate-spin"}),t("validating")]}):t("apply")})]})]})}function UO(){const[e,t]=h.useState(!1),[r,n]=h.useState(null);return h.useEffect(()=>{if(window.google&&window.google.maps){t(!0);return}const s=document.getElementById("google-maps-script");if(s){const l=()=>t(!0),c=()=>n("Failed to load Google Maps API");return s.addEventListener("load",l),s.addEventListener("error",c),()=>{s.removeEventListener("load",l),s.removeEventListener("error",c)}}const o="",a=document.createElement("script");return a.id="google-maps-script",a.src=`https://maps.googleapis.com/maps/api/js?key=${o}&libraries=places`,a.async=!0,a.defer=!0,a.onload=()=>t(!0),a.onerror=()=>n("Failed to load Google Maps API"),document.head.appendChild(a),()=>{a&&(a.removeEventListener("load",()=>t(!0)),a.removeEventListener("error",()=>n("Failed to load Google Maps API")))}},[]),{isLoaded:e,loadError:r}}function WO({results:e,onSelect:t}){return e.length===0?null:i.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white shadow-lg rounded-md max-h-48 overflow-y-auto",children:e.map((r,n)=>i.jsxs("div",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>t(r),children:[i.jsx("div",{className:"font-medium",children:r.name}),i.jsx("div",{className:"text-sm text-gray-600",children:r.formatted_address})]},n))})}function HO({initialLocation:e,onLocationSelect:t}){const{t:r,language:n}=ne(),s=n==="ar",o=h.useRef(null),[a,l]=h.useState(null),[c,u]=h.useState(null),[f,d]=h.useState(""),[m,p]=h.useState([]),{isLoaded:w,loadError:g}=UO();h.useEffect(()=>{!o.current||!w||g||x()},[o.current,w,g]);const x=()=>{if(!o.current||!window.google)return;const N=e||{lat:30.0444,lng:31.2357},S=new window.google.maps.Map(o.current,{center:N,zoom:15,streetViewControl:!1});l(S),e&&y(e,S),S.addListener("click",_=>{const C=_.latLng;y({lat:C.lat(),lng:C.lng()},S),t(C.lat(),C.lng())})},y=(N,S)=>{if(c)c.setPosition(N);else{const _=new window.google.maps.Marker({position:N,map:S,draggable:!0,animation:window.google.maps.Animation.DROP});_.addListener("dragend",()=>{const C=_.getPosition();t(C.lat(),C.lng())}),u(_)}},v=()=>{if(!a||!f||!window.google)return;new window.google.maps.places.PlacesService(a).textSearch({query:f},(S,_)=>{_===window.google.maps.places.PlacesServiceStatus.OK&&p(S.slice(0,5))})},b=N=>{!a||!window.google||(a.setCenter(N.geometry.location),y({lat:N.geometry.location.lat(),lng:N.geometry.location.lng()},a),t(N.geometry.location.lat(),N.geometry.location.lng()),p([]),d(""))},j=()=>{!navigator.geolocation||!a||navigator.geolocation.getCurrentPosition(N=>{const S={lat:N.coords.latitude,lng:N.coords.longitude};a.setCenter(S),y(S,a),t(S.lat,S.lng)},()=>{alert("Error: The Geolocation service failed.")})};return g?i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 rounded-lg",children:i.jsxs("div",{className:"text-center p-4",children:[i.jsx("p",{className:"text-red-500 mb-2",children:r("googleMapsError")}),i.jsx("p",{className:"text-sm text-gray-600",children:g})]})}):w?i.jsxs("div",{className:"relative w-full h-full",children:[i.jsxs("div",{className:"absolute top-2 left-2 right-2 z-10 flex gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(le,{className:"pr-10",placeholder:r("searchLocation"),value:f,onChange:N=>d(N.target.value),onKeyDown:N=>N.key==="Enter"&&v()}),i.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:v,children:i.jsx(fc,{className:"h-4 w-4"})}),i.jsx(WO,{results:m,onSelect:b})]}),i.jsx(te,{variant:"outline",size:"icon",onClick:j,title:r("useMyLocation"),children:i.jsx(Ys,{className:"h-4 w-4"})})]}),i.jsx("div",{ref:o,className:`w-full h-full ${s?"rtl":"ltr"}`}),i.jsx("div",{className:"absolute bottom-2 left-2 right-2 z-10 flex justify-center",children:i.jsx("div",{className:"bg-black/70 text-white px-3 py-1 rounded-full text-sm",children:r("clickOnMapOrDragMarker")})})]}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 rounded-lg",children:i.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-indigo-500 border-t-transparent rounded-full"})})}function qO({onAddressSelect:e,selectedAddress:t,hidePhoneField:r=!1,onShippingCostChange:n}){const{user:s}=Ve(),{t:o,language:a}=ne(),l=a==="ar",[c,u]=h.useState([]),[f,d]=h.useState([]),[m,p]=h.useState([]),[w,g]=h.useState([]),[x,y]=h.useState(null),[v,b]=h.useState(!1),[j,N]=h.useState(null),[S,_]=h.useState({recipient_name:"",street:"",building:"",floor:"",apartment:"",district:"",city:"",area:"",postal_code:"",phone:""}),[C,z]=h.useState(!0),[O,H]=h.useState(!1),[K,D]=h.useState(""),[R,M]=h.useState(!1),P=async E=>{try{const{data:I,error:Z}=await Y.from("cities").select("shipping_cost").eq("name",E).single();return Z?(console.error("Error fetching shipping cost:",Z),null):I!=null&&I.shipping_cost?Number(I.shipping_cost):null}catch(I){return console.error("Error fetching shipping cost:",I),null}};h.useEffect(()=>{async function E(){if(s)try{z(!0);const{data:Z,error:re}=await Y.from("addresses").select("*").eq("user_id",s.id).order("is_default",{ascending:!1});if(re)throw re;if(u(Z||[]),Z&&Z.length>0&&!t){const ie=Z.find(se=>se.is_default)||Z[0];if(y(ie.id),e(ie),ie.city&&n){const se=await P(ie.city);se!==null&&n(se)}}else t&&y(t.id)}catch(Z){console.error("Error fetching addresses:",Z)}finally{z(!1)}}async function I(){try{const{data:Z,error:re}=await Y.from("cities").select("*").order("name");if(re)throw re;d(Z||[]);const{data:ie,error:se}=await Y.from("areas").select("*").order("name");if(se)throw se;p(ie||[])}catch(Z){console.error("Error fetching cities and areas:",Z)}}E(),I()},[s,t,n]),h.useEffect(()=>{if(S.city){const E=f.find(I=>I.name===S.city);if(E){const I=m.filter(Z=>Z.city_id===E.id);g(I)}}else g([])},[S.city,f,m]);const B=async E=>{const I=c.find(Z=>Z.id===E);if(I){if(y(E),e(I),I.city&&n){const Z=await P(I.city);Z!==null&&n(Z)}M(!1)}},k=(E,I)=>{_(Z=>({...Z,[E]:I}))},A=async E=>{if(_(I=>({...I,city:E,area:""})),n){const I=await P(E);I!==null&&n(I)}},F=async()=>{if(s){H(!0);try{const I=(r?["recipient_name","street","building","district","city"]:["recipient_name","phone","street","building","district","city"]).filter(se=>!S[se]);if(I.length>0)throw new Error(`Please fill in all required fields: ${I.join(", ")}`);const Z=j?{latitude:j.lat,longitude:j.lng}:{},{data:re,error:ie}=await Y.from("addresses").insert([{user_id:s.id,recipient_name:S.recipient_name,street:S.street,building:S.building,floor:S.floor||"",apartment:S.apartment||"",district:S.district,city:S.city,area:S.area||"",postal_code:S.postal_code||"",phone:S.phone||"",is_default:c.length===0,...Z}]).select().single();if(ie)throw ie;if(u([...c,re]),y(re.id),e(re),re.city&&n){const se=await P(re.city);se!==null&&n(se)}W.success(o("addressSaved")),$()}catch(E){console.error("Error saving address:",E),W.error(E instanceof Error?E.message:"Error saving address")}finally{H(!1)}}},$=()=>{_({recipient_name:"",street:"",building:"",floor:"",apartment:"",district:"",city:"",area:"",postal_code:"",phone:""}),D(""),N(null),b(!1),M(!1)},U=()=>{if($(),x&&c.length>0){const E=c.find(I=>I.id===x);E&&n&&P(E.city).then(I=>{I!==null&&n(I)})}},Q=(E,I)=>{N({lat:E,lng:I}),W.success(o("locationSelected"))},X=async E=>{if(s)try{await Y.from("addresses").update({is_default:!1}).eq("user_id",s.id);const{error:I}=await Y.from("addresses").update({is_default:!0}).eq("id",E);if(I)throw I;u(c.map(Z=>({...Z,is_default:Z.id===E}))),W.success(o("defaultAddressUpdated"))}catch(I){console.error("Error setting default address:",I),W.error(o("defaultAddressError"))}},de=()=>{M(!0)},J=()=>f.map(E=>i.jsx(_r,{value:E.name,children:E.name},E.id));return C?i.jsx("div",{className:"animate-pulse h-64 bg-gray-100 rounded-lg"}):i.jsxs("div",{className:`space-y-6 ${l?"rtl":"ltr"}`,children:[c.length>0&&!R&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-medium",children:o("savedAddresses")}),i.jsx(te,{variant:"outline",size:"sm",onClick:de,className:"text-sm",children:o("addNewAddress")})]}),i.jsx("div",{className:"grid grid-cols-1 gap-4",children:c.map(E=>i.jsxs("div",{className:`
                  p-4 border rounded-lg cursor-pointer transition-all duration-200
                  ${x===E.id?"border-indigo-600 bg-indigo-50 shadow-md":"border-gray-200 hover:bg-gray-50"}
                `,onClick:()=>B(E.id),children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",checked:x===E.id,onChange:()=>B(E.id),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500"}),i.jsx("div",{className:"font-medium",children:E.recipient_name})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[E.is_default&&i.jsx("span",{className:"text-xs bg-indigo-100 text-indigo-800 px-2 py-1 rounded-full",children:o("default")}),!E.is_default&&i.jsx(te,{variant:"ghost",size:"sm",className:"text-xs text-indigo-600 hover:text-indigo-800",onClick:I=>{I.stopPropagation(),X(E.id)},children:o("default")})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-3 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Hd,{className:"h-4 w-4 mt-0.5 text-gray-400 flex-shrink-0"}),i.jsxs("span",{children:[E.building," ",E.street,", ",E.district,", ",E.city,E.area&&`, ${E.area}`]})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(vg,{className:"h-4 w-4 mt-0.5 text-gray-400 flex-shrink-0"}),i.jsxs("span",{children:[E.floor&&`${o("floor")}: ${E.floor}`,E.apartment&&`, ${o("apartment")}: ${E.apartment}`]})]})]}),!r&&E.phone&&i.jsxs("div",{className:"flex items-center mt-2 text-sm text-gray-600",children:[i.jsx(Ys,{className:"h-4 w-4 mr-1 text-gray-400"}),i.jsx("span",{children:E.phone})]}),E.latitude&&E.longitude&&i.jsxs("div",{className:"flex items-center mt-2 text-xs text-green-600",children:[i.jsx(H5,{className:"h-3 w-3 mr-1"}),o("locationSaved")]})]},E.id))})]}),(R||c.length===0)&&i.jsxs("div",{className:c.length>0?"border-t pt-6":"",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:c.length>0?o("addNewAddress"):o("addAddress")}),i.jsx(is,{className:"bg-gray-50 border-gray-200",children:i.jsx(uo,{className:"pt-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsxs(fe,{htmlFor:"recipient_name",children:[o("recipientName")," *"]}),i.jsx(le,{id:"recipient_name",value:S.recipient_name,onChange:E=>k("recipient_name",E.target.value),placeholder:o("fullName"),className:"bg-white",icon:i.jsx("span",{className:"text-gray-400",children:""})})]}),!r&&i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsx(fe,{htmlFor:"phone",children:o("phoneNumber")}),i.jsx(le,{id:"phone",value:S.phone,onChange:E=>k("phone",E.target.value),placeholder:"01XXXXXXXXX",className:"bg-white",icon:i.jsx("span",{className:"text-gray-400",children:""})})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsxs(fe,{htmlFor:"street",children:[o("streetName")," *"]}),i.jsx(le,{id:"street",value:S.street,onChange:E=>k("street",E.target.value),placeholder:o("streetNamePlaceholder"),className:"bg-white",icon:i.jsx(Hd,{className:"h-4 w-4 text-gray-400"})})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsxs(fe,{htmlFor:"district",children:[o("district")," *"]}),i.jsx(le,{id:"district",value:S.district,onChange:E=>k("district",E.target.value),placeholder:o("districtPlaceholder"),className:"bg-white",icon:i.jsx(Ys,{className:"h-4 w-4 text-gray-400"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(fe,{htmlFor:"building",children:[o("buildingNumber")," *"]}),i.jsx(le,{id:"building",value:S.building,onChange:E=>k("building",E.target.value),placeholder:o("buildingNumberPlaceholder"),className:"bg-white",icon:i.jsx(vg,{className:"h-4 w-4 text-gray-400"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"floor",children:o("floorNumber")}),i.jsx(le,{id:"floor",value:S.floor,onChange:E=>k("floor",E.target.value),placeholder:o("floorNumberPlaceholder"),className:"bg-white",icon:i.jsx(L5,{className:"h-4 w-4 text-gray-400"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(fe,{htmlFor:"apartment",children:[o("apartmentNumber")," ",i.jsx("span",{className:"text-gray-400 text-xs",children:o("optional")})]}),i.jsx(le,{id:"apartment",value:S.apartment,onChange:E=>k("apartment",E.target.value),placeholder:o("apartmentNumberPlaceholder"),className:"bg-white",icon:i.jsx(k5,{className:"h-4 w-4 text-gray-400"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(fe,{htmlFor:"postal_code",children:[o("postalCode")," ",i.jsx("span",{className:"text-gray-400 text-xs",children:o("optional")})]}),i.jsx(le,{id:"postal_code",value:S.postal_code,onChange:E=>k("postal_code",E.target.value),placeholder:o("postalCodePlaceholder"),className:"bg-white"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(fe,{htmlFor:"city",children:[o("city")," *"]}),i.jsxs(Al,{value:S.city,onValueChange:A,children:[i.jsx(Ei,{id:"city",className:"bg-white border-gray-300 hover:border-gray-400 shadow-sm",children:i.jsx(Tl,{placeholder:o("selectCity")})}),i.jsx(Pi,{className:"bg-white border-gray-200 shadow-lg",children:J()})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"area",children:o("area")}),i.jsxs(Al,{value:S.area,onValueChange:E=>k("area",E),disabled:!S.city,children:[i.jsx(Ei,{id:"area",className:"bg-white border-gray-300 hover:border-gray-400 shadow-sm",children:i.jsx(Tl,{placeholder:o("selectArea")})}),i.jsx(Pi,{className:"bg-white border-gray-200 shadow-lg",children:w.map(E=>i.jsx(_r,{value:E.name,children:E.name},E.id))})]})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsxs(fe,{htmlFor:"additional_details",children:[o("additionalDetails")," ",i.jsx("span",{className:"text-gray-400 text-xs",children:o("optional")})]}),i.jsx(Jh,{id:"additional_details",value:K,onChange:E=>D(E.target.value),placeholder:o("additionalDetailsPlaceholder"),className:"bg-white",rows:3})]})]})})}),i.jsxs("div",{className:"mt-6",children:[i.jsxs(te,{type:"button",variant:"outline",className:"flex items-center gap-2 w-full justify-center",onClick:()=>b(!v),children:[i.jsx(Ys,{className:"h-4 w-4"}),o(v?"hideMap":"pickLocationOnMap")]}),v&&i.jsx("div",{className:"mt-4 h-[400px] rounded-lg overflow-hidden border shadow-md",children:i.jsx(HO,{onLocationSelect:Q,initialLocation:j})}),j&&i.jsxs("div",{className:"mt-2 text-sm text-green-600 flex items-center gap-1",children:[i.jsx(G5,{className:"h-4 w-4"}),o("locationSelected")]})]}),i.jsxs("div",{className:"mt-6 flex gap-4",children:[c.length>0&&i.jsx(te,{type:"button",variant:"outline",className:"flex-1",onClick:U,children:o("cancel")}),i.jsx(te,{type:"button",className:c.length>0?"flex-1":"w-full",onClick:F,disabled:O,children:o(O?"saving":"saveAddress")})]})]})]})}function VO(){const{t:e,language:t}=ne(),{items:r,total:n,clearCart:s}=hs(),o=$e(),{user:a,getUserProfile:l}=Ve(),c=l(),[u,f]=h.useState({email:"",phone:"",firstName:"",lastName:""}),[d,m]=h.useState(null),[p,w]=h.useState("credit_card"),[g,x]=h.useState(!1),[y,v]=h.useState(!1),[b,j]=h.useState({}),[N,S]=h.useState(70),[_,C]=h.useState({cardNumber:"",expiryDate:"",cvv:""});h.useEffect(()=>{if(!a){o("/login?redirect=checkout");return}a&&c&&!y&&(f(P=>({...P,email:a.email||"",phone:c.phoneNumber||"",firstName:c.firstName||"",lastName:c.lastName||""})),v(!0))},[a,c,o,y]);const z=P=>{const{name:B,value:k}=P.target;f(A=>({...A,[B]:k}))},O=P=>{const{name:B,value:k}=P.target;C(A=>({...A,[B]:k}))},H=P=>{m(P)},K=P=>{j(P)},D=()=>b.amount?b.amount:b.percentage?n*b.percentage/100:0,R=()=>{const P=D();return n+N-P},M=async P=>{if(P.preventDefault(),r.length===0){W.error(e("cartEmpty"));return}if(!a){W.error(e("loginRequired")),o("/login?redirect=checkout");return}if(!d){W.error(e("pleaseSelectAddress"));return}const B=r.map(async k=>{const{data:A,error:F}=await Y.from("products").select("stock").eq("id",k.product.id).single();if(F)throw F;return!A||A.stock<k.quantity?{product:k.product.name,available:A?A.stock:0,requested:k.quantity,hasEnough:!1}:{hasEnough:!0}});try{const A=(await Promise.all(B)).filter(I=>!I.hasEnough);if(A.length>0){const I=A[0];W.error(`Not enough stock for "${I.product}". Available: ${I.available}, Requested: ${I.requested}`);return}x(!0);const F=D(),$=R(),U=u.phone||d.phone,{data:Q,error:X}=await Y.from("orders").insert({user_id:a.id,first_name:u.firstName,last_name:u.lastName,email:u.email,phone:U,address:`${d.building||""} ${d.street}, ${d.district||""}, ${d.city}`,city:d.city,postal_code:d.postal_code||"",total_amount:$,discount_amount:F,shipping_cost:N,status:"pending",payment_method:p,coupon_id:b.couponId||null,coupon_code:b.couponCode||null}).select().single();if(X)throw console.error("Order creation error:",X),new Error(X.message||"Failed to create order");if(!Q||!Q.id)throw new Error("Order created but no ID returned");const de=r.map(I=>({order_id:Q.id,product_id:I.product.id,product_name:I.product.name,quantity:I.quantity,price:I.product.price})),{error:J}=await Y.from("order_items").insert(de);if(J)throw console.error("Order items error:",J),new Error(J.message||"Failed to add order items");const E=r.map(I=>Y.rpc("decrement_stock",{row_id:I.product.id,amount:I.quantity}));if(await Promise.all(E),b.couponId&&b.ownerId&&b.ownerBenefitValue&&b.ownerBenefitValue>0){console.log(`Processing coupon ${b.couponId} for order ${Q.id} with benefit ${b.ownerBenefitValue}`);try{const{error:I}=await Y.from("coupon_usage").insert({coupon_id:b.couponId,user_id:a.id,order_id:Q.id});I&&console.error("Error recording coupon usage:",I);const{data:Z,error:re}=await Y.rpc("increment_balance",{row_id:b.ownerId,amount:b.ownerBenefitValue});if(re)console.error("Error incrementing owner balance:",re),W.error("Error applying coupon benefit");else{console.log("Successfully processed coupon owner benefit:",Z),W.success("Coupon benefit applied successfully");const{error:ie}=await Y.from("coupons").update({times_used:b.couponCode?b.couponCode.length:1}).eq("id",b.couponId);ie&&console.error("Error updating coupon usage counter:",ie)}}catch(I){console.error("Error processing coupon benefit:",I),W.error("Failed to process coupon benefit")}}s(),W.success(e("orderSuccess")),o("/orders")}catch(k){console.error("Error placing order:",k),W.error(e("orderError")+(k instanceof Error?`: ${k.message}`:""))}finally{x(!1)}};return r.length===0?(o("/"),null):i.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"grid grid-cols-1 gap-x-8 gap-y-8 lg:grid-cols-5",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow sticky top-8",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-6",children:e("orderItems")}),i.jsx("div",{className:"flow-root",children:i.jsx("ul",{className:"-my-4 divide-y divide-gray-200",children:r.map(({product:P,quantity:B})=>i.jsxs("li",{className:"flex py-4",children:[i.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:i.jsx("img",{src:P.image,alt:P.name,className:"h-full w-full object-cover object-center"})}),i.jsxs("div",{className:"ml-4 flex flex-1 flex-col",children:[i.jsx("div",{children:i.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[i.jsx("h3",{children:P.name}),i.jsx("p",{className:"ml-4",children:Vn(P.price*B)})]})}),i.jsx("div",{className:"flex flex-1 items-end justify-between text-sm",children:i.jsxs("p",{className:"text-gray-500",children:["Qty ",B]})})]})]},P.id))})}),i.jsxs("div",{className:"mt-6 space-y-4",children:[i.jsx("div",{className:"border-t border-gray-200 pt-4",children:i.jsx(BO,{onApply:K})}),i.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[i.jsx("div",{className:"text-base font-medium text-gray-900",children:e("subtotal")}),i.jsx("div",{className:"text-base font-medium text-gray-900",children:Vn(n)})]}),(b.percentage||b.amount)&&i.jsxs("div",{className:"flex items-center justify-between text-green-600",children:[i.jsxs("div",{className:"text-base font-medium",children:[e("discount")," ",b.percentage?`(${b.percentage}%)`:""]}),i.jsxs("div",{className:"text-base font-medium",children:["-",Vn(D())]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-base font-medium text-gray-900",children:e("shipping")}),i.jsx("div",{className:"text-base font-medium text-gray-900",children:Vn(N)})]}),i.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[i.jsx("div",{className:"text-lg font-semibold text-gray-900",children:e("total")}),i.jsx("div",{className:"text-lg font-semibold text-gray-900",children:Vn(R())})]})]}),i.jsxs("div",{className:"mt-8 space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[i.jsx(aP,{className:"h-5 w-5 text-gray-400"}),i.jsx("span",{children:"Secure checkout with SSL encryption"})]}),i.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[i.jsx(xg,{className:"h-5 w-5 text-gray-400"}),i.jsx("span",{children:"All major credit cards accepted"})]})]})]})}),i.jsx("div",{className:"lg:col-span-3",children:i.jsxs("form",{onSubmit:M,className:"space-y-8",children:[i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-6 border-b pb-2",children:e("contactInformation")}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[i.jsxs("div",{children:[i.jsx(fe,{htmlFor:"firstName",className:"text-gray-700 font-medium block mb-1.5",children:e("firstName")}),i.jsx(le,{type:"text",id:"firstName",name:"firstName",value:u.firstName,onChange:z,className:"w-full",required:!0})]}),i.jsxs("div",{children:[i.jsx(fe,{htmlFor:"lastName",className:"text-gray-700 font-medium block mb-1.5",children:e("lastName")}),i.jsx(le,{type:"text",id:"lastName",name:"lastName",value:u.lastName,onChange:z,className:"w-full",required:!0})]}),i.jsxs("div",{children:[i.jsx(fe,{htmlFor:"email",className:"text-gray-700 font-medium block mb-1.5",children:e("emailAddress")}),i.jsx(le,{type:"email",id:"email",name:"email",value:u.email,onChange:z,className:"w-full",required:!0})]}),i.jsxs("div",{children:[i.jsx(fe,{htmlFor:"phone",className:"text-gray-700 font-medium block mb-1.5",children:e("phoneNumber")}),i.jsx(le,{type:"tel",id:"phone",name:"phone",placeholder:"0100000000",value:u.phone,onChange:z,className:"w-full",required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-6 border-b pb-2",children:e("shippingInformation")}),i.jsx(qO,{onAddressSelect:H,selectedAddress:d,hidePhoneField:!0,onShippingCostChange:S})]}),i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-6 border-b pb-2",children:e("paymentMethod")}),i.jsxs("div",{className:"space-y-4 mt-4",children:[i.jsxs("div",{className:`flex items-center space-x-3 border p-4 rounded-md hover:bg-gray-50 cursor-pointer ${p==="credit_card"?"border-indigo-500 bg-indigo-50":""}`,onClick:()=>w("credit_card"),children:[i.jsx("input",{type:"radio",id:"credit_card",name:"paymentMethod",value:"credit_card",checked:p==="credit_card",onChange:()=>w("credit_card"),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500"}),i.jsxs(fe,{htmlFor:"credit_card",className:"flex items-center gap-3 cursor-pointer",children:[i.jsx(xg,{className:"h-5 w-5 text-indigo-600"}),i.jsx("span",{className:"font-medium",children:e("creditCard")})]})]}),i.jsxs("div",{className:`flex items-center space-x-3 border p-4 rounded-md hover:bg-gray-50 cursor-pointer ${p==="cash_on_delivery"?"border-indigo-500 bg-indigo-50":""}`,onClick:()=>w("cash_on_delivery"),children:[i.jsx("input",{type:"radio",id:"cash_on_delivery",name:"paymentMethod",value:"cash_on_delivery",checked:p==="cash_on_delivery",onChange:()=>w("cash_on_delivery"),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500"}),i.jsxs(fe,{htmlFor:"cash_on_delivery",className:"flex items-center gap-3 cursor-pointer",children:[i.jsx(Gd,{className:"h-5 w-5 text-indigo-600"}),i.jsx("span",{className:"font-medium",children:e("cashOnDelivery")})]})]})]})]}),p==="credit_card"&&i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-6 border-b pb-2",children:e("paymentInformation")}),i.jsxs("div",{className:"space-y-6 mt-4",children:[i.jsxs("div",{children:[i.jsx(fe,{htmlFor:"cardNumber",className:"text-gray-700 font-medium block mb-1.5",children:e("cardNumber")}),i.jsx(le,{type:"text",id:"cardNumber",name:"cardNumber",value:_.cardNumber,onChange:O,className:"w-full",required:p==="credit_card"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(fe,{htmlFor:"expiryDate",className:"text-gray-700 font-medium block mb-1.5",children:e("expiryDate")}),i.jsx(le,{type:"text",id:"expiryDate",name:"expiryDate",placeholder:"MM/YY",value:_.expiryDate,onChange:O,className:"w-full",required:p==="credit_card"})]}),i.jsxs("div",{children:[i.jsx(fe,{htmlFor:"cvv",className:"text-gray-700 font-medium block mb-1.5",children:"CVV"}),i.jsx(le,{type:"text",id:"cvv",name:"cvv",value:_.cvv,onChange:O,className:"w-full",required:p==="credit_card"})]})]})]})]}),i.jsx(te,{type:"submit",disabled:g||!d,className:"w-full py-6 rounded-lg mt-6 text-lg font-semibold bg-blue-600 hover:bg-blue-700 text-white transition-colors duration-200 shadow-lg hover:shadow-xl",size:"lg",children:e(g?"processing":"completeOrder")})]})})]})})})}function GO(){const{user:e}=Ve(),[t,r]=h.useState([]),[n,s]=h.useState(!0),[o,a]=h.useState(null),l=async()=>{if(!e){r([]),s(!1);return}try{s(!0),a(null);const{data:p,error:w}=await Y.from("addresses").select("*").eq("user_id",e.id).order("is_default",{ascending:!1}).order("created_at",{ascending:!1});if(w)throw w;const g=(p||[]).map(x=>({id:x.id,user_id:x.user_id,name:x.recipient_name,street_address:x.street,apartment:x.apartment,city:x.city,state:x.district,zip_code:x.postal_code,country:"Egypt",phone_number:x.phone,is_default:x.is_default,created_at:x.created_at}));r(g)}catch(p){console.error("Error fetching addresses:",p),a(p instanceof Error?p:new Error("Failed to fetch addresses"))}finally{s(!1)}},c=async p=>{if(!e)return null;try{const w={user_id:e.id,recipient_name:p.name,street:p.street_address,apartment:p.apartment,city:p.city,district:p.state,postal_code:p.zip_code,phone:p.phone_number,is_default:p.is_default||t.length===0,building:"Main",floor:null};w.is_default&&await Y.from("addresses").update({is_default:!1}).eq("user_id",e.id);const{data:g,error:x}=await Y.from("addresses").insert([w]).select().single();if(x)throw x;return await l(),g}catch(w){return console.error("Error adding address:",w),W.error("Failed to add address"),null}},u=async(p,w)=>{if(!e)return!1;try{const g={};w.name!==void 0&&(g.recipient_name=w.name),w.street_address!==void 0&&(g.street=w.street_address),w.apartment!==void 0&&(g.apartment=w.apartment),w.city!==void 0&&(g.city=w.city),w.state!==void 0&&(g.district=w.state),w.zip_code!==void 0&&(g.postal_code=w.zip_code),w.phone_number!==void 0&&(g.phone=w.phone_number),w.is_default!==void 0&&(g.is_default=w.is_default),w.is_default&&await Y.from("addresses").update({is_default:!1}).eq("user_id",e.id);const{error:x}=await Y.from("addresses").update(g).eq("id",p).eq("user_id",e.id);if(x)throw x;return await l(),!0}catch(g){return console.error("Error updating address:",g),W.error("Failed to update address"),!1}},f=async p=>{if(!e)return!1;try{const w=t.find(x=>x.id===p),{error:g}=await Y.from("addresses").delete().eq("id",p).eq("user_id",e.id);if(g)throw g;if(w!=null&&w.is_default&&t.length>1){const x=t.find(y=>y.id!==p);x&&await Y.from("addresses").update({is_default:!0}).eq("id",x.id)}return await l(),!0}catch(w){return console.error("Error deleting address:",w),W.error("Failed to delete address"),!1}},d=async p=>{if(!e)return!1;try{await Y.from("addresses").update({is_default:!1}).eq("user_id",e.id);const{error:w}=await Y.from("addresses").update({is_default:!0}).eq("id",p).eq("user_id",e.id);if(w)throw w;return await l(),!0}catch(w){return console.error("Error setting default address:",w),W.error("Failed to set default address"),!1}},m=()=>t.length===0?null:t.find(p=>p.is_default)||t[0];return h.useEffect(()=>{l()},[e]),{addresses:t,loading:n,error:o,fetchAddresses:l,addAddress:c,updateAddress:u,deleteAddress:f,setDefaultAddress:d,getDefaultAddress:m}}const Iu=Aw,YO=Tw,xb=h.forwardRef(({className:e,...t},r)=>i.jsx(Gh,{ref:r,className:ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));xb.displayName=Gh.displayName;const Ba=h.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(YO,{children:[i.jsx(xb,{}),i.jsxs(Yh,{ref:n,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(Xh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Yd,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ba.displayName=Yh.displayName;const Ua=({className:e,...t})=>i.jsx("div",{className:ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ua.displayName="DialogHeader";const Wa=({className:e,...t})=>i.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Wa.displayName="DialogFooter";const Ha=h.forwardRef(({className:e,...t},r)=>i.jsx(Kh,{ref:r,className:ee("text-lg font-semibold leading-none tracking-tight",e),...t}));Ha.displayName=Kh.displayName;const df=h.forwardRef(({className:e,...t},r)=>i.jsx(Qh,{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));df.displayName=Qh.displayName;function KO(){const{t:e,language:t}=ne(),r=$e(),{user:n}=Ve(),{addresses:s,loading:o,addAddress:a,updateAddress:l,deleteAddress:c,setDefaultAddress:u}=GO(),[f,d]=h.useState(!1),[m,p]=h.useState(!1),[w,g]=h.useState(!1),[x,y]=h.useState(null),[v,b]=h.useState({name:"",street_address:"",apartment:"",city:"",state:"",zip_code:"",country:"Egypt",phone_number:"",is_default:!1});if(!n)return r("/login"),null;const j=()=>{b({name:"",street_address:"",apartment:"",city:"",state:"",zip_code:"",country:"Egypt",phone_number:"",is_default:!1})},N=()=>{j(),d(!0)},S=R=>{y(R),b({name:R.name,street_address:R.street_address,apartment:R.apartment||"",city:R.city,state:R.state||"",zip_code:R.zip_code||"",country:R.country,phone_number:R.phone_number||"",is_default:R.is_default}),p(!0)},_=R=>{y(R),g(!0)},C=R=>{const{name:M,value:P,type:B,checked:k}=R.target;b(A=>({...A,[M]:B==="checkbox"?k:P}))},z=async R=>{R.preventDefault(),await a(v)&&(W.success(e("addressSaved")),d(!1),j())},O=async R=>{if(R.preventDefault(),!x)return;await l(x.id,v)&&(W.success(e("addressSaved")),p(!1),y(null))},H=async()=>{if(!x)return;await c(x.id)&&(W.success(e("addressDeleted")),g(!1),y(null))},K=async R=>{await u(R)&&W.success(e("defaultAddressChanged"))};if(o)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})});const D=t==="ar";return i.jsxs("div",{className:`min-h-screen bg-gray-50 py-12 ${D?"rtl":"ltr"}`,children:[i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e("savedAddresses")}),i.jsxs(te,{onClick:N,className:"flex items-center gap-2",children:[i.jsx(co,{className:"h-4 w-4"}),e("addNewAddress")]})]}),s.length===0?i.jsx(is,{children:i.jsxs(uo,{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(Ys,{className:"h-12 w-12 text-gray-400 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e("noSavedAddresses")}),i.jsx("p",{className:"text-gray-500 mb-6",children:e("addYourFirstAddress")}),i.jsx(te,{onClick:N,children:e("addNewAddress")})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(R=>i.jsxs(is,{className:`overflow-hidden ${R.is_default?"border-indigo-500 border-2":""}`,children:[i.jsx($h,{className:"pb-2",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx(Lh,{className:"text-lg",children:R.name}),R.is_default&&i.jsx("div",{className:"mt-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:e("defaultAddress")})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(te,{variant:"ghost",size:"icon",onClick:()=>S(R),className:"h-8 w-8",children:i.jsx(X5,{className:"h-4 w-4"})}),i.jsx(te,{variant:"ghost",size:"icon",onClick:()=>_(R),className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50",children:i.jsx(hc,{className:"h-4 w-4"})})]})]})}),i.jsx(uo,{className:"pb-3",children:i.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[i.jsx("p",{className:"font-medium",children:R.street_address}),R.apartment&&i.jsx("p",{children:R.apartment}),i.jsxs("p",{children:[R.city,R.state&&`, ${R.state}`,R.zip_code&&` ${R.zip_code}`]}),i.jsx("p",{children:R.country}),R.phone_number&&i.jsx("p",{className:"pt-1",children:R.phone_number})]})}),!R.is_default&&i.jsx(Gy,{className:"pt-0",children:i.jsxs(te,{variant:"outline",size:"sm",onClick:()=>K(R.id),className:"w-full",children:[i.jsx(Hd,{className:"h-4 w-4 mr-2"}),e("makeDefaultAddress")]})})]},R.id))})]}),i.jsx(Iu,{open:f,onOpenChange:d,children:i.jsxs(Ba,{className:"sm:max-w-md",children:[i.jsxs(Ua,{children:[i.jsx(Ha,{children:e("addNewAddress")}),i.jsx(df,{children:e("addYourFirstAddress")})]}),i.jsxs("form",{onSubmit:z,children:[i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(fe,{htmlFor:"name",children:e("addressName")}),i.jsx(le,{id:"name",name:"name",value:v.name,onChange:C,placeholder:e("addressName"),required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(fe,{htmlFor:"street_address",children:e("streetAddress")}),i.jsx(le,{id:"street_address",name:"street_address",value:v.street_address,onChange:C,placeholder:e("streetAddress"),required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(fe,{htmlFor:"apartment",children:e("apartment")}),i.jsx(le,{id:"apartment",name:"apartment",value:v.apartment,onChange:C,placeholder:e("apartment")})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(fe,{htmlFor:"city",children:e("city")}),i.jsx(le,{id:"city",name:"city",value:v.city,onChange:C,placeholder:e("city"),required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(fe,{htmlFor:"state",children:e("state")}),i.jsx(le,{id:"state",name:"state",value:v.state,onChange:C,placeholder:e("state")})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(fe,{htmlFor:"zip_code",children:e("zipCode")}),i.jsx(le,{id:"zip_code",name:"zip_code",value:v.zip_code,onChange:C,placeholder:e("zipCode")})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(fe,{htmlFor:"country",children:e("country")}),i.jsx(le,{id:"country",name:"country",value:v.country,onChange:C,placeholder:e("country"),required:!0})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(fe,{htmlFor:"phone_number",children:e("phoneNumber")}),i.jsx(le,{id:"phone_number",name:"phone_number",value:v.phone_number,onChange:C,placeholder:e("phoneNumber")})]}),i.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[i.jsx(bl,{id:"is_default",name:"is_default",checked:v.is_default,onCheckedChange:R=>b(M=>({...M,is_default:R===!0}))}),i.jsx("label",{htmlFor:"is_default",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:e("makeDefaultAddress")})]})]}),i.jsxs(Wa,{children:[i.jsx(te,{type:"button",variant:"outline",onClick:()=>d(!1),children:e("cancel")}),i.jsx(te,{type:"submit",children:e("save")})]})]})]})}),i.jsx(Iu,{open:m,onOpenChange:p,children:i.jsxs(Ba,{className:"sm:max-w-md",children:[i.jsx(Ua,{children:i.jsx(Ha,{children:e("editAddress")})}),i.jsxs("form",{onSubmit:O,children:[i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(fe,{htmlFor:"edit_name",children:e("addressName")}),i.jsx(le,{id:"edit_name",name:"name",value:v.name,onChange:C,placeholder:e("addressName"),required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(fe,{htmlFor:"edit_street_address",children:e("streetAddress")}),i.jsx(le,{id:"edit_street_address",name:"street_address",value:v.street_address,onChange:C,placeholder:e("streetAddress"),required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(fe,{htmlFor:"edit_apartment",children:e("apartment")}),i.jsx(le,{id:"edit_apartment",name:"apartment",value:v.apartment,onChange:C,placeholder:e("apartment")})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(fe,{htmlFor:"edit_city",children:e("city")}),i.jsx(le,{id:"edit_city",name:"city",value:v.city,onChange:C,placeholder:e("city"),required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(fe,{htmlFor:"edit_state",children:e("state")}),i.jsx(le,{id:"edit_state",name:"state",value:v.state,onChange:C,placeholder:e("state")})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(fe,{htmlFor:"edit_zip_code",children:e("zipCode")}),i.jsx(le,{id:"edit_zip_code",name:"zip_code",value:v.zip_code,onChange:C,placeholder:e("zipCode")})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(fe,{htmlFor:"edit_country",children:e("country")}),i.jsx(le,{id:"edit_country",name:"country",value:v.country,onChange:C,placeholder:e("country"),required:!0})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(fe,{htmlFor:"edit_phone_number",children:e("phoneNumber")}),i.jsx(le,{id:"edit_phone_number",name:"phone_number",value:v.phone_number,onChange:C,placeholder:e("phoneNumber")})]}),i.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[i.jsx(bl,{id:"edit_is_default",name:"is_default",checked:v.is_default,onCheckedChange:R=>b(M=>({...M,is_default:R===!0})),disabled:x==null?void 0:x.is_default}),i.jsx("label",{htmlFor:"edit_is_default",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:e("makeDefaultAddress")})]})]}),i.jsxs(Wa,{children:[i.jsx(te,{type:"button",variant:"outline",onClick:()=>p(!1),children:e("cancel")}),i.jsx(te,{type:"submit",children:e("save")})]})]})]})}),i.jsx(Iu,{open:w,onOpenChange:g,children:i.jsxs(Ba,{className:"sm:max-w-md",children:[i.jsxs(Ua,{children:[i.jsx(Ha,{children:e("deleteAddress")}),i.jsx(df,{children:e("confirmDeleteAddress")})]}),i.jsx("div",{className:"py-4",children:x&&i.jsxs("div",{className:"text-sm text-gray-700 border rounded-md p-3 bg-gray-50",children:[i.jsx("p",{className:"font-medium",children:x.name}),i.jsx("p",{children:x.street_address}),x.apartment&&i.jsx("p",{children:x.apartment}),i.jsxs("p",{children:[x.city,x.state&&`, ${x.state}`,x.zip_code&&` ${x.zip_code}`]}),i.jsx("p",{children:x.country})]})}),i.jsxs(Wa,{children:[i.jsx(te,{type:"button",variant:"outline",onClick:()=>g(!1),children:e("no")}),i.jsx(te,{type:"button",variant:"destructive",onClick:H,children:e("yes")})]})]})})]})}var um="Collapsible",[QO,yb]=Rn(um),[XO,dm]=QO(um),wb=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:o,onOpenChange:a,...l}=e,[c=!1,u]=os({prop:n,defaultProp:s,onChange:a});return i.jsx(XO,{scope:r,disabled:o,contentId:bn(),open:c,onOpenToggle:h.useCallback(()=>u(f=>!f),[u]),children:i.jsx(ge.div,{"data-state":hm(c),"data-disabled":o?"":void 0,...l,ref:t})})});wb.displayName=um;var bb="CollapsibleTrigger",jb=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=dm(bb,r);return i.jsx(ge.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":hm(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:xe(e.onClick,s.onOpenToggle)})});jb.displayName=bb;var fm="CollapsibleContent",Nb=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=dm(fm,e.__scopeCollapsible);return i.jsx(No,{present:r||s.open,children:({present:o})=>i.jsx(JO,{...n,ref:t,present:o})})});Nb.displayName=fm;var JO=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...o}=e,a=dm(fm,r),[l,c]=h.useState(n),u=h.useRef(null),f=Se(t,u),d=h.useRef(0),m=d.current,p=h.useRef(0),w=p.current,g=a.open||l,x=h.useRef(g),y=h.useRef(void 0);return h.useEffect(()=>{const v=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(v)},[]),st(()=>{const v=u.current;if(v){y.current=y.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const b=v.getBoundingClientRect();d.current=b.height,p.current=b.width,x.current||(v.style.transitionDuration=y.current.transitionDuration,v.style.animationName=y.current.animationName),c(n)}},[a.open,n]),i.jsx(ge.div,{"data-state":hm(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!g,...o,ref:f,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:g&&s})});function hm(e){return e?"open":"closed"}var ZO=wb,eI=jb,tI=Nb,Br="Accordion",rI=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[mm,nI,sI]=c1(Br),[Ac,DI]=Rn(Br,[sI,yb]),pm=yb(),Sb=T.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,o=n;return i.jsx(mm.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?i.jsx(lI,{...o,ref:t}):i.jsx(aI,{...s,ref:t})})});Sb.displayName=Br;var[_b,oI]=Ac(Br),[kb,iI]=Ac(Br,{collapsible:!1}),aI=T.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:o=!1,...a}=e,[l,c]=os({prop:r,defaultProp:n,onChange:s});return i.jsx(_b,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:T.useCallback(()=>o&&c(""),[o,c]),children:i.jsx(kb,{scope:e.__scopeAccordion,collapsible:o,children:i.jsx(Cb,{...a,ref:t})})})}),lI=T.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...o}=e,[a=[],l]=os({prop:r,defaultProp:n,onChange:s}),c=T.useCallback(f=>l((d=[])=>[...d,f]),[l]),u=T.useCallback(f=>l((d=[])=>d.filter(m=>m!==f)),[l]);return i.jsx(_b,{scope:e.__scopeAccordion,value:a,onItemOpen:c,onItemClose:u,children:i.jsx(kb,{scope:e.__scopeAccordion,collapsible:!0,children:i.jsx(Cb,{...o,ref:t})})})}),[cI,Tc]=Ac(Br),Cb=T.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:o="vertical",...a}=e,l=T.useRef(null),c=Se(l,t),u=nI(r),d=u1(s)==="ltr",m=xe(e.onKeyDown,p=>{var C;if(!rI.includes(p.key))return;const w=p.target,g=u().filter(z=>{var O;return!((O=z.ref.current)!=null&&O.disabled)}),x=g.findIndex(z=>z.ref.current===w),y=g.length;if(x===-1)return;p.preventDefault();let v=x;const b=0,j=y-1,N=()=>{v=x+1,v>j&&(v=b)},S=()=>{v=x-1,v<b&&(v=j)};switch(p.key){case"Home":v=b;break;case"End":v=j;break;case"ArrowRight":o==="horizontal"&&(d?N():S());break;case"ArrowDown":o==="vertical"&&N();break;case"ArrowLeft":o==="horizontal"&&(d?S():N());break;case"ArrowUp":o==="vertical"&&S();break}const _=v%y;(C=g[_].ref.current)==null||C.focus()});return i.jsx(cI,{scope:r,disabled:n,direction:s,orientation:o,children:i.jsx(mm.Slot,{scope:r,children:i.jsx(ge.div,{...a,"data-orientation":o,ref:c,onKeyDown:n?void 0:m})})})}),Rl="AccordionItem",[uI,gm]=Ac(Rl),Eb=T.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,o=Tc(Rl,r),a=oI(Rl,r),l=pm(r),c=bn(),u=n&&a.value.includes(n)||!1,f=o.disabled||e.disabled;return i.jsx(uI,{scope:r,open:u,disabled:f,triggerId:c,children:i.jsx(ZO,{"data-orientation":o.orientation,"data-state":Ib(u),...l,...s,ref:t,disabled:f,open:u,onOpenChange:d=>{d?a.onItemOpen(n):a.onItemClose(n)}})})});Eb.displayName=Rl;var Pb="AccordionHeader",Ab=T.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Tc(Br,r),o=gm(Pb,r);return i.jsx(ge.h3,{"data-orientation":s.orientation,"data-state":Ib(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:t})});Ab.displayName=Pb;var ff="AccordionTrigger",Tb=T.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Tc(Br,r),o=gm(ff,r),a=iI(ff,r),l=pm(r);return i.jsx(mm.ItemSlot,{scope:r,children:i.jsx(eI,{"aria-disabled":o.open&&!a.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...l,...n,ref:t})})});Tb.displayName=ff;var Rb="AccordionContent",Ob=T.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Tc(Br,r),o=gm(Rb,r),a=pm(r);return i.jsx(tI,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...a,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Ob.displayName=Rb;function Ib(e){return e?"open":"closed"}var Db=Sb,Mb=Eb,$b=Ab,Rc=Tb,Oc=Ob;const dI=Db,Lb=T.forwardRef(({className:e,...t},r)=>i.jsx(Mb,{ref:r,className:ee("border-b",e),...t}));Lb.displayName="AccordionItem";const Fb=T.forwardRef(({className:e,children:t,...r},n)=>i.jsx($b,{className:"flex",children:i.jsxs(Rc,{ref:n,className:ee("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,i.jsx(dc,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Fb.displayName=Rc.displayName;const zb=T.forwardRef(({className:e,children:t,...r},n)=>i.jsx(Oc,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:i.jsx("div",{className:ee("pb-4 pt-0",e),children:t})}));zb.displayName=Oc.displayName;function fI(){const{t:e,language:t}=ne(),r=t==="ar"?"rtl":"",n=[{question:e("faqQuestion1"),answer:e("faqAnswer1")},{question:e("faqQuestion2"),answer:e("faqAnswer2")},{question:e("faqQuestion3"),answer:e("faqAnswer3")},{question:e("returnPolicy"),answer:e("returnPolicyDetails")},{question:e("paymentMethods"),answer:e("paymentMethodsDetails")}];return i.jsx("div",{className:`py-12 bg-gray-50 min-h-screen ${r}`,children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:e("frequentlyAskedQuestions")}),i.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:e("faqIntro")})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:i.jsx(dI,{type:"single",collapsible:!0,className:"w-full",children:n.map((s,o)=>i.jsxs(Lb,{value:`item-${o}`,children:[i.jsx(Fb,{className:"px-6 py-4 text-left text-gray-900 hover:bg-gray-50",children:s.question}),i.jsx(zb,{className:"px-6 py-4 text-gray-600",children:s.answer})]},o))})}),i.jsxs("div",{className:"mt-12 text-center",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:e("stillHaveQuestions")}),i.jsx("p",{className:"text-gray-600 mb-6",children:e("contactUsMessage")}),i.jsx("a",{href:"/Carvy/contact",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:e("contactUs")})]})]})})}const hI=Db,yr=h.forwardRef(({className:e,...t},r)=>i.jsx(Mb,{ref:r,className:ee("border-b",e),...t}));yr.displayName="AccordionItem";const wr=h.forwardRef(({className:e,children:t,...r},n)=>i.jsx($b,{className:"flex",children:i.jsxs(Rc,{ref:n,className:ee("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,i.jsx(dc,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));wr.displayName=Rc.displayName;const br=h.forwardRef(({className:e,children:t,...r},n)=>i.jsx(Oc,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:i.jsx("div",{className:ee("pb-4 pt-0",e),children:t})}));br.displayName=Oc.displayName;function mI(){const{t:e,language:t}=ne(),r=t==="ar"?"rtl":"",n="June 1, 2023",s=t==="ar";return i.jsx("div",{className:`py-12 bg-gray-50 min-h-screen ${r}`,children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:e("termsAndConditions")}),i.jsxs("p",{className:"text-gray-500 text-sm",children:[s?" :":"Last Updated:"," ",n]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-100",children:i.jsx("p",{className:"text-gray-600",children:s?"   .         .             .               .":"Welcome to Zabtt. Please read these Terms and Conditions carefully before using our services. By accessing or using our platform, you agree to be bound by these terms. If you disagree with any part of these terms, you may not use our services."})}),i.jsxs(hI,{type:"single",collapsible:!0,className:"w-full",children:[i.jsxs(yr,{value:"section-1",children:[i.jsx(wr,{className:"px-6 py-4 text-left text-gray-900 hover:bg-gray-50 border-b border-gray-100",children:i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"font-semibold",children:s?"1.  ":"1. Acceptance of Terms"})})}),i.jsx(br,{className:"px-6 py-4 text-gray-600 border-b border-gray-100",children:i.jsx("p",{children:s?"                   .              .           .":"By creating an account or using Zabtt services, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions. We reserve the right to update or modify these terms at any time without prior notice. Your continued use of our services following any changes constitutes your acceptance of the revised terms."})})]}),i.jsxs(yr,{value:"section-2",children:[i.jsx(wr,{className:"px-6 py-4 text-left text-gray-900 hover:bg-gray-50 border-b border-gray-100",children:i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"font-semibold",children:s?"2.  ":"2. Account Registration"})})}),i.jsxs(br,{className:"px-6 py-4 text-gray-600 border-b border-gray-100",children:[i.jsx("p",{className:"mb-3",children:s?"         .     :":"To use certain features of our platform, you must register for an account. When you register, you agree to:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:s?"    ":"Provide accurate, current, and complete information"}),i.jsx("li",{children:s?"      ":"Maintain and promptly update your account information"}),i.jsx("li",{children:s?"      ":"Keep your password secure and confidential"}),i.jsx("li",{children:s?"        ":"Be responsible for all activities that occur under your account"}),i.jsx("li",{children:s?"        ":"Notify us immediately of any unauthorized use of your account"})]})]})]}),i.jsxs(yr,{value:"section-3",children:[i.jsx(wr,{className:"px-6 py-4 text-left text-gray-900 hover:bg-gray-50 border-b border-gray-100",children:i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"font-semibold",children:s?"3.  ":"3. User Conduct"})})}),i.jsxs(br,{className:"px-6 py-4 text-gray-600 border-b border-gray-100",children:[i.jsx("p",{className:"mb-3",children:s?"      :":"When using our services, you agree not to:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:s?"         ":"Violate any applicable laws, regulations, or third-party rights"}),i.jsx("li",{children:s?"         ":"Use the platform for any illegal or unauthorized purpose"}),i.jsx("li",{children:s?"        ":"Post or transmit harmful, fraudulent, or deceptive content"}),i.jsx("li",{children:s?"          ":"Attempt to gain unauthorized access to other user accounts or systems"}),i.jsx("li",{children:s?"     ":"Interfere with or disrupt the integrity of our platform"}),i.jsx("li",{children:s?"       ":"Collect or harvest user information without express consent"})]})]})]}),i.jsxs(yr,{value:"section-4",children:[i.jsx(wr,{className:"px-6 py-4 text-left text-gray-900 hover:bg-gray-50 border-b border-gray-100",children:i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"font-semibold",children:s?"4.  ":"4. Products and Services"})})}),i.jsxs(br,{className:"px-6 py-4 text-gray-600 border-b border-gray-100",children:[i.jsx("p",{className:"mb-3",children:s?"4.1  :                              .":"4.1 Product Information: We strive to provide accurate product information, but we do not warrant that product descriptions, prices, or other content on our platform are complete, reliable, current, or error-free."}),i.jsx("p",{className:"mb-3",children:s?"4.2  :       .           .":"4.2 Pricing and Availability: Prices and availability of products are subject to change without notice. We reserve the right to limit quantities of products purchased and to refuse or cancel orders."}),i.jsx("p",{children:s?"4.3    :           .             .                             .":"4.3 Third-Party Sellers: Some products on our platform are sold by third-party sellers. We are not responsible for examining or evaluating the content or accuracy of third-party products. We do not warrant or guarantee any third-party products and you agree that we are not responsible for any damages or losses resulting from your transactions with third-party sellers."})]})]}),i.jsxs(yr,{value:"section-5",children:[i.jsx(wr,{className:"px-6 py-4 text-left text-gray-900 hover:bg-gray-50 border-b border-gray-100",children:i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"font-semibold",children:s?"5.   ":"5. Payment and Refunds"})})}),i.jsxs(br,{className:"px-6 py-4 text-gray-600 border-b border-gray-100",children:[i.jsx("p",{className:"mb-3",children:s?"5.1  :          .              .":"5.1 Payment Methods: We accept various payment methods as indicated during the checkout process. By providing payment information, you represent and warrant that you are authorized to use the designated payment method."}),i.jsx("p",{className:"mb-3",children:s?"5.2  :     (EGP)     .         .":"5.2 Pricing and Taxes: All prices are in Egyptian Pounds (EGP) unless otherwise stated. Applicable taxes will be added to the final price during checkout."}),i.jsx("p",{className:"mb-3",children:s?"5.3  :         24    .             .              .":"5.3 Refunds: Our refund policy allows returns within 24 hours of receiving the product. To qualify for a refund, items must be unused and in their original packaging. Return shipping costs are the responsibility of the customer unless the return is due to our error."})]})]}),i.jsxs(yr,{value:"section-6",children:[i.jsx(wr,{className:"px-6 py-4 text-left text-gray-900 hover:bg-gray-50 border-b border-gray-100",children:i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"font-semibold",children:s?"6.  ":"6. Intellectual Property"})})}),i.jsxs(br,{className:"px-6 py-4 text-gray-600 border-b border-gray-100",children:[i.jsx("p",{className:"mb-3",children:s?"6.1   :                                               .":"6.1 Our Content: All content on our platform, including but not limited to text, graphics, logos, icons, images, audio clips, digital downloads, and software, is the property of Zabtt or its content suppliers and is protected by international copyright, trademark, and other intellectual property laws."}),i.jsx("p",{className:"mb-3",children:s?"6.2  :                  .    :":"6.2 Limited License: We grant you a limited, non-exclusive, non-transferable, and revocable license to access and use our platform for personal, non-commercial purposes. This license does not include:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-3",children:[i.jsx("li",{children:s?"     ":"Modifying or copying our materials"}),i.jsx("li",{children:s?"    ":"Using the materials for any commercial purpose"}),i.jsx("li",{children:s?"        ":"Attempting to decompile or reverse engineer any software on our platform"}),i.jsx("li",{children:s?"         ":"Removing any copyright or proprietary notations from the materials"})]}),i.jsx("p",{children:s?"6.3  :     (   )                          .":"6.3 User Content: By submitting content (such as reviews or comments) to our platform, you grant us a worldwide, non-exclusive, royalty-free license to use, reproduce, adapt, publish, translate, and distribute your content in any existing or future media."})]})]}),i.jsxs(yr,{value:"section-7",children:[i.jsx(wr,{className:"px-6 py-4 text-left text-gray-900 hover:bg-gray-50 border-b border-gray-100",children:i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"font-semibold",children:s?"7.  ":"7. Limitation of Liability"})})}),i.jsxs(br,{className:"px-6 py-4 text-gray-600 border-b border-gray-100",children:[i.jsx("p",{className:"mb-3",children:s?"                                                      :":"In no event shall Zabtt, its officers, directors, employees, or agents, be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:s?"            ":"Your access to or use of or inability to access or use our services"}),i.jsx("li",{children:s?"        ":"Any conduct or content of any third party on our platform"}),i.jsx("li",{children:s?"      ":"Any content obtained from our platform"}),i.jsx("li",{children:s?"           ":"Unauthorized access, use, or alteration of your transmissions or content"})]})]})]}),i.jsxs(yr,{value:"section-8",children:[i.jsx(wr,{className:"px-6 py-4 text-left text-gray-900 hover:bg-gray-50 border-b border-gray-100",children:i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"font-semibold",children:s?"8.  ":"8. Governing Law"})})}),i.jsx(br,{className:"px-6 py-4 text-gray-600",children:i.jsx("p",{children:s?"             .               .":"These Terms and Conditions shall be governed and construed in accordance with the laws of Egypt, without regard to its conflict of law provisions. Any dispute arising from or relating to these terms shall be subject to the exclusive jurisdiction of the courts in Egypt."})})]})]})]}),i.jsx("div",{className:"mt-8 text-center",children:i.jsxs("p",{className:"text-sm text-gray-500",children:[s?"             ":"If you have any questions about these Terms and Conditions, please contact us at ",i.jsx("a",{href:"mailto:support@zabtt.com",className:"text-blue-600 hover:underline",children:"support@zabtt.com"})]})})]})})}const Bb=T.forwardRef(({className:e,variant:t="primary",size:r="md",children:n,icon:s,iconPosition:o="right",...a},l)=>{const c={primary:"button-primary",secondary:"button-secondary",ghost:"inline-flex items-center justify-center px-4 py-2 text-primary font-medium transition-all duration-300 hover:bg-gray-100/50 active:scale-[0.98] rounded-full"},u={sm:"text-sm px-4 py-2",md:"text-base px-6 py-3",lg:"text-lg px-8 py-4"};return i.jsxs("button",{className:ee(c[t],u[r],"relative overflow-hidden group",e),ref:l,...a,children:[i.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[s&&o==="left"&&i.jsx("span",{className:"transition-transform duration-300 group-hover:-translate-x-1",children:s}),n,s&&o==="right"&&i.jsx("span",{className:"transition-transform duration-300 group-hover:translate-x-1",children:s})]}),i.jsx("span",{className:"absolute inset-0 z-0 bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})});Bb.displayName="AnimatedButton";const pI=()=>{const{t:e}=ne(),t=gr(),r=$e();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-6",children:i.jsxs("div",{className:"text-center max-w-lg",children:[i.jsx("h1",{className:"text-8xl md:text-9xl font-bold mb-4 gradient-text",children:"404"}),i.jsx("p",{className:"text-xl md:text-2xl text-gray-800 mb-6",children:e("pageNotFound")}),i.jsx("p",{className:"text-gray-600 mb-8",children:e("pageDoesntExist")}),i.jsx(Bb,{variant:"primary",onClick:()=>r("/"),icon:i.jsx(wl,{className:"w-5 h-5"}),iconPosition:"left",children:e("returnHome")})]})})};function gI({requireAdmin:e=!1,requireOwner:t=!1}){const{user:r,loading:n}=Ve();if(n)return i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})});if(!r){const s=window.location.pathname+window.location.search;return sessionStorage.setItem("redirectAfterLogin",s),i.jsx(pS,{to:"/login",replace:!0})}return i.jsx(gS,{})}function vI(){const{pathname:e}=gr();return h.useEffect(()=>{window.scrollTo(0,0)},[e]),null}function xI(){const{user:e}=Ve(),t=sessionStorage.getItem("redirectAfterLogin");return h.useEffect(()=>{e&&t&&(sessionStorage.removeItem("redirectAfterLogin"),window.location.href=t)},[e,t]),null}function yI(){return i.jsx(X4,{children:i.jsx(kS,{basename:"/Carvy/",children:i.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[i.jsx(pP,{}),i.jsx(vI,{}),i.jsx(xI,{}),i.jsxs(xS,{children:[i.jsx(ke,{path:"/",element:i.jsx(h3,{})}),i.jsx(ke,{path:"/categories",element:i.jsx(m3,{})}),i.jsx(ke,{path:"/categories/:categoryId",element:i.jsx(g3,{})}),i.jsx(ke,{path:"/shops",element:i.jsx(v3,{})}),i.jsx(ke,{path:"/shops/:shopId",element:i.jsx(y3,{})}),i.jsx(ke,{path:"/products",element:i.jsx(GR,{})}),i.jsx(ke,{path:"/products/:productId",element:i.jsx(XR,{})}),i.jsx(ke,{path:"/models/:modelId",element:i.jsx($O,{})}),i.jsxs(ke,{element:i.jsx(gI,{}),children:[i.jsx(ke,{path:"/wishlist",element:i.jsx(LO,{})}),i.jsx(ke,{path:"/checkout",element:i.jsx(VO,{})}),i.jsx(ke,{path:"/profile",element:i.jsx(X3,{})}),i.jsx(ke,{path:"/orders",element:i.jsx(VR,{})}),i.jsx(ke,{path:"/saved-addresses",element:i.jsx(KO,{})})]}),i.jsx(ke,{path:"/cart",element:i.jsx(b3,{})}),i.jsx(ke,{path:"/login",element:i.jsx(j3,{})}),i.jsx(ke,{path:"/register",element:i.jsx(M3,{})}),i.jsx(ke,{path:"/forgot-password",element:i.jsx(F3,{})}),i.jsx(ke,{path:"/reset-password",element:i.jsx(z3,{})}),i.jsx(ke,{path:"/search",element:i.jsx(B3,{})}),i.jsx(ke,{path:"/contact",element:i.jsx(U3,{})}),i.jsx(ke,{path:"/faq",element:i.jsx(fI,{})}),i.jsx(ke,{path:"/terms",element:i.jsx(mI,{})}),i.jsx(ke,{path:"*",element:i.jsx(pI,{})})]}),i.jsx(gP,{}),i.jsx(U4,{position:"top-right",richColors:!0})]})})})}Du.createRoot(document.getElementById("root")).render(i.jsx(T.StrictMode,{children:i.jsx(yI,{})}));export{hf as g};
