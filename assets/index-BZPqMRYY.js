function YT(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function GT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var H1={exports:{}},Ld={},q1={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=Symbol.for("react.element"),KT=Symbol.for("react.portal"),QT=Symbol.for("react.fragment"),XT=Symbol.for("react.strict_mode"),ZT=Symbol.for("react.profiler"),JT=Symbol.for("react.provider"),eA=Symbol.for("react.context"),tA=Symbol.for("react.forward_ref"),rA=Symbol.for("react.suspense"),nA=Symbol.for("react.memo"),sA=Symbol.for("react.lazy"),Ey=Symbol.iterator;function oA(e){return e===null||typeof e!="object"?null:(e=Ey&&e[Ey]||e["@@iterator"],typeof e=="function"?e:null)}var Y1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G1=Object.assign,K1={};function ra(e,t,r){this.props=e,this.context=t,this.refs=K1,this.updater=r||Y1}ra.prototype.isReactComponent={};ra.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ra.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Q1(){}Q1.prototype=ra.prototype;function Ng(e,t,r){this.props=e,this.context=t,this.refs=K1,this.updater=r||Y1}var Cg=Ng.prototype=new Q1;Cg.constructor=Ng;G1(Cg,ra.prototype);Cg.isPureReactComponent=!0;var Py=Array.isArray,X1=Object.prototype.hasOwnProperty,kg={current:null},Z1={key:!0,ref:!0,__self:!0,__source:!0};function J1(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)X1.call(t,n)&&!Z1.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ql,type:e,key:o,ref:i,props:s,_owner:kg.current}}function iA(e,t){return{$$typeof:Ql,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _g(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ql}function aA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ty=/\/+/g;function ah(e,t){return typeof e=="object"&&e!==null&&e.key!=null?aA(""+e.key):t.toString(36)}function mu(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ql:case KT:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+ah(i,0):n,Py(s)?(r="",e!=null&&(r=e.replace(Ty,"$&/")+"/"),mu(s,t,r,"",function(u){return u})):s!=null&&(_g(s)&&(s=iA(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Ty,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Py(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+ah(o,l);i+=mu(o,t,r,c,s)}else if(c=oA(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+ah(o,l++),i+=mu(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function kc(e,t,r){if(e==null)return e;var n=[],s=0;return mu(e,n,"","",function(o){return t.call(r,o,s++)}),n}function lA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ar={current:null},pu={transition:null},cA={ReactCurrentDispatcher:ar,ReactCurrentBatchConfig:pu,ReactCurrentOwner:kg};function e2(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:kc,forEach:function(e,t,r){kc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return kc(e,function(){t++}),t},toArray:function(e){return kc(e,function(t){return t})||[]},only:function(e){if(!_g(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Oe.Component=ra;Oe.Fragment=QT;Oe.Profiler=ZT;Oe.PureComponent=Ng;Oe.StrictMode=XT;Oe.Suspense=rA;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cA;Oe.act=e2;Oe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=G1({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=kg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)X1.call(t,c)&&!Z1.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ql,type:e.type,key:s,ref:o,props:n,_owner:i}};Oe.createContext=function(e){return e={$$typeof:eA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:JT,_context:e},e.Consumer=e};Oe.createElement=J1;Oe.createFactory=function(e){var t=J1.bind(null,e);return t.type=e,t};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(e){return{$$typeof:tA,render:e}};Oe.isValidElement=_g;Oe.lazy=function(e){return{$$typeof:sA,_payload:{_status:-1,_result:e},_init:lA}};Oe.memo=function(e,t){return{$$typeof:nA,type:e,compare:t===void 0?null:t}};Oe.startTransition=function(e){var t=pu.transition;pu.transition={};try{e()}finally{pu.transition=t}};Oe.unstable_act=e2;Oe.useCallback=function(e,t){return ar.current.useCallback(e,t)};Oe.useContext=function(e){return ar.current.useContext(e)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(e){return ar.current.useDeferredValue(e)};Oe.useEffect=function(e,t){return ar.current.useEffect(e,t)};Oe.useId=function(){return ar.current.useId()};Oe.useImperativeHandle=function(e,t,r){return ar.current.useImperativeHandle(e,t,r)};Oe.useInsertionEffect=function(e,t){return ar.current.useInsertionEffect(e,t)};Oe.useLayoutEffect=function(e,t){return ar.current.useLayoutEffect(e,t)};Oe.useMemo=function(e,t){return ar.current.useMemo(e,t)};Oe.useReducer=function(e,t,r){return ar.current.useReducer(e,t,r)};Oe.useRef=function(e){return ar.current.useRef(e)};Oe.useState=function(e){return ar.current.useState(e)};Oe.useSyncExternalStore=function(e,t,r){return ar.current.useSyncExternalStore(e,t,r)};Oe.useTransition=function(){return ar.current.useTransition()};Oe.version="18.3.1";q1.exports=Oe;var h=q1.exports;const O=Sg(h),Fu=YT({__proto__:null,default:O},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uA=h,dA=Symbol.for("react.element"),fA=Symbol.for("react.fragment"),hA=Object.prototype.hasOwnProperty,mA=uA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pA={key:!0,ref:!0,__self:!0,__source:!0};function t2(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)hA.call(t,n)&&!pA.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:dA,type:e,key:o,ref:i,props:s,_owner:mA.current}}Ld.Fragment=fA;Ld.jsx=t2;Ld.jsxs=t2;H1.exports=Ld;var a=H1.exports,jm={},r2={exports:{}},Mr={},n2={exports:{}},s2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,D){var H=T.length;T.push(D);e:for(;0<H;){var V=H-1>>>1,Q=T[V];if(0<s(Q,D))T[V]=D,T[H]=Q,H=V;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var D=T[0],H=T.pop();if(H!==D){T[0]=H;e:for(var V=0,Q=T.length,X=Q>>>1;V<X;){var se=2*(V+1)-1,ge=T[se],le=se+1,k=T[le];if(0>s(ge,H))le<Q&&0>s(k,ge)?(T[V]=k,T[le]=H,V=le):(T[V]=ge,T[se]=H,V=se);else if(le<Q&&0>s(k,H))T[V]=k,T[le]=H,V=le;else break e}}return D}function s(T,D){var H=T.sortIndex-D.sortIndex;return H!==0?H:T.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,g=!1,y=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(T){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=T)n(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function j(T){if(p=!1,b(T),!y)if(r(c)!==null)y=!0,L(S);else{var D=r(u);D!==null&&U(j,D.startTime-T)}}function S(T,D){y=!1,p&&(p=!1,x(_),_=-1),g=!0;var H=m;try{for(b(D),f=r(c);f!==null&&(!(f.expirationTime>D)||T&&!$());){var V=f.callback;if(typeof V=="function"){f.callback=null,m=f.priorityLevel;var Q=V(f.expirationTime<=D);D=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===r(c)&&n(c),b(D)}else n(c);f=r(c)}if(f!==null)var X=!0;else{var se=r(u);se!==null&&U(j,se.startTime-D),X=!1}return X}finally{f=null,m=H,g=!1}}var N=!1,C=null,_=-1,P=5,R=-1;function $(){return!(e.unstable_now()-R<P)}function A(){if(C!==null){var T=e.unstable_now();R=T;var D=!0;try{D=C(!0,T)}finally{D?B():(N=!1,C=null)}}else N=!1}var B;if(typeof v=="function")B=function(){v(A)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ee=Y.port2;Y.port1.onmessage=A,B=function(){ee.postMessage(null)}}else B=function(){w(A,0)};function L(T){C=T,N||(N=!0,B())}function U(T,D){_=w(function(){T(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,L(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var H=m;m=D;try{return T()}finally{m=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,D){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var H=m;m=T;try{return D()}finally{m=H}},e.unstable_scheduleCallback=function(T,D,H){var V=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,T){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=H+Q,T={id:d++,callback:D,priorityLevel:T,startTime:H,expirationTime:Q,sortIndex:-1},H>V?(T.sortIndex=H,t(u,T),r(c)===null&&T===r(u)&&(p?(x(_),_=-1):p=!0,U(j,H-V))):(T.sortIndex=Q,t(c,T),y||g||(y=!0,L(S))),T},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(T){var D=m;return function(){var H=m;m=D;try{return T.apply(this,arguments)}finally{m=H}}}})(s2);n2.exports=s2;var gA=n2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vA=h,Dr=gA;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o2=new Set,hl={};function Wo(e,t){Fi(e,t),Fi(e+"Capture",t)}function Fi(e,t){for(hl[e]=t,e=0;e<t.length;e++)o2.add(t[e])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sm=Object.prototype.hasOwnProperty,yA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ay={},Ry={};function xA(e){return Sm.call(Ry,e)?!0:Sm.call(Ay,e)?!1:yA.test(e)?Ry[e]=!0:(Ay[e]=!0,!1)}function wA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bA(e,t,r,n){if(t===null||typeof t>"u"||wA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lr(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wt[e]=new lr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wt[t]=new lr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wt[e]=new lr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wt[e]=new lr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wt[e]=new lr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wt[e]=new lr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wt[e]=new lr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wt[e]=new lr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wt[e]=new lr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Eg=/[\-:]([a-z])/g;function Pg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Eg,Pg);Wt[t]=new lr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Eg,Pg);Wt[t]=new lr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Eg,Pg);Wt[t]=new lr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wt[e]=new lr(e,1,!1,e.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wt[e]=new lr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tg(e,t,r,n){var s=Wt.hasOwnProperty(t)?Wt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bA(t,r,s,n)&&(r=null),n||s===null?xA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var as=vA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_c=Symbol.for("react.element"),ci=Symbol.for("react.portal"),ui=Symbol.for("react.fragment"),Ag=Symbol.for("react.strict_mode"),Nm=Symbol.for("react.profiler"),i2=Symbol.for("react.provider"),a2=Symbol.for("react.context"),Rg=Symbol.for("react.forward_ref"),Cm=Symbol.for("react.suspense"),km=Symbol.for("react.suspense_list"),Dg=Symbol.for("react.memo"),Ss=Symbol.for("react.lazy"),l2=Symbol.for("react.offscreen"),Dy=Symbol.iterator;function xa(e){return e===null||typeof e!="object"?null:(e=Dy&&e[Dy]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Object.assign,lh;function Da(e){if(lh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);lh=t&&t[1]||""}return`
`+lh+e}var ch=!1;function uh(e,t){if(!e||ch)return"";ch=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{ch=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Da(e):""}function jA(e){switch(e.tag){case 5:return Da(e.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 2:case 15:return e=uh(e.type,!1),e;case 11:return e=uh(e.type.render,!1),e;case 1:return e=uh(e.type,!0),e;default:return""}}function _m(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ui:return"Fragment";case ci:return"Portal";case Nm:return"Profiler";case Ag:return"StrictMode";case Cm:return"Suspense";case km:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case a2:return(e.displayName||"Context")+".Consumer";case i2:return(e._context.displayName||"Context")+".Provider";case Rg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dg:return t=e.displayName||null,t!==null?t:_m(e.type)||"Memo";case Ss:t=e._payload,e=e._init;try{return _m(e(t))}catch{}}return null}function SA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _m(t);case 8:return t===Ag?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function c2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NA(e){var t=c2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ec(e){e._valueTracker||(e._valueTracker=NA(e))}function u2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=c2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function $u(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Em(e,t){var r=t.checked;return mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function My(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Hs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function d2(e,t){t=t.checked,t!=null&&Tg(e,"checked",t,!1)}function Pm(e,t){d2(e,t);var r=Hs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Tm(e,t.type,Hs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Iy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Tm(e,t,r){(t!=="number"||$u(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ma=Array.isArray;function ki(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Hs(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Am(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(re(92));if(Ma(r)){if(1<r.length)throw Error(re(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Hs(r)}}function f2(e,t){var r=Hs(t.value),n=Hs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ly(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function h2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?h2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pc,m2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pc=Pc||document.createElement("div"),Pc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ml(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ga={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CA=["Webkit","ms","Moz","O"];Object.keys(Ga).forEach(function(e){CA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ga[t]=Ga[e]})});function p2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ga.hasOwnProperty(e)&&Ga[e]?(""+t).trim():t+"px"}function g2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=p2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var kA=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dm(e,t){if(t){if(kA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function Mm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Im=null;function Mg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Om=null,_i=null,Ei=null;function Fy(e){if(e=Jl(e)){if(typeof Om!="function")throw Error(re(280));var t=e.stateNode;t&&(t=Ud(t),Om(e.stateNode,e.type,t))}}function v2(e){_i?Ei?Ei.push(e):Ei=[e]:_i=e}function y2(){if(_i){var e=_i,t=Ei;if(Ei=_i=null,Fy(e),t)for(e=0;e<t.length;e++)Fy(t[e])}}function x2(e,t){return e(t)}function w2(){}var dh=!1;function b2(e,t,r){if(dh)return e(t,r);dh=!0;try{return x2(e,t,r)}finally{dh=!1,(_i!==null||Ei!==null)&&(w2(),y2())}}function pl(e,t){var r=e.stateNode;if(r===null)return null;var n=Ud(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(re(231,t,typeof r));return r}var Lm=!1;if(Qn)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){Lm=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{Lm=!1}function _A(e,t,r,n,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ka=!1,Vu=null,Bu=!1,Fm=null,EA={onError:function(e){Ka=!0,Vu=e}};function PA(e,t,r,n,s,o,i,l,c){Ka=!1,Vu=null,_A.apply(EA,arguments)}function TA(e,t,r,n,s,o,i,l,c){if(PA.apply(this,arguments),Ka){if(Ka){var u=Vu;Ka=!1,Vu=null}else throw Error(re(198));Bu||(Bu=!0,Fm=u)}}function Ho(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function j2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $y(e){if(Ho(e)!==e)throw Error(re(188))}function AA(e){var t=e.alternate;if(!t){if(t=Ho(e),t===null)throw Error(re(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return $y(s),e;if(o===n)return $y(s),t;o=o.sibling}throw Error(re(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?e:t}function S2(e){return e=AA(e),e!==null?N2(e):null}function N2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=N2(e);if(t!==null)return t;e=e.sibling}return null}var C2=Dr.unstable_scheduleCallback,Vy=Dr.unstable_cancelCallback,RA=Dr.unstable_shouldYield,DA=Dr.unstable_requestPaint,jt=Dr.unstable_now,MA=Dr.unstable_getCurrentPriorityLevel,Ig=Dr.unstable_ImmediatePriority,k2=Dr.unstable_UserBlockingPriority,Uu=Dr.unstable_NormalPriority,IA=Dr.unstable_LowPriority,_2=Dr.unstable_IdlePriority,Fd=null,Nn=null;function OA(e){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(Fd,e,void 0,(e.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:$A,LA=Math.log,FA=Math.LN2;function $A(e){return e>>>=0,e===0?32:31-(LA(e)/FA|0)|0}var Tc=64,Ac=4194304;function Ia(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=Ia(l):(o&=i,o!==0&&(n=Ia(o)))}else i=r&~s,i!==0?n=Ia(i):o!==0&&(n=Ia(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ln(t),s=1<<r,n|=e[r],t&=~s;return n}function VA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-ln(o),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=VA(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function $m(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function E2(){var e=Tc;return Tc<<=1,!(Tc&4194240)&&(Tc=64),e}function fh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Xl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ln(t),e[t]=r}function UA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ln(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Og(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ln(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ge=0;function P2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var T2,Lg,A2,R2,D2,Vm=!1,Rc=[],Ms=null,Is=null,Os=null,gl=new Map,vl=new Map,ks=[],zA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function By(e,t){switch(e){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":gl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(t.pointerId)}}function ba(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Jl(t),t!==null&&Lg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function WA(e,t,r,n,s){switch(t){case"focusin":return Ms=ba(Ms,e,t,r,n,s),!0;case"dragenter":return Is=ba(Is,e,t,r,n,s),!0;case"mouseover":return Os=ba(Os,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return gl.set(o,ba(gl.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,vl.set(o,ba(vl.get(o)||null,e,t,r,n,s)),!0}return!1}function M2(e){var t=No(e.target);if(t!==null){var r=Ho(t);if(r!==null){if(t=r.tag,t===13){if(t=j2(r),t!==null){e.blockedOn=t,D2(e.priority,function(){A2(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Bm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Im=n,r.target.dispatchEvent(n),Im=null}else return t=Jl(r),t!==null&&Lg(t),e.blockedOn=r,!1;t.shift()}return!0}function Uy(e,t,r){gu(e)&&r.delete(t)}function HA(){Vm=!1,Ms!==null&&gu(Ms)&&(Ms=null),Is!==null&&gu(Is)&&(Is=null),Os!==null&&gu(Os)&&(Os=null),gl.forEach(Uy),vl.forEach(Uy)}function ja(e,t){e.blockedOn===t&&(e.blockedOn=null,Vm||(Vm=!0,Dr.unstable_scheduleCallback(Dr.unstable_NormalPriority,HA)))}function yl(e){function t(s){return ja(s,e)}if(0<Rc.length){ja(Rc[0],e);for(var r=1;r<Rc.length;r++){var n=Rc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ms!==null&&ja(Ms,e),Is!==null&&ja(Is,e),Os!==null&&ja(Os,e),gl.forEach(t),vl.forEach(t),r=0;r<ks.length;r++)n=ks[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ks.length&&(r=ks[0],r.blockedOn===null);)M2(r),r.blockedOn===null&&ks.shift()}var Pi=as.ReactCurrentBatchConfig,Wu=!0;function qA(e,t,r,n){var s=Ge,o=Pi.transition;Pi.transition=null;try{Ge=1,Fg(e,t,r,n)}finally{Ge=s,Pi.transition=o}}function YA(e,t,r,n){var s=Ge,o=Pi.transition;Pi.transition=null;try{Ge=4,Fg(e,t,r,n)}finally{Ge=s,Pi.transition=o}}function Fg(e,t,r,n){if(Wu){var s=Bm(e,t,r,n);if(s===null)jh(e,t,n,Hu,r),By(e,n);else if(WA(s,e,t,r,n))n.stopPropagation();else if(By(e,n),t&4&&-1<zA.indexOf(e)){for(;s!==null;){var o=Jl(s);if(o!==null&&T2(o),o=Bm(e,t,r,n),o===null&&jh(e,t,n,Hu,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else jh(e,t,n,null,r)}}var Hu=null;function Bm(e,t,r,n){if(Hu=null,e=Mg(n),e=No(e),e!==null)if(t=Ho(e),t===null)e=null;else if(r=t.tag,r===13){if(e=j2(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hu=e,null}function I2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MA()){case Ig:return 1;case k2:return 4;case Uu:case IA:return 16;case _2:return 536870912;default:return 16}default:return 16}}var Ts=null,$g=null,vu=null;function O2(){if(vu)return vu;var e,t=$g,r=t.length,n,s="value"in Ts?Ts.value:Ts.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return vu=s.slice(e,1<n?1-n:void 0)}function yu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dc(){return!0}function zy(){return!1}function Ir(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Dc:zy,this.isPropagationStopped=zy,this}return mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),t}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vg=Ir(na),Zl=mt({},na,{view:0,detail:0}),GA=Ir(Zl),hh,mh,Sa,$d=mt({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sa&&(Sa&&e.type==="mousemove"?(hh=e.screenX-Sa.screenX,mh=e.screenY-Sa.screenY):mh=hh=0,Sa=e),hh)},movementY:function(e){return"movementY"in e?e.movementY:mh}}),Wy=Ir($d),KA=mt({},$d,{dataTransfer:0}),QA=Ir(KA),XA=mt({},Zl,{relatedTarget:0}),ph=Ir(XA),ZA=mt({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),JA=Ir(ZA),e4=mt({},na,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t4=Ir(e4),r4=mt({},na,{data:0}),Hy=Ir(r4),n4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=o4[e])?!!t[e]:!1}function Bg(){return i4}var a4=mt({},Zl,{key:function(e){if(e.key){var t=n4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?s4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bg,charCode:function(e){return e.type==="keypress"?yu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),l4=Ir(a4),c4=mt({},$d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qy=Ir(c4),u4=mt({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bg}),d4=Ir(u4),f4=mt({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),h4=Ir(f4),m4=mt({},$d,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),p4=Ir(m4),g4=[9,13,27,32],Ug=Qn&&"CompositionEvent"in window,Qa=null;Qn&&"documentMode"in document&&(Qa=document.documentMode);var v4=Qn&&"TextEvent"in window&&!Qa,L2=Qn&&(!Ug||Qa&&8<Qa&&11>=Qa),Yy=" ",Gy=!1;function F2(e,t){switch(e){case"keyup":return g4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var di=!1;function y4(e,t){switch(e){case"compositionend":return $2(t);case"keypress":return t.which!==32?null:(Gy=!0,Yy);case"textInput":return e=t.data,e===Yy&&Gy?null:e;default:return null}}function x4(e,t){if(di)return e==="compositionend"||!Ug&&F2(e,t)?(e=O2(),vu=$g=Ts=null,di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return L2&&t.locale!=="ko"?null:t.data;default:return null}}var w4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ky(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!w4[e.type]:t==="textarea"}function V2(e,t,r,n){v2(n),t=qu(t,"onChange"),0<t.length&&(r=new Vg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xa=null,xl=null;function b4(e){X2(e,0)}function Vd(e){var t=mi(e);if(u2(t))return e}function j4(e,t){if(e==="change")return t}var B2=!1;if(Qn){var gh;if(Qn){var vh="oninput"in document;if(!vh){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),vh=typeof Qy.oninput=="function"}gh=vh}else gh=!1;B2=gh&&(!document.documentMode||9<document.documentMode)}function Xy(){Xa&&(Xa.detachEvent("onpropertychange",U2),xl=Xa=null)}function U2(e){if(e.propertyName==="value"&&Vd(xl)){var t=[];V2(t,xl,e,Mg(e)),b2(b4,t)}}function S4(e,t,r){e==="focusin"?(Xy(),Xa=t,xl=r,Xa.attachEvent("onpropertychange",U2)):e==="focusout"&&Xy()}function N4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vd(xl)}function C4(e,t){if(e==="click")return Vd(t)}function k4(e,t){if(e==="input"||e==="change")return Vd(t)}function _4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dn=typeof Object.is=="function"?Object.is:_4;function wl(e,t){if(dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Sm.call(t,s)||!dn(e[s],t[s]))return!1}return!0}function Zy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jy(e,t){var r=Zy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zy(r)}}function z2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?z2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function W2(){for(var e=window,t=$u();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$u(e.document)}return t}function zg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function E4(e){var t=W2(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&z2(r.ownerDocument.documentElement,r)){if(n!==null&&zg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Jy(r,o);var i=Jy(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var P4=Qn&&"documentMode"in document&&11>=document.documentMode,fi=null,Um=null,Za=null,zm=!1;function ex(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zm||fi==null||fi!==$u(n)||(n=fi,"selectionStart"in n&&zg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Za&&wl(Za,n)||(Za=n,n=qu(Um,"onSelect"),0<n.length&&(t=new Vg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=fi)))}function Mc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var hi={animationend:Mc("Animation","AnimationEnd"),animationiteration:Mc("Animation","AnimationIteration"),animationstart:Mc("Animation","AnimationStart"),transitionend:Mc("Transition","TransitionEnd")},yh={},H2={};Qn&&(H2=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function Bd(e){if(yh[e])return yh[e];if(!hi[e])return e;var t=hi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in H2)return yh[e]=t[r];return e}var q2=Bd("animationend"),Y2=Bd("animationiteration"),G2=Bd("animationstart"),K2=Bd("transitionend"),Q2=new Map,tx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zs(e,t){Q2.set(e,t),Wo(t,[e])}for(var xh=0;xh<tx.length;xh++){var wh=tx[xh],T4=wh.toLowerCase(),A4=wh[0].toUpperCase()+wh.slice(1);Zs(T4,"on"+A4)}Zs(q2,"onAnimationEnd");Zs(Y2,"onAnimationIteration");Zs(G2,"onAnimationStart");Zs("dblclick","onDoubleClick");Zs("focusin","onFocus");Zs("focusout","onBlur");Zs(K2,"onTransitionEnd");Fi("onMouseEnter",["mouseout","mouseover"]);Fi("onMouseLeave",["mouseout","mouseover"]);Fi("onPointerEnter",["pointerout","pointerover"]);Fi("onPointerLeave",["pointerout","pointerover"]);Wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oa));function rx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,TA(n,t,void 0,e),e.currentTarget=null}function X2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;rx(s,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;rx(s,l,u),o=c}}}if(Bu)throw e=Fm,Bu=!1,Fm=null,e}function nt(e,t){var r=t[Gm];r===void 0&&(r=t[Gm]=new Set);var n=e+"__bubble";r.has(n)||(Z2(t,e,2,!1),r.add(n))}function bh(e,t,r){var n=0;t&&(n|=4),Z2(r,e,n,t)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function bl(e){if(!e[Ic]){e[Ic]=!0,o2.forEach(function(r){r!=="selectionchange"&&(R4.has(r)||bh(r,!1,e),bh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ic]||(t[Ic]=!0,bh("selectionchange",!1,t))}}function Z2(e,t,r,n){switch(I2(t)){case 1:var s=qA;break;case 4:s=YA;break;default:s=Fg}r=s.bind(null,t,r,e),s=void 0,!Lm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function jh(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=No(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}b2(function(){var u=o,d=Mg(r),f=[];e:{var m=Q2.get(e);if(m!==void 0){var g=Vg,y=e;switch(e){case"keypress":if(yu(r)===0)break e;case"keydown":case"keyup":g=l4;break;case"focusin":y="focus",g=ph;break;case"focusout":y="blur",g=ph;break;case"beforeblur":case"afterblur":g=ph;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Wy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=QA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=d4;break;case q2:case Y2:case G2:g=JA;break;case K2:g=h4;break;case"scroll":g=GA;break;case"wheel":g=p4;break;case"copy":case"cut":case"paste":g=t4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=qy}var p=(t&4)!==0,w=!p&&e==="scroll",x=p?m!==null?m+"Capture":null:m;p=[];for(var v=u,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,x!==null&&(j=pl(v,x),j!=null&&p.push(jl(v,j,b)))),w)break;v=v.return}0<p.length&&(m=new g(m,y,null,r,d),f.push({event:m,listeners:p}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&r!==Im&&(y=r.relatedTarget||r.fromElement)&&(No(y)||y[Xn]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=u,y=y?No(y):null,y!==null&&(w=Ho(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(p=Wy,j="onMouseLeave",x="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=qy,j="onPointerLeave",x="onPointerEnter",v="pointer"),w=g==null?m:mi(g),b=y==null?m:mi(y),m=new p(j,v+"leave",g,r,d),m.target=w,m.relatedTarget=b,j=null,No(d)===u&&(p=new p(x,v+"enter",y,r,d),p.target=b,p.relatedTarget=w,j=p),w=j,g&&y)t:{for(p=g,x=y,v=0,b=p;b;b=Zo(b))v++;for(b=0,j=x;j;j=Zo(j))b++;for(;0<v-b;)p=Zo(p),v--;for(;0<b-v;)x=Zo(x),b--;for(;v--;){if(p===x||x!==null&&p===x.alternate)break t;p=Zo(p),x=Zo(x)}p=null}else p=null;g!==null&&nx(f,m,g,p,!1),y!==null&&w!==null&&nx(f,w,y,p,!0)}}e:{if(m=u?mi(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var S=j4;else if(Ky(m))if(B2)S=k4;else{S=N4;var N=S4}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=C4);if(S&&(S=S(e,u))){V2(f,S,r,d);break e}N&&N(e,m,u),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Tm(m,"number",m.value)}switch(N=u?mi(u):window,e){case"focusin":(Ky(N)||N.contentEditable==="true")&&(fi=N,Um=u,Za=null);break;case"focusout":Za=Um=fi=null;break;case"mousedown":zm=!0;break;case"contextmenu":case"mouseup":case"dragend":zm=!1,ex(f,r,d);break;case"selectionchange":if(P4)break;case"keydown":case"keyup":ex(f,r,d)}var C;if(Ug)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else di?F2(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(L2&&r.locale!=="ko"&&(di||_!=="onCompositionStart"?_==="onCompositionEnd"&&di&&(C=O2()):(Ts=d,$g="value"in Ts?Ts.value:Ts.textContent,di=!0)),N=qu(u,_),0<N.length&&(_=new Hy(_,e,null,r,d),f.push({event:_,listeners:N}),C?_.data=C:(C=$2(r),C!==null&&(_.data=C)))),(C=v4?y4(e,r):x4(e,r))&&(u=qu(u,"onBeforeInput"),0<u.length&&(d=new Hy("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}X2(f,t)})}function jl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qu(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=pl(e,r),o!=null&&n.unshift(jl(e,o,s)),o=pl(e,t),o!=null&&n.push(jl(e,o,s))),e=e.return}return n}function Zo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nx(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=pl(r,o),c!=null&&i.unshift(jl(r,c,l))):s||(c=pl(r,o),c!=null&&i.push(jl(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var D4=/\r\n?/g,M4=/\u0000|\uFFFD/g;function sx(e){return(typeof e=="string"?e:""+e).replace(D4,`
`).replace(M4,"")}function Oc(e,t,r){if(t=sx(t),sx(e)!==t&&r)throw Error(re(425))}function Yu(){}var Wm=null,Hm=null;function qm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ym=typeof setTimeout=="function"?setTimeout:void 0,I4=typeof clearTimeout=="function"?clearTimeout:void 0,ox=typeof Promise=="function"?Promise:void 0,O4=typeof queueMicrotask=="function"?queueMicrotask:typeof ox<"u"?function(e){return ox.resolve(null).then(e).catch(L4)}:Ym;function L4(e){setTimeout(function(){throw e})}function Sh(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),yl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);yl(t)}function Ls(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ix(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var sa=Math.random().toString(36).slice(2),bn="__reactFiber$"+sa,Sl="__reactProps$"+sa,Xn="__reactContainer$"+sa,Gm="__reactEvents$"+sa,F4="__reactListeners$"+sa,$4="__reactHandles$"+sa;function No(e){var t=e[bn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Xn]||r[bn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ix(e);e!==null;){if(r=e[bn])return r;e=ix(e)}return t}e=r,r=e.parentNode}return null}function Jl(e){return e=e[bn]||e[Xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function Ud(e){return e[Sl]||null}var Km=[],pi=-1;function Js(e){return{current:e}}function it(e){0>pi||(e.current=Km[pi],Km[pi]=null,pi--)}function tt(e,t){pi++,Km[pi]=e.current,e.current=t}var qs={},Zt=Js(qs),yr=Js(!1),Io=qs;function $i(e,t){var r=e.type.contextTypes;if(!r)return qs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xr(e){return e=e.childContextTypes,e!=null}function Gu(){it(yr),it(Zt)}function ax(e,t,r){if(Zt.current!==qs)throw Error(re(168));tt(Zt,t),tt(yr,r)}function J2(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(re(108,SA(e)||"Unknown",s));return mt({},r,n)}function Ku(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qs,Io=Zt.current,tt(Zt,e),tt(yr,yr.current),!0}function lx(e,t,r){var n=e.stateNode;if(!n)throw Error(re(169));r?(e=J2(e,t,Io),n.__reactInternalMemoizedMergedChildContext=e,it(yr),it(Zt),tt(Zt,e)):it(yr),tt(yr,r)}var qn=null,zd=!1,Nh=!1;function ej(e){qn===null?qn=[e]:qn.push(e)}function V4(e){zd=!0,ej(e)}function eo(){if(!Nh&&qn!==null){Nh=!0;var e=0,t=Ge;try{var r=qn;for(Ge=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}qn=null,zd=!1}catch(s){throw qn!==null&&(qn=qn.slice(e+1)),C2(Ig,eo),s}finally{Ge=t,Nh=!1}}return null}var gi=[],vi=0,Qu=null,Xu=0,Fr=[],$r=0,Oo=null,Yn=1,Gn="";function go(e,t){gi[vi++]=Xu,gi[vi++]=Qu,Qu=e,Xu=t}function tj(e,t,r){Fr[$r++]=Yn,Fr[$r++]=Gn,Fr[$r++]=Oo,Oo=e;var n=Yn;e=Gn;var s=32-ln(n)-1;n&=~(1<<s),r+=1;var o=32-ln(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Yn=1<<32-ln(t)+s|r<<s|n,Gn=o+e}else Yn=1<<o|r<<s|n,Gn=e}function Wg(e){e.return!==null&&(go(e,1),tj(e,1,0))}function Hg(e){for(;e===Qu;)Qu=gi[--vi],gi[vi]=null,Xu=gi[--vi],gi[vi]=null;for(;e===Oo;)Oo=Fr[--$r],Fr[$r]=null,Gn=Fr[--$r],Fr[$r]=null,Yn=Fr[--$r],Fr[$r]=null}var Ar=null,Tr=null,at=!1,nn=null;function rj(e,t){var r=Vr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function cx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ar=e,Tr=Ls(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ar=e,Tr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Oo!==null?{id:Yn,overflow:Gn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Vr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ar=e,Tr=null,!0):!1;default:return!1}}function Qm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xm(e){if(at){var t=Tr;if(t){var r=t;if(!cx(e,t)){if(Qm(e))throw Error(re(418));t=Ls(r.nextSibling);var n=Ar;t&&cx(e,t)?rj(n,r):(e.flags=e.flags&-4097|2,at=!1,Ar=e)}}else{if(Qm(e))throw Error(re(418));e.flags=e.flags&-4097|2,at=!1,Ar=e}}}function ux(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ar=e}function Lc(e){if(e!==Ar)return!1;if(!at)return ux(e),at=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qm(e.type,e.memoizedProps)),t&&(t=Tr)){if(Qm(e))throw nj(),Error(re(418));for(;t;)rj(e,t),t=Ls(t.nextSibling)}if(ux(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Tr=Ls(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Tr=null}}else Tr=Ar?Ls(e.stateNode.nextSibling):null;return!0}function nj(){for(var e=Tr;e;)e=Ls(e.nextSibling)}function Vi(){Tr=Ar=null,at=!1}function qg(e){nn===null?nn=[e]:nn.push(e)}var B4=as.ReactCurrentBatchConfig;function Na(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,e))}return e}function Fc(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dx(e){var t=e._init;return t(e._payload)}function sj(e){function t(x,v){if(e){var b=x.deletions;b===null?(x.deletions=[v],x.flags|=16):b.push(v)}}function r(x,v){if(!e)return null;for(;v!==null;)t(x,v),v=v.sibling;return null}function n(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function s(x,v){return x=Bs(x,v),x.index=0,x.sibling=null,x}function o(x,v,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<v?(x.flags|=2,v):b):(x.flags|=2,v)):(x.flags|=1048576,v)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,v,b,j){return v===null||v.tag!==6?(v=Ah(b,x.mode,j),v.return=x,v):(v=s(v,b),v.return=x,v)}function c(x,v,b,j){var S=b.type;return S===ui?d(x,v,b.props.children,j,b.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ss&&dx(S)===v.type)?(j=s(v,b.props),j.ref=Na(x,v,b),j.return=x,j):(j=Cu(b.type,b.key,b.props,null,x.mode,j),j.ref=Na(x,v,b),j.return=x,j)}function u(x,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Rh(b,x.mode,j),v.return=x,v):(v=s(v,b.children||[]),v.return=x,v)}function d(x,v,b,j,S){return v===null||v.tag!==7?(v=Ao(b,x.mode,j,S),v.return=x,v):(v=s(v,b),v.return=x,v)}function f(x,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ah(""+v,x.mode,b),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _c:return b=Cu(v.type,v.key,v.props,null,x.mode,b),b.ref=Na(x,null,v),b.return=x,b;case ci:return v=Rh(v,x.mode,b),v.return=x,v;case Ss:var j=v._init;return f(x,j(v._payload),b)}if(Ma(v)||xa(v))return v=Ao(v,x.mode,b,null),v.return=x,v;Fc(x,v)}return null}function m(x,v,b,j){var S=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(x,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _c:return b.key===S?c(x,v,b,j):null;case ci:return b.key===S?u(x,v,b,j):null;case Ss:return S=b._init,m(x,v,S(b._payload),j)}if(Ma(b)||xa(b))return S!==null?null:d(x,v,b,j,null);Fc(x,b)}return null}function g(x,v,b,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(b)||null,l(v,x,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _c:return x=x.get(j.key===null?b:j.key)||null,c(v,x,j,S);case ci:return x=x.get(j.key===null?b:j.key)||null,u(v,x,j,S);case Ss:var N=j._init;return g(x,v,b,N(j._payload),S)}if(Ma(j)||xa(j))return x=x.get(b)||null,d(v,x,j,S,null);Fc(v,j)}return null}function y(x,v,b,j){for(var S=null,N=null,C=v,_=v=0,P=null;C!==null&&_<b.length;_++){C.index>_?(P=C,C=null):P=C.sibling;var R=m(x,C,b[_],j);if(R===null){C===null&&(C=P);break}e&&C&&R.alternate===null&&t(x,C),v=o(R,v,_),N===null?S=R:N.sibling=R,N=R,C=P}if(_===b.length)return r(x,C),at&&go(x,_),S;if(C===null){for(;_<b.length;_++)C=f(x,b[_],j),C!==null&&(v=o(C,v,_),N===null?S=C:N.sibling=C,N=C);return at&&go(x,_),S}for(C=n(x,C);_<b.length;_++)P=g(C,x,_,b[_],j),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?_:P.key),v=o(P,v,_),N===null?S=P:N.sibling=P,N=P);return e&&C.forEach(function($){return t(x,$)}),at&&go(x,_),S}function p(x,v,b,j){var S=xa(b);if(typeof S!="function")throw Error(re(150));if(b=S.call(b),b==null)throw Error(re(151));for(var N=S=null,C=v,_=v=0,P=null,R=b.next();C!==null&&!R.done;_++,R=b.next()){C.index>_?(P=C,C=null):P=C.sibling;var $=m(x,C,R.value,j);if($===null){C===null&&(C=P);break}e&&C&&$.alternate===null&&t(x,C),v=o($,v,_),N===null?S=$:N.sibling=$,N=$,C=P}if(R.done)return r(x,C),at&&go(x,_),S;if(C===null){for(;!R.done;_++,R=b.next())R=f(x,R.value,j),R!==null&&(v=o(R,v,_),N===null?S=R:N.sibling=R,N=R);return at&&go(x,_),S}for(C=n(x,C);!R.done;_++,R=b.next())R=g(C,x,_,R.value,j),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?_:R.key),v=o(R,v,_),N===null?S=R:N.sibling=R,N=R);return e&&C.forEach(function(A){return t(x,A)}),at&&go(x,_),S}function w(x,v,b,j){if(typeof b=="object"&&b!==null&&b.type===ui&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case _c:e:{for(var S=b.key,N=v;N!==null;){if(N.key===S){if(S=b.type,S===ui){if(N.tag===7){r(x,N.sibling),v=s(N,b.props.children),v.return=x,x=v;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ss&&dx(S)===N.type){r(x,N.sibling),v=s(N,b.props),v.ref=Na(x,N,b),v.return=x,x=v;break e}r(x,N);break}else t(x,N);N=N.sibling}b.type===ui?(v=Ao(b.props.children,x.mode,j,b.key),v.return=x,x=v):(j=Cu(b.type,b.key,b.props,null,x.mode,j),j.ref=Na(x,v,b),j.return=x,x=j)}return i(x);case ci:e:{for(N=b.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(x,v.sibling),v=s(v,b.children||[]),v.return=x,x=v;break e}else{r(x,v);break}else t(x,v);v=v.sibling}v=Rh(b,x.mode,j),v.return=x,x=v}return i(x);case Ss:return N=b._init,w(x,v,N(b._payload),j)}if(Ma(b))return y(x,v,b,j);if(xa(b))return p(x,v,b,j);Fc(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(x,v.sibling),v=s(v,b),v.return=x,x=v):(r(x,v),v=Ah(b,x.mode,j),v.return=x,x=v),i(x)):r(x,v)}return w}var Bi=sj(!0),oj=sj(!1),Zu=Js(null),Ju=null,yi=null,Yg=null;function Gg(){Yg=yi=Ju=null}function Kg(e){var t=Zu.current;it(Zu),e._currentValue=t}function Zm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ti(e,t){Ju=e,Yg=yi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vr=!0),e.firstContext=null)}function qr(e){var t=e._currentValue;if(Yg!==e)if(e={context:e,memoizedValue:t,next:null},yi===null){if(Ju===null)throw Error(re(308));yi=e,Ju.dependencies={lanes:0,firstContext:e}}else yi=yi.next=e;return t}var Co=null;function Qg(e){Co===null?Co=[e]:Co.push(e)}function ij(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Qg(t)):(r.next=s.next,s.next=r),t.interleaved=r,Zn(e,n)}function Zn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ns=!1;function Xg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ze&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Zn(e,r)}return s=n.interleaved,s===null?(t.next=t,Qg(n)):(t.next=s.next,s.next=t),n.interleaved=t,Zn(e,r)}function xu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Og(e,r)}}function fx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ed(e,t,r,n){var s=e.updateQueue;Ns=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var m=l.lane,g=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,p=l;switch(m=t,g=r,p.tag){case 1:if(y=p.payload,typeof y=="function"){f=y.call(g,f,m);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=p.payload,m=typeof y=="function"?y.call(g,f,m):y,m==null)break e;f=mt({},f,m);break e;case 2:Ns=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Fo|=i,e.lanes=i,e.memoizedState=f}}function hx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(re(191,s));s.call(n)}}}var ec={},Cn=Js(ec),Nl=Js(ec),Cl=Js(ec);function ko(e){if(e===ec)throw Error(re(174));return e}function Zg(e,t){switch(tt(Cl,t),tt(Nl,e),tt(Cn,ec),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rm(t,e)}it(Cn),tt(Cn,t)}function Ui(){it(Cn),it(Nl),it(Cl)}function lj(e){ko(Cl.current);var t=ko(Cn.current),r=Rm(t,e.type);t!==r&&(tt(Nl,e),tt(Cn,r))}function Jg(e){Nl.current===e&&(it(Cn),it(Nl))}var ut=Js(0);function td(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ch=[];function e0(){for(var e=0;e<Ch.length;e++)Ch[e]._workInProgressVersionPrimary=null;Ch.length=0}var wu=as.ReactCurrentDispatcher,kh=as.ReactCurrentBatchConfig,Lo=0,ht=null,_t=null,Rt=null,rd=!1,Ja=!1,kl=0,U4=0;function Ht(){throw Error(re(321))}function t0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!dn(e[r],t[r]))return!1;return!0}function r0(e,t,r,n,s,o){if(Lo=o,ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wu.current=e===null||e.memoizedState===null?q4:Y4,e=r(n,s),Ja){o=0;do{if(Ja=!1,kl=0,25<=o)throw Error(re(301));o+=1,Rt=_t=null,t.updateQueue=null,wu.current=G4,e=r(n,s)}while(Ja)}if(wu.current=nd,t=_t!==null&&_t.next!==null,Lo=0,Rt=_t=ht=null,rd=!1,t)throw Error(re(300));return e}function n0(){var e=kl!==0;return kl=0,e}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ht.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function Yr(){if(_t===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=_t.next;var t=Rt===null?ht.memoizedState:Rt.next;if(t!==null)Rt=t,_t=e;else{if(e===null)throw Error(re(310));_t=e,e={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Rt===null?ht.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function _l(e,t){return typeof t=="function"?t(e):t}function _h(e){var t=Yr(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=_t,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Lo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,ht.lanes|=d,Fo|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,dn(n,t.memoizedState)||(vr=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,ht.lanes|=o,Fo|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Eh(e){var t=Yr(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);dn(o,t.memoizedState)||(vr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function cj(){}function uj(e,t){var r=ht,n=Yr(),s=t(),o=!dn(n.memoizedState,s);if(o&&(n.memoizedState=s,vr=!0),n=n.queue,s0(hj.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Rt!==null&&Rt.memoizedState.tag&1){if(r.flags|=2048,El(9,fj.bind(null,r,n,s,t),void 0,null),Mt===null)throw Error(re(349));Lo&30||dj(r,t,s)}return s}function dj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function fj(e,t,r,n){t.value=r,t.getSnapshot=n,mj(t)&&pj(e)}function hj(e,t,r){return r(function(){mj(t)&&pj(e)})}function mj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dn(e,r)}catch{return!0}}function pj(e){var t=Zn(e,1);t!==null&&cn(t,e,1,-1)}function mx(e){var t=wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_l,lastRenderedState:e},t.queue=e,e=e.dispatch=H4.bind(null,ht,e),[t.memoizedState,e]}function El(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function gj(){return Yr().memoizedState}function bu(e,t,r,n){var s=wn();ht.flags|=e,s.memoizedState=El(1|t,r,void 0,n===void 0?null:n)}function Wd(e,t,r,n){var s=Yr();n=n===void 0?null:n;var o=void 0;if(_t!==null){var i=_t.memoizedState;if(o=i.destroy,n!==null&&t0(n,i.deps)){s.memoizedState=El(t,r,o,n);return}}ht.flags|=e,s.memoizedState=El(1|t,r,o,n)}function px(e,t){return bu(8390656,8,e,t)}function s0(e,t){return Wd(2048,8,e,t)}function vj(e,t){return Wd(4,2,e,t)}function yj(e,t){return Wd(4,4,e,t)}function xj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wj(e,t,r){return r=r!=null?r.concat([e]):null,Wd(4,4,xj.bind(null,t,e),r)}function o0(){}function bj(e,t){var r=Yr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&t0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function jj(e,t){var r=Yr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&t0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Sj(e,t,r){return Lo&21?(dn(r,t)||(r=E2(),ht.lanes|=r,Fo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vr=!0),e.memoizedState=r)}function z4(e,t){var r=Ge;Ge=r!==0&&4>r?r:4,e(!0);var n=kh.transition;kh.transition={};try{e(!1),t()}finally{Ge=r,kh.transition=n}}function Nj(){return Yr().memoizedState}function W4(e,t,r){var n=Vs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Cj(e))kj(t,r);else if(r=ij(e,t,r,n),r!==null){var s=sr();cn(r,e,n,s),_j(r,t,n)}}function H4(e,t,r){var n=Vs(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cj(e))kj(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(s.hasEagerState=!0,s.eagerState=l,dn(l,i)){var c=t.interleaved;c===null?(s.next=s,Qg(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=ij(e,t,s,n),r!==null&&(s=sr(),cn(r,e,n,s),_j(r,t,n))}}function Cj(e){var t=e.alternate;return e===ht||t!==null&&t===ht}function kj(e,t){Ja=rd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _j(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Og(e,r)}}var nd={readContext:qr,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},q4={readContext:qr,useCallback:function(e,t){return wn().memoizedState=[e,t===void 0?null:t],e},useContext:qr,useEffect:px,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,bu(4194308,4,xj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return bu(4194308,4,e,t)},useInsertionEffect:function(e,t){return bu(4,2,e,t)},useMemo:function(e,t){var r=wn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=wn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=W4.bind(null,ht,e),[n.memoizedState,e]},useRef:function(e){var t=wn();return e={current:e},t.memoizedState=e},useState:mx,useDebugValue:o0,useDeferredValue:function(e){return wn().memoizedState=e},useTransition:function(){var e=mx(!1),t=e[0];return e=z4.bind(null,e[1]),wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ht,s=wn();if(at){if(r===void 0)throw Error(re(407));r=r()}else{if(r=t(),Mt===null)throw Error(re(349));Lo&30||dj(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,px(hj.bind(null,n,o,e),[e]),n.flags|=2048,El(9,fj.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=wn(),t=Mt.identifierPrefix;if(at){var r=Gn,n=Yn;r=(n&~(1<<32-ln(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=kl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=U4++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Y4={readContext:qr,useCallback:bj,useContext:qr,useEffect:s0,useImperativeHandle:wj,useInsertionEffect:vj,useLayoutEffect:yj,useMemo:jj,useReducer:_h,useRef:gj,useState:function(){return _h(_l)},useDebugValue:o0,useDeferredValue:function(e){var t=Yr();return Sj(t,_t.memoizedState,e)},useTransition:function(){var e=_h(_l)[0],t=Yr().memoizedState;return[e,t]},useMutableSource:cj,useSyncExternalStore:uj,useId:Nj,unstable_isNewReconciler:!1},G4={readContext:qr,useCallback:bj,useContext:qr,useEffect:s0,useImperativeHandle:wj,useInsertionEffect:vj,useLayoutEffect:yj,useMemo:jj,useReducer:Eh,useRef:gj,useState:function(){return Eh(_l)},useDebugValue:o0,useDeferredValue:function(e){var t=Yr();return _t===null?t.memoizedState=e:Sj(t,_t.memoizedState,e)},useTransition:function(){var e=Eh(_l)[0],t=Yr().memoizedState;return[e,t]},useMutableSource:cj,useSyncExternalStore:uj,useId:Nj,unstable_isNewReconciler:!1};function en(e,t){if(e&&e.defaultProps){t=mt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Jm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:mt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hd={isMounted:function(e){return(e=e._reactInternals)?Ho(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=sr(),s=Vs(e),o=Kn(n,s);o.payload=t,r!=null&&(o.callback=r),t=Fs(e,o,s),t!==null&&(cn(t,e,s,n),xu(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=sr(),s=Vs(e),o=Kn(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Fs(e,o,s),t!==null&&(cn(t,e,s,n),xu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=sr(),n=Vs(e),s=Kn(r,n);s.tag=2,t!=null&&(s.callback=t),t=Fs(e,s,n),t!==null&&(cn(t,e,n,r),xu(t,e,n))}};function gx(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!wl(r,n)||!wl(s,o):!0}function Ej(e,t,r){var n=!1,s=qs,o=t.contextType;return typeof o=="object"&&o!==null?o=qr(o):(s=xr(t)?Io:Zt.current,n=t.contextTypes,o=(n=n!=null)?$i(e,s):qs),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function vx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Hd.enqueueReplaceState(t,t.state,null)}function ep(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Xg(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=qr(o):(o=xr(t)?Io:Zt.current,s.context=$i(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Jm(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Hd.enqueueReplaceState(s,s.state,null),ed(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function zi(e,t){try{var r="",n=t;do r+=jA(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Ph(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function tp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var K4=typeof WeakMap=="function"?WeakMap:Map;function Pj(e,t,r){r=Kn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){od||(od=!0,dp=n),tp(e,t)},r}function Tj(e,t,r){r=Kn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){tp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){tp(e,t),typeof n!="function"&&($s===null?$s=new Set([this]):$s.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function yx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new K4;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=c5.bind(null,e,t,r),t.then(e,e))}function xx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wx(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Kn(-1,1),t.tag=2,Fs(r,t,1))),r.lanes|=1),e)}var Q4=as.ReactCurrentOwner,vr=!1;function er(e,t,r,n){t.child=e===null?oj(t,null,r,n):Bi(t,e.child,r,n)}function bx(e,t,r,n,s){r=r.render;var o=t.ref;return Ti(t,s),n=r0(e,t,r,n,o,s),r=n0(),e!==null&&!vr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jn(e,t,s)):(at&&r&&Wg(t),t.flags|=1,er(e,t,n,s),t.child)}function jx(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!h0(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Aj(e,t,o,n,s)):(e=Cu(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:wl,r(i,n)&&e.ref===t.ref)return Jn(e,t,s)}return t.flags|=1,e=Bs(o,n),e.ref=t.ref,e.return=t,t.child=e}function Aj(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(wl(o,n)&&e.ref===t.ref)if(vr=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(vr=!0);else return t.lanes=e.lanes,Jn(e,t,s)}return rp(e,t,r,n,s)}function Rj(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(wi,_r),_r|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(wi,_r),_r|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,tt(wi,_r),_r|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,tt(wi,_r),_r|=n;return er(e,t,s,r),t.child}function Dj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function rp(e,t,r,n,s){var o=xr(r)?Io:Zt.current;return o=$i(t,o),Ti(t,s),r=r0(e,t,r,n,o,s),n=n0(),e!==null&&!vr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jn(e,t,s)):(at&&n&&Wg(t),t.flags|=1,er(e,t,r,s),t.child)}function Sx(e,t,r,n,s){if(xr(r)){var o=!0;Ku(t)}else o=!1;if(Ti(t,s),t.stateNode===null)ju(e,t),Ej(t,r,n),ep(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=qr(u):(u=xr(r)?Io:Zt.current,u=$i(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&vx(t,i,n,u),Ns=!1;var m=t.memoizedState;i.state=m,ed(t,n,i,s),c=t.memoizedState,l!==n||m!==c||yr.current||Ns?(typeof d=="function"&&(Jm(t,r,d,n),c=t.memoizedState),(l=Ns||gx(t,r,l,n,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,aj(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:en(t.type,l),i.props=u,f=t.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=qr(c):(c=xr(r)?Io:Zt.current,c=$i(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&vx(t,i,n,c),Ns=!1,m=t.memoizedState,i.state=m,ed(t,n,i,s);var y=t.memoizedState;l!==f||m!==y||yr.current||Ns?(typeof g=="function"&&(Jm(t,r,g,n),y=t.memoizedState),(u=Ns||gx(t,r,u,n,m,y,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),i.props=n,i.state=y,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return np(e,t,r,n,o,s)}function np(e,t,r,n,s,o){Dj(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&lx(t,r,!1),Jn(e,t,o);n=t.stateNode,Q4.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Bi(t,e.child,null,o),t.child=Bi(t,null,l,o)):er(e,t,l,o),t.memoizedState=n.state,s&&lx(t,r,!0),t.child}function Mj(e){var t=e.stateNode;t.pendingContext?ax(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ax(e,t.context,!1),Zg(e,t.containerInfo)}function Nx(e,t,r,n,s){return Vi(),qg(s),t.flags|=256,er(e,t,r,n),t.child}var sp={dehydrated:null,treeContext:null,retryLane:0};function op(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ij(e,t,r){var n=t.pendingProps,s=ut.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),tt(ut,s&1),e===null)return Xm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Gd(i,n,0,null),e=Ao(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=op(r),t.memoizedState=sp,e):i0(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return X4(e,t,i,n,l,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Bs(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Bs(l,o):(o=Ao(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?op(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=sp,n}return o=e.child,e=o.sibling,n=Bs(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function i0(e,t){return t=Gd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $c(e,t,r,n){return n!==null&&qg(n),Bi(t,e.child,null,r),e=i0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function X4(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Ph(Error(re(422))),$c(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Gd({mode:"visible",children:n.children},s,0,null),o=Ao(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Bi(t,e.child,null,i),t.child.memoizedState=op(i),t.memoizedState=sp,o);if(!(t.mode&1))return $c(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(re(419)),n=Ph(o,n,void 0),$c(e,t,i,n)}if(l=(i&e.childLanes)!==0,vr||l){if(n=Mt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Zn(e,s),cn(n,e,s,-1))}return f0(),n=Ph(Error(re(421))),$c(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=u5.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Tr=Ls(s.nextSibling),Ar=t,at=!0,nn=null,e!==null&&(Fr[$r++]=Yn,Fr[$r++]=Gn,Fr[$r++]=Oo,Yn=e.id,Gn=e.overflow,Oo=t),t=i0(t,n.children),t.flags|=4096,t)}function Cx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Zm(e.return,t,r)}function Th(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Oj(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(er(e,t,n.children,r),n=ut.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cx(e,r,t);else if(e.tag===19)Cx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(tt(ut,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&td(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Th(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&td(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Th(t,!0,r,null,o);break;case"together":Th(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ju(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Fo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,r=Bs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Bs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Z4(e,t,r){switch(t.tag){case 3:Mj(t),Vi();break;case 5:lj(t);break;case 1:xr(t.type)&&Ku(t);break;case 4:Zg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;tt(Zu,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(tt(ut,ut.current&1),t.flags|=128,null):r&t.child.childLanes?Ij(e,t,r):(tt(ut,ut.current&1),e=Jn(e,t,r),e!==null?e.sibling:null);tt(ut,ut.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Oj(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),tt(ut,ut.current),n)break;return null;case 22:case 23:return t.lanes=0,Rj(e,t,r)}return Jn(e,t,r)}var Lj,ip,Fj,$j;Lj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ip=function(){};Fj=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ko(Cn.current);var o=null;switch(r){case"input":s=Em(e,s),n=Em(e,n),o=[];break;case"select":s=mt({},s,{value:void 0}),n=mt({},n,{value:void 0}),o=[];break;case"textarea":s=Am(e,s),n=Am(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Yu)}Dm(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&nt("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};$j=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ca(e,t){if(!at)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function J4(e,t,r){var n=t.pendingProps;switch(Hg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(t),null;case 1:return xr(t.type)&&Gu(),qt(t),null;case 3:return n=t.stateNode,Ui(),it(yr),it(Zt),e0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Lc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nn!==null&&(mp(nn),nn=null))),ip(e,t),qt(t),null;case 5:Jg(t);var s=ko(Cl.current);if(r=t.type,e!==null&&t.stateNode!=null)Fj(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(re(166));return qt(t),null}if(e=ko(Cn.current),Lc(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[bn]=t,n[Sl]=o,e=(t.mode&1)!==0,r){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(s=0;s<Oa.length;s++)nt(Oa[s],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":My(n,o),nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},nt("invalid",n);break;case"textarea":Oy(n,o),nt("invalid",n)}Dm(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Oc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Oc(n.textContent,l,e),s=["children",""+l]):hl.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&nt("scroll",n)}switch(r){case"input":Ec(n),Iy(n,o,!0);break;case"textarea":Ec(n),Ly(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Yu)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=h2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[bn]=t,e[Sl]=n,Lj(e,t,!1,!1),t.stateNode=e;e:{switch(i=Mm(r,n),r){case"dialog":nt("cancel",e),nt("close",e),s=n;break;case"iframe":case"object":case"embed":nt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Oa.length;s++)nt(Oa[s],e);s=n;break;case"source":nt("error",e),s=n;break;case"img":case"image":case"link":nt("error",e),nt("load",e),s=n;break;case"details":nt("toggle",e),s=n;break;case"input":My(e,n),s=Em(e,n),nt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=mt({},n,{value:void 0}),nt("invalid",e);break;case"textarea":Oy(e,n),s=Am(e,n),nt("invalid",e);break;default:s=n}Dm(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?g2(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&m2(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ml(e,c):typeof c=="number"&&ml(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(hl.hasOwnProperty(o)?c!=null&&o==="onScroll"&&nt("scroll",e):c!=null&&Tg(e,o,c,i))}switch(r){case"input":Ec(e),Iy(e,n,!1);break;case"textarea":Ec(e),Ly(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Hs(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?ki(e,!!n.multiple,o,!1):n.defaultValue!=null&&ki(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Yu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qt(t),null;case 6:if(e&&t.stateNode!=null)$j(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(re(166));if(r=ko(Cl.current),ko(Cn.current),Lc(t)){if(n=t.stateNode,r=t.memoizedProps,n[bn]=t,(o=n.nodeValue!==r)&&(e=Ar,e!==null))switch(e.tag){case 3:Oc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oc(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[bn]=t,t.stateNode=n}return qt(t),null;case 13:if(it(ut),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(at&&Tr!==null&&t.mode&1&&!(t.flags&128))nj(),Vi(),t.flags|=98560,o=!1;else if(o=Lc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(re(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(re(317));o[bn]=t}else Vi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qt(t),o=!1}else nn!==null&&(mp(nn),nn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ut.current&1?Et===0&&(Et=3):f0())),t.updateQueue!==null&&(t.flags|=4),qt(t),null);case 4:return Ui(),ip(e,t),e===null&&bl(t.stateNode.containerInfo),qt(t),null;case 10:return Kg(t.type._context),qt(t),null;case 17:return xr(t.type)&&Gu(),qt(t),null;case 19:if(it(ut),o=t.memoizedState,o===null)return qt(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Ca(o,!1);else{if(Et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=td(e),i!==null){for(t.flags|=128,Ca(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return tt(ut,ut.current&1|2),t.child}e=e.sibling}o.tail!==null&&jt()>Wi&&(t.flags|=128,n=!0,Ca(o,!1),t.lanes=4194304)}else{if(!n)if(e=td(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ca(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!at)return qt(t),null}else 2*jt()-o.renderingStartTime>Wi&&r!==1073741824&&(t.flags|=128,n=!0,Ca(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=jt(),t.sibling=null,r=ut.current,tt(ut,n?r&1|2:r&1),t):(qt(t),null);case 22:case 23:return d0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?_r&1073741824&&(qt(t),t.subtreeFlags&6&&(t.flags|=8192)):qt(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function e5(e,t){switch(Hg(t),t.tag){case 1:return xr(t.type)&&Gu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ui(),it(yr),it(Zt),e0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jg(t),null;case 13:if(it(ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));Vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return it(ut),null;case 4:return Ui(),null;case 10:return Kg(t.type._context),null;case 22:case 23:return d0(),null;case 24:return null;default:return null}}var Vc=!1,Gt=!1,t5=typeof WeakSet=="function"?WeakSet:Set,pe=null;function xi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(e,t,n)}else r.current=null}function ap(e,t,r){try{r()}catch(n){xt(e,t,n)}}var kx=!1;function r5(e,t){if(Wm=Wu,e=W2(),zg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break t;if(m===r&&++u===s&&(l=i),m===o&&++d===n&&(c=i),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hm={focusedElem:e,selectionRange:r},Wu=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var p=y.memoizedProps,w=y.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:en(t.type,p),w);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(j){xt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return y=kx,kx=!1,y}function el(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&ap(t,r,o)}s=s.next}while(s!==n)}}function qd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function lp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Vj(e){var t=e.alternate;t!==null&&(e.alternate=null,Vj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bn],delete t[Sl],delete t[Gm],delete t[F4],delete t[$4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bj(e){return e.tag===5||e.tag===3||e.tag===4}function _x(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Yu));else if(n!==4&&(e=e.child,e!==null))for(cp(e,t,r),e=e.sibling;e!==null;)cp(e,t,r),e=e.sibling}function up(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(up(e,t,r),e=e.sibling;e!==null;)up(e,t,r),e=e.sibling}var Vt=null,tn=!1;function hs(e,t,r){for(r=r.child;r!==null;)Uj(e,t,r),r=r.sibling}function Uj(e,t,r){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(Fd,r)}catch{}switch(r.tag){case 5:Gt||xi(r,t);case 6:var n=Vt,s=tn;Vt=null,hs(e,t,r),Vt=n,tn=s,Vt!==null&&(tn?(e=Vt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Vt.removeChild(r.stateNode));break;case 18:Vt!==null&&(tn?(e=Vt,r=r.stateNode,e.nodeType===8?Sh(e.parentNode,r):e.nodeType===1&&Sh(e,r),yl(e)):Sh(Vt,r.stateNode));break;case 4:n=Vt,s=tn,Vt=r.stateNode.containerInfo,tn=!0,hs(e,t,r),Vt=n,tn=s;break;case 0:case 11:case 14:case 15:if(!Gt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&ap(r,t,i),s=s.next}while(s!==n)}hs(e,t,r);break;case 1:if(!Gt&&(xi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xt(r,t,l)}hs(e,t,r);break;case 21:hs(e,t,r);break;case 22:r.mode&1?(Gt=(n=Gt)||r.memoizedState!==null,hs(e,t,r),Gt=n):hs(e,t,r);break;default:hs(e,t,r)}}function Ex(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new t5),t.forEach(function(n){var s=d5.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Qr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Vt=l.stateNode,tn=!1;break e;case 3:Vt=l.stateNode.containerInfo,tn=!0;break e;case 4:Vt=l.stateNode.containerInfo,tn=!0;break e}l=l.return}if(Vt===null)throw Error(re(160));Uj(o,i,s),Vt=null,tn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){xt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zj(t,e),t=t.sibling}function zj(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qr(t,e),vn(e),n&4){try{el(3,e,e.return),qd(3,e)}catch(p){xt(e,e.return,p)}try{el(5,e,e.return)}catch(p){xt(e,e.return,p)}}break;case 1:Qr(t,e),vn(e),n&512&&r!==null&&xi(r,r.return);break;case 5:if(Qr(t,e),vn(e),n&512&&r!==null&&xi(r,r.return),e.flags&32){var s=e.stateNode;try{ml(s,"")}catch(p){xt(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&d2(s,o),Mm(l,i);var u=Mm(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?g2(s,f):d==="dangerouslySetInnerHTML"?m2(s,f):d==="children"?ml(s,f):Tg(s,d,f,u)}switch(l){case"input":Pm(s,o);break;case"textarea":f2(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?ki(s,!!o.multiple,g,!1):m!==!!o.multiple&&(o.defaultValue!=null?ki(s,!!o.multiple,o.defaultValue,!0):ki(s,!!o.multiple,o.multiple?[]:"",!1))}s[Sl]=o}catch(p){xt(e,e.return,p)}}break;case 6:if(Qr(t,e),vn(e),n&4){if(e.stateNode===null)throw Error(re(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(p){xt(e,e.return,p)}}break;case 3:if(Qr(t,e),vn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{yl(t.containerInfo)}catch(p){xt(e,e.return,p)}break;case 4:Qr(t,e),vn(e);break;case 13:Qr(t,e),vn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(c0=jt())),n&4&&Ex(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Gt=(u=Gt)||d,Qr(t,e),Gt=u):Qr(t,e),vn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(pe=e,d=e.child;d!==null;){for(f=pe=d;pe!==null;){switch(m=pe,g=m.child,m.tag){case 0:case 11:case 14:case 15:el(4,m,m.return);break;case 1:xi(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(p){xt(n,r,p)}}break;case 5:xi(m,m.return);break;case 22:if(m.memoizedState!==null){Tx(f);continue}}g!==null?(g.return=m,pe=g):Tx(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=p2("display",i))}catch(p){xt(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){xt(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qr(t,e),vn(e),n&4&&Ex(e);break;case 21:break;default:Qr(t,e),vn(e)}}function vn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Bj(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ml(s,""),n.flags&=-33);var o=_x(e);up(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=_x(e);cp(e,l,i);break;default:throw Error(re(161))}}catch(c){xt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function n5(e,t,r){pe=e,Wj(e)}function Wj(e,t,r){for(var n=(e.mode&1)!==0;pe!==null;){var s=pe,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Vc;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Gt;l=Vc;var u=Gt;if(Vc=i,(Gt=c)&&!u)for(pe=s;pe!==null;)i=pe,c=i.child,i.tag===22&&i.memoizedState!==null?Ax(s):c!==null?(c.return=i,pe=c):Ax(s);for(;o!==null;)pe=o,Wj(o),o=o.sibling;pe=s,Vc=l,Gt=u}Px(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,pe=o):Px(e)}}function Px(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gt||qd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Gt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:en(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&hx(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}hx(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&yl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Gt||t.flags&512&&lp(t)}catch(m){xt(t,t.return,m)}}if(t===e){pe=null;break}if(r=t.sibling,r!==null){r.return=t.return,pe=r;break}pe=t.return}}function Tx(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,pe=r;break}pe=t.return}}function Ax(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{qd(4,t)}catch(c){xt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){xt(t,s,c)}}var o=t.return;try{lp(t)}catch(c){xt(t,o,c)}break;case 5:var i=t.return;try{lp(t)}catch(c){xt(t,i,c)}}}catch(c){xt(t,t.return,c)}if(t===e){pe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,pe=l;break}pe=t.return}}var s5=Math.ceil,sd=as.ReactCurrentDispatcher,a0=as.ReactCurrentOwner,Br=as.ReactCurrentBatchConfig,ze=0,Mt=null,Ct=null,zt=0,_r=0,wi=Js(0),Et=0,Pl=null,Fo=0,Yd=0,l0=0,tl=null,pr=null,c0=0,Wi=1/0,Wn=null,od=!1,dp=null,$s=null,Bc=!1,As=null,id=0,rl=0,fp=null,Su=-1,Nu=0;function sr(){return ze&6?jt():Su!==-1?Su:Su=jt()}function Vs(e){return e.mode&1?ze&2&&zt!==0?zt&-zt:B4.transition!==null?(Nu===0&&(Nu=E2()),Nu):(e=Ge,e!==0||(e=window.event,e=e===void 0?16:I2(e.type)),e):1}function cn(e,t,r,n){if(50<rl)throw rl=0,fp=null,Error(re(185));Xl(e,r,n),(!(ze&2)||e!==Mt)&&(e===Mt&&(!(ze&2)&&(Yd|=r),Et===4&&_s(e,zt)),wr(e,n),r===1&&ze===0&&!(t.mode&1)&&(Wi=jt()+500,zd&&eo()))}function wr(e,t){var r=e.callbackNode;BA(e,t);var n=zu(e,e===Mt?zt:0);if(n===0)r!==null&&Vy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Vy(r),t===1)e.tag===0?V4(Rx.bind(null,e)):ej(Rx.bind(null,e)),O4(function(){!(ze&6)&&eo()}),r=null;else{switch(P2(n)){case 1:r=Ig;break;case 4:r=k2;break;case 16:r=Uu;break;case 536870912:r=_2;break;default:r=Uu}r=Zj(r,Hj.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Hj(e,t){if(Su=-1,Nu=0,ze&6)throw Error(re(327));var r=e.callbackNode;if(Ai()&&e.callbackNode!==r)return null;var n=zu(e,e===Mt?zt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ad(e,n);else{t=n;var s=ze;ze|=2;var o=Yj();(Mt!==e||zt!==t)&&(Wn=null,Wi=jt()+500,To(e,t));do try{a5();break}catch(l){qj(e,l)}while(!0);Gg(),sd.current=o,ze=s,Ct!==null?t=0:(Mt=null,zt=0,t=Et)}if(t!==0){if(t===2&&(s=$m(e),s!==0&&(n=s,t=hp(e,s))),t===1)throw r=Pl,To(e,0),_s(e,n),wr(e,jt()),r;if(t===6)_s(e,n);else{if(s=e.current.alternate,!(n&30)&&!o5(s)&&(t=ad(e,n),t===2&&(o=$m(e),o!==0&&(n=o,t=hp(e,o))),t===1))throw r=Pl,To(e,0),_s(e,n),wr(e,jt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(re(345));case 2:vo(e,pr,Wn);break;case 3:if(_s(e,n),(n&130023424)===n&&(t=c0+500-jt(),10<t)){if(zu(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){sr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ym(vo.bind(null,e,pr,Wn),t);break}vo(e,pr,Wn);break;case 4:if(_s(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-ln(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=jt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*s5(n/1960))-n,10<n){e.timeoutHandle=Ym(vo.bind(null,e,pr,Wn),n);break}vo(e,pr,Wn);break;case 5:vo(e,pr,Wn);break;default:throw Error(re(329))}}}return wr(e,jt()),e.callbackNode===r?Hj.bind(null,e):null}function hp(e,t){var r=tl;return e.current.memoizedState.isDehydrated&&(To(e,t).flags|=256),e=ad(e,t),e!==2&&(t=pr,pr=r,t!==null&&mp(t)),e}function mp(e){pr===null?pr=e:pr.push.apply(pr,e)}function o5(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!dn(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _s(e,t){for(t&=~l0,t&=~Yd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ln(t),n=1<<r;e[r]=-1,t&=~n}}function Rx(e){if(ze&6)throw Error(re(327));Ai();var t=zu(e,0);if(!(t&1))return wr(e,jt()),null;var r=ad(e,t);if(e.tag!==0&&r===2){var n=$m(e);n!==0&&(t=n,r=hp(e,n))}if(r===1)throw r=Pl,To(e,0),_s(e,t),wr(e,jt()),r;if(r===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vo(e,pr,Wn),wr(e,jt()),null}function u0(e,t){var r=ze;ze|=1;try{return e(t)}finally{ze=r,ze===0&&(Wi=jt()+500,zd&&eo())}}function $o(e){As!==null&&As.tag===0&&!(ze&6)&&Ai();var t=ze;ze|=1;var r=Br.transition,n=Ge;try{if(Br.transition=null,Ge=1,e)return e()}finally{Ge=n,Br.transition=r,ze=t,!(ze&6)&&eo()}}function d0(){_r=wi.current,it(wi)}function To(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,I4(r)),Ct!==null)for(r=Ct.return;r!==null;){var n=r;switch(Hg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gu();break;case 3:Ui(),it(yr),it(Zt),e0();break;case 5:Jg(n);break;case 4:Ui();break;case 13:it(ut);break;case 19:it(ut);break;case 10:Kg(n.type._context);break;case 22:case 23:d0()}r=r.return}if(Mt=e,Ct=e=Bs(e.current,null),zt=_r=t,Et=0,Pl=null,l0=Yd=Fo=0,pr=tl=null,Co!==null){for(t=0;t<Co.length;t++)if(r=Co[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}Co=null}return e}function qj(e,t){do{var r=Ct;try{if(Gg(),wu.current=nd,rd){for(var n=ht.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}rd=!1}if(Lo=0,Rt=_t=ht=null,Ja=!1,kl=0,a0.current=null,r===null||r.return===null){Et=1,Pl=t,Ct=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=zt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=xx(i);if(g!==null){g.flags&=-257,wx(g,i,l,o,t),g.mode&1&&yx(o,u,t),t=g,c=u;var y=t.updateQueue;if(y===null){var p=new Set;p.add(c),t.updateQueue=p}else y.add(c);break e}else{if(!(t&1)){yx(o,u,t),f0();break e}c=Error(re(426))}}else if(at&&l.mode&1){var w=xx(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),wx(w,i,l,o,t),qg(zi(c,l));break e}}o=c=zi(c,l),Et!==4&&(Et=2),tl===null?tl=[o]:tl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=Pj(o,c,t);fx(o,x);break e;case 1:l=c;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&($s===null||!$s.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=Tj(o,l,t);fx(o,j);break e}}o=o.return}while(o!==null)}Kj(r)}catch(S){t=S,Ct===r&&r!==null&&(Ct=r=r.return);continue}break}while(!0)}function Yj(){var e=sd.current;return sd.current=nd,e===null?nd:e}function f0(){(Et===0||Et===3||Et===2)&&(Et=4),Mt===null||!(Fo&268435455)&&!(Yd&268435455)||_s(Mt,zt)}function ad(e,t){var r=ze;ze|=2;var n=Yj();(Mt!==e||zt!==t)&&(Wn=null,To(e,t));do try{i5();break}catch(s){qj(e,s)}while(!0);if(Gg(),ze=r,sd.current=n,Ct!==null)throw Error(re(261));return Mt=null,zt=0,Et}function i5(){for(;Ct!==null;)Gj(Ct)}function a5(){for(;Ct!==null&&!RA();)Gj(Ct)}function Gj(e){var t=Xj(e.alternate,e,_r);e.memoizedProps=e.pendingProps,t===null?Kj(e):Ct=t,a0.current=null}function Kj(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=e5(r,t),r!==null){r.flags&=32767,Ct=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Et=6,Ct=null;return}}else if(r=J4(r,t,_r),r!==null){Ct=r;return}if(t=t.sibling,t!==null){Ct=t;return}Ct=t=e}while(t!==null);Et===0&&(Et=5)}function vo(e,t,r){var n=Ge,s=Br.transition;try{Br.transition=null,Ge=1,l5(e,t,r,n)}finally{Br.transition=s,Ge=n}return null}function l5(e,t,r,n){do Ai();while(As!==null);if(ze&6)throw Error(re(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(UA(e,o),e===Mt&&(Ct=Mt=null,zt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bc||(Bc=!0,Zj(Uu,function(){return Ai(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Br.transition,Br.transition=null;var i=Ge;Ge=1;var l=ze;ze|=4,a0.current=null,r5(e,r),zj(r,e),E4(Hm),Wu=!!Wm,Hm=Wm=null,e.current=r,n5(r),DA(),ze=l,Ge=i,Br.transition=o}else e.current=r;if(Bc&&(Bc=!1,As=e,id=s),o=e.pendingLanes,o===0&&($s=null),OA(r.stateNode),wr(e,jt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(od)throw od=!1,e=dp,dp=null,e;return id&1&&e.tag!==0&&Ai(),o=e.pendingLanes,o&1?e===fp?rl++:(rl=0,fp=e):rl=0,eo(),null}function Ai(){if(As!==null){var e=P2(id),t=Br.transition,r=Ge;try{if(Br.transition=null,Ge=16>e?16:e,As===null)var n=!1;else{if(e=As,As=null,id=0,ze&6)throw Error(re(331));var s=ze;for(ze|=4,pe=e.current;pe!==null;){var o=pe,i=o.child;if(pe.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(pe=u;pe!==null;){var d=pe;switch(d.tag){case 0:case 11:case 15:el(8,d,o)}var f=d.child;if(f!==null)f.return=d,pe=f;else for(;pe!==null;){d=pe;var m=d.sibling,g=d.return;if(Vj(d),d===u){pe=null;break}if(m!==null){m.return=g,pe=m;break}pe=g}}}var y=o.alternate;if(y!==null){var p=y.child;if(p!==null){y.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}pe=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,pe=i;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:el(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,pe=x;break e}pe=o.return}}var v=e.current;for(pe=v;pe!==null;){i=pe;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,pe=b;else e:for(i=v;pe!==null;){if(l=pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qd(9,l)}}catch(S){xt(l,l.return,S)}if(l===i){pe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,pe=j;break e}pe=l.return}}if(ze=s,eo(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(Fd,e)}catch{}n=!0}return n}finally{Ge=r,Br.transition=t}}return!1}function Dx(e,t,r){t=zi(r,t),t=Pj(e,t,1),e=Fs(e,t,1),t=sr(),e!==null&&(Xl(e,1,t),wr(e,t))}function xt(e,t,r){if(e.tag===3)Dx(e,e,r);else for(;t!==null;){if(t.tag===3){Dx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($s===null||!$s.has(n))){e=zi(r,e),e=Tj(t,e,1),t=Fs(t,e,1),e=sr(),t!==null&&(Xl(t,1,e),wr(t,e));break}}t=t.return}}function c5(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=sr(),e.pingedLanes|=e.suspendedLanes&r,Mt===e&&(zt&r)===r&&(Et===4||Et===3&&(zt&130023424)===zt&&500>jt()-c0?To(e,0):l0|=r),wr(e,t)}function Qj(e,t){t===0&&(e.mode&1?(t=Ac,Ac<<=1,!(Ac&130023424)&&(Ac=4194304)):t=1);var r=sr();e=Zn(e,t),e!==null&&(Xl(e,t,r),wr(e,r))}function u5(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Qj(e,r)}function d5(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(t),Qj(e,r)}var Xj;Xj=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||yr.current)vr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return vr=!1,Z4(e,t,r);vr=!!(e.flags&131072)}else vr=!1,at&&t.flags&1048576&&tj(t,Xu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ju(e,t),e=t.pendingProps;var s=$i(t,Zt.current);Ti(t,r),s=r0(null,t,n,e,s,r);var o=n0();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xr(n)?(o=!0,Ku(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xg(t),s.updater=Hd,t.stateNode=s,s._reactInternals=t,ep(t,n,e,r),t=np(null,t,n,!0,o,r)):(t.tag=0,at&&o&&Wg(t),er(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ju(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=h5(n),e=en(n,e),s){case 0:t=rp(null,t,n,e,r);break e;case 1:t=Sx(null,t,n,e,r);break e;case 11:t=bx(null,t,n,e,r);break e;case 14:t=jx(null,t,n,en(n.type,e),r);break e}throw Error(re(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:en(n,s),rp(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:en(n,s),Sx(e,t,n,s,r);case 3:e:{if(Mj(t),e===null)throw Error(re(387));n=t.pendingProps,o=t.memoizedState,s=o.element,aj(e,t),ed(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=zi(Error(re(423)),t),t=Nx(e,t,n,r,s);break e}else if(n!==s){s=zi(Error(re(424)),t),t=Nx(e,t,n,r,s);break e}else for(Tr=Ls(t.stateNode.containerInfo.firstChild),Ar=t,at=!0,nn=null,r=oj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vi(),n===s){t=Jn(e,t,r);break e}er(e,t,n,r)}t=t.child}return t;case 5:return lj(t),e===null&&Xm(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,qm(n,s)?i=null:o!==null&&qm(n,o)&&(t.flags|=32),Dj(e,t),er(e,t,i,r),t.child;case 6:return e===null&&Xm(t),null;case 13:return Ij(e,t,r);case 4:return Zg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Bi(t,null,n,r):er(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:en(n,s),bx(e,t,n,s,r);case 7:return er(e,t,t.pendingProps,r),t.child;case 8:return er(e,t,t.pendingProps.children,r),t.child;case 12:return er(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,tt(Zu,n._currentValue),n._currentValue=i,o!==null)if(dn(o.value,i)){if(o.children===s.children&&!yr.current){t=Jn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Kn(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Zm(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(re(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Zm(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}er(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ti(t,r),s=qr(s),n=n(s),t.flags|=1,er(e,t,n,r),t.child;case 14:return n=t.type,s=en(n,t.pendingProps),s=en(n.type,s),jx(e,t,n,s,r);case 15:return Aj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:en(n,s),ju(e,t),t.tag=1,xr(n)?(e=!0,Ku(t)):e=!1,Ti(t,r),Ej(t,n,s),ep(t,n,s,r),np(null,t,n,!0,e,r);case 19:return Oj(e,t,r);case 22:return Rj(e,t,r)}throw Error(re(156,t.tag))};function Zj(e,t){return C2(e,t)}function f5(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(e,t,r,n){return new f5(e,t,r,n)}function h0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function h5(e){if(typeof e=="function")return h0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rg)return 11;if(e===Dg)return 14}return 2}function Bs(e,t){var r=e.alternate;return r===null?(r=Vr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Cu(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")h0(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ui:return Ao(r.children,s,o,t);case Ag:i=8,s|=8;break;case Nm:return e=Vr(12,r,t,s|2),e.elementType=Nm,e.lanes=o,e;case Cm:return e=Vr(13,r,t,s),e.elementType=Cm,e.lanes=o,e;case km:return e=Vr(19,r,t,s),e.elementType=km,e.lanes=o,e;case l2:return Gd(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case i2:i=10;break e;case a2:i=9;break e;case Rg:i=11;break e;case Dg:i=14;break e;case Ss:i=16,n=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=Vr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Ao(e,t,r,n){return e=Vr(7,e,n,t),e.lanes=r,e}function Gd(e,t,r,n){return e=Vr(22,e,n,t),e.elementType=l2,e.lanes=r,e.stateNode={isHidden:!1},e}function Ah(e,t,r){return e=Vr(6,e,null,t),e.lanes=r,e}function Rh(e,t,r){return t=Vr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function m5(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fh(0),this.expirationTimes=fh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fh(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function m0(e,t,r,n,s,o,i,l,c){return e=new m5(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Vr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xg(o),e}function p5(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ci,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Jj(e){if(!e)return qs;e=e._reactInternals;e:{if(Ho(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var r=e.type;if(xr(r))return J2(e,r,t)}return t}function eS(e,t,r,n,s,o,i,l,c){return e=m0(r,n,!0,e,s,o,i,l,c),e.context=Jj(null),r=e.current,n=sr(),s=Vs(r),o=Kn(n,s),o.callback=t??null,Fs(r,o,s),e.current.lanes=s,Xl(e,s,n),wr(e,n),e}function Kd(e,t,r,n){var s=t.current,o=sr(),i=Vs(s);return r=Jj(r),t.context===null?t.context=r:t.pendingContext=r,t=Kn(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Fs(s,t,i),e!==null&&(cn(e,s,i,o),xu(e,s,i)),i}function ld(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function p0(e,t){Mx(e,t),(e=e.alternate)&&Mx(e,t)}function g5(){return null}var tS=typeof reportError=="function"?reportError:function(e){console.error(e)};function g0(e){this._internalRoot=e}Qd.prototype.render=g0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));Kd(e,t,null,null)};Qd.prototype.unmount=g0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$o(function(){Kd(null,e,null,null)}),t[Xn]=null}};function Qd(e){this._internalRoot=e}Qd.prototype.unstable_scheduleHydration=function(e){if(e){var t=R2();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ks.length&&t!==0&&t<ks[r].priority;r++);ks.splice(r,0,e),r===0&&M2(e)}};function v0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ix(){}function v5(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=ld(i);o.call(u)}}var i=eS(t,n,e,0,null,!1,!1,"",Ix);return e._reactRootContainer=i,e[Xn]=i.current,bl(e.nodeType===8?e.parentNode:e),$o(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ld(c);l.call(u)}}var c=m0(e,0,!1,null,null,!1,!1,"",Ix);return e._reactRootContainer=c,e[Xn]=c.current,bl(e.nodeType===8?e.parentNode:e),$o(function(){Kd(t,c,r,n)}),c}function Zd(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=ld(i);l.call(c)}}Kd(t,i,e,s)}else i=v5(r,t,e,s,n);return ld(i)}T2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ia(t.pendingLanes);r!==0&&(Og(t,r|1),wr(t,jt()),!(ze&6)&&(Wi=jt()+500,eo()))}break;case 13:$o(function(){var n=Zn(e,1);if(n!==null){var s=sr();cn(n,e,1,s)}}),p0(e,1)}};Lg=function(e){if(e.tag===13){var t=Zn(e,134217728);if(t!==null){var r=sr();cn(t,e,134217728,r)}p0(e,134217728)}};A2=function(e){if(e.tag===13){var t=Vs(e),r=Zn(e,t);if(r!==null){var n=sr();cn(r,e,t,n)}p0(e,t)}};R2=function(){return Ge};D2=function(e,t){var r=Ge;try{return Ge=e,t()}finally{Ge=r}};Om=function(e,t,r){switch(t){case"input":if(Pm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ud(n);if(!s)throw Error(re(90));u2(n),Pm(n,s)}}}break;case"textarea":f2(e,r);break;case"select":t=r.value,t!=null&&ki(e,!!r.multiple,t,!1)}};x2=u0;w2=$o;var y5={usingClientEntryPoint:!1,Events:[Jl,mi,Ud,v2,y2,u0]},ka={findFiberByHostInstance:No,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x5={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:as.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=S2(e),e===null?null:e.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||g5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{Fd=Uc.inject(x5),Nn=Uc}catch{}}Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y5;Mr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v0(t))throw Error(re(200));return p5(e,t,null,r)};Mr.createRoot=function(e,t){if(!v0(e))throw Error(re(299));var r=!1,n="",s=tS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=m0(e,1,!1,null,null,r,!1,n,s),e[Xn]=t.current,bl(e.nodeType===8?e.parentNode:e),new g0(t)};Mr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=S2(t),e=e===null?null:e.stateNode,e};Mr.flushSync=function(e){return $o(e)};Mr.hydrate=function(e,t,r){if(!Xd(t))throw Error(re(200));return Zd(null,e,t,!0,r)};Mr.hydrateRoot=function(e,t,r){if(!v0(e))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=tS;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=eS(t,null,e,1,r??null,s,!1,o,i),e[Xn]=t.current,bl(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Qd(t)};Mr.render=function(e,t,r){if(!Xd(t))throw Error(re(200));return Zd(null,e,t,!1,r)};Mr.unmountComponentAtNode=function(e){if(!Xd(e))throw Error(re(40));return e._reactRootContainer?($o(function(){Zd(null,null,e,!1,function(){e._reactRootContainer=null,e[Xn]=null})}),!0):!1};Mr.unstable_batchedUpdates=u0;Mr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xd(r))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return Zd(e,t,r,!1,n)};Mr.version="18.3.1-next-f1338f8080-20240426";function rS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rS)}catch(e){console.error(e)}}rS(),r2.exports=Mr;var oa=r2.exports;const nS=Sg(oa);var Ox=oa;jm.createRoot=Ox.createRoot,jm.hydrateRoot=Ox.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tl(){return Tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tl.apply(this,arguments)}var Rs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rs||(Rs={}));const Lx="popstate";function w5(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:l}=n.location;return pp("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:cd(s)}return j5(t,r,null,e)}function St(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function b5(){return Math.random().toString(36).substr(2,8)}function Fx(e,t){return{usr:e.state,key:e.key,idx:t}}function pp(e,t,r,n){return r===void 0&&(r=null),Tl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ia(t):t,{state:r,key:t&&t.key||n||b5()})}function cd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ia(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function j5(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,l=Rs.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Tl({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=Rs.Pop;let w=d(),x=w==null?null:w-u;u=w,c&&c({action:l,location:p.location,delta:x})}function m(w,x){l=Rs.Push;let v=pp(p.location,w,x);u=d()+1;let b=Fx(v,u),j=p.createHref(v);try{i.pushState(b,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(j)}o&&c&&c({action:l,location:p.location,delta:1})}function g(w,x){l=Rs.Replace;let v=pp(p.location,w,x);u=d();let b=Fx(v,u),j=p.createHref(v);i.replaceState(b,"",j),o&&c&&c({action:l,location:p.location,delta:0})}function y(w){let x=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof w=="string"?w:cd(w);return v=v.replace(/ $/,"%20"),St(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let p={get action(){return l},get location(){return e(s,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Lx,f),c=w,()=>{s.removeEventListener(Lx,f),c=null}},createHref(w){return t(s,w)},createURL:y,encodeLocation(w){let x=y(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:g,go(w){return i.go(w)}};return p}var $x;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($x||($x={}));function S5(e,t,r){return r===void 0&&(r="/"),N5(e,t,r)}function N5(e,t,r,n){let s=typeof t=="string"?ia(t):t,o=y0(s.pathname||"/",r);if(o==null)return null;let i=oS(e);C5(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=L5(o);l=M5(i[c],u)}return l}function oS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(St(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Us([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(St(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),oS(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:R5(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of iS(o.path))s(o,i,c)}),t}function iS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=iS(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function C5(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:D5(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const k5=/^:[\w-]+$/,_5=3,E5=2,P5=1,T5=10,A5=-2,Vx=e=>e==="*";function R5(e,t){let r=e.split("/"),n=r.length;return r.some(Vx)&&(n+=A5),t&&(n+=E5),r.filter(s=>!Vx(s)).reduce((s,o)=>s+(k5.test(o)?_5:o===""?P5:T5),n)}function D5(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function M5(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=I5({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Us([o,f.pathname]),pathnameBase:B5(Us([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=Us([o,f.pathnameBase]))}return i}function I5(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=O5(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let p=l[f]||"";i=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const y=l[f];return g&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function O5(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),sS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function L5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function y0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function F5(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ia(e):e;return{pathname:r?r.startsWith("/")?r:$5(r,t):t,search:U5(n),hash:z5(s)}}function $5(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Dh(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function V5(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function x0(e,t){let r=V5(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function w0(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ia(e):(s=Tl({},e),St(!s.pathname||!s.pathname.includes("?"),Dh("?","pathname","search",s)),St(!s.pathname||!s.pathname.includes("#"),Dh("#","pathname","hash",s)),St(!s.search||!s.search.includes("#"),Dh("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=F5(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Us=e=>e.join("/").replace(/\/\/+/g,"/"),B5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,z5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function W5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const aS=["post","put","patch","delete"];new Set(aS);const H5=["get",...aS];new Set(H5);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Al.apply(this,arguments)}const b0=h.createContext(null),q5=h.createContext(null),to=h.createContext(null),Jd=h.createContext(null),Rn=h.createContext({outlet:null,matches:[],isDataRoute:!1}),lS=h.createContext(null);function Y5(e,t){let{relative:r}=t===void 0?{}:t;aa()||St(!1);let{basename:n,navigator:s}=h.useContext(to),{hash:o,pathname:i,search:l}=uS(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Us([n,i])),s.createHref({pathname:c,search:l,hash:o})}function aa(){return h.useContext(Jd)!=null}function Dn(){return aa()||St(!1),h.useContext(Jd).location}function cS(e){h.useContext(to).static||h.useLayoutEffect(e)}function Ze(){let{isDataRoute:e}=h.useContext(Rn);return e?lR():G5()}function G5(){aa()||St(!1);let e=h.useContext(b0),{basename:t,future:r,navigator:n}=h.useContext(to),{matches:s}=h.useContext(Rn),{pathname:o}=Dn(),i=JSON.stringify(x0(s,r.v7_relativeSplatPath)),l=h.useRef(!1);return cS(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=w0(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Us([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}const K5=h.createContext(null);function Q5(e){let t=h.useContext(Rn).outlet;return t&&h.createElement(K5.Provider,{value:e},t)}function ef(){let{matches:e}=h.useContext(Rn),t=e[e.length-1];return t?t.params:{}}function uS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(to),{matches:s}=h.useContext(Rn),{pathname:o}=Dn(),i=JSON.stringify(x0(s,n.v7_relativeSplatPath));return h.useMemo(()=>w0(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function X5(e,t){return Z5(e,t)}function Z5(e,t,r,n){aa()||St(!1);let{navigator:s,static:o}=h.useContext(to),{matches:i}=h.useContext(Rn),l=i[i.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=Dn(),f;if(t){var m;let x=typeof t=="string"?ia(t):t;u==="/"||(m=x.pathname)!=null&&m.startsWith(u)||St(!1),f=x}else f=d;let g=f.pathname||"/",y=g;if(u!=="/"){let x=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let p=S5(e,{pathname:y}),w=nR(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:Us([u,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Us([u,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&w?h.createElement(Jd.Provider,{value:{location:Al({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Rs.Pop}},w):w}function J5(){let e=aR(),t=W5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,null)}const eR=h.createElement(J5,null);class tR extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(Rn.Provider,{value:this.props.routeContext},h.createElement(lS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rR(e){let{routeContext:t,match:r,children:n}=e,s=h.useContext(b0);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(Rn.Provider,{value:t},n)}function nR(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||St(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:g}=r,y=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let g,y=!1,p=null,w=null;r&&(g=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||eR,c&&(u<0&&m===0?(cR("route-fallback"),y=!0,w=null):u===m&&(y=!0,w=f.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,m+1)),v=()=>{let b;return g?b=p:y?b=w:f.route.Component?b=h.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,h.createElement(rR,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(tR,{location:r.location,revalidation:r.revalidation,component:p,error:g,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var dS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(dS||{}),ud=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ud||{});function sR(e){let t=h.useContext(b0);return t||St(!1),t}function oR(e){let t=h.useContext(q5);return t||St(!1),t}function iR(e){let t=h.useContext(Rn);return t||St(!1),t}function fS(e){let t=iR(),r=t.matches[t.matches.length-1];return r.route.id||St(!1),r.route.id}function aR(){var e;let t=h.useContext(lS),r=oR(ud.UseRouteError),n=fS(ud.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function lR(){let{router:e}=sR(dS.UseNavigateStable),t=fS(ud.UseNavigateStable),r=h.useRef(!1);return cS(()=>{r.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Al({fromRouteId:t},o)))},[e,t])}const Bx={};function cR(e,t,r){Bx[e]||(Bx[e]=!0)}function uR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function dR(e){let{to:t,replace:r,state:n,relative:s}=e;aa()||St(!1);let{future:o,static:i}=h.useContext(to),{matches:l}=h.useContext(Rn),{pathname:c}=Dn(),u=Ze(),d=w0(t,x0(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function fR(e){return Q5(e.context)}function st(e){St(!1)}function hR(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Rs.Pop,navigator:o,static:i=!1,future:l}=e;aa()&&St(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:o,static:i,future:Al({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=ia(n));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:y="default"}=n,p=h.useMemo(()=>{let w=y0(d,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:g,key:y},navigationType:s}},[c,d,f,m,g,y,s]);return p==null?null:h.createElement(to.Provider,{value:u},h.createElement(Jd.Provider,{children:r,value:p}))}function mR(e){let{children:t,location:r}=e;return X5(gp(t),r)}new Promise(()=>{});function gp(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,s)=>{if(!h.isValidElement(n))return;let o=[...t,s];if(n.type===h.Fragment){r.push.apply(r,gp(n.props.children,o));return}n.type!==st&&St(!1),!n.props.index||!n.props.children||St(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=gp(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vp.apply(this,arguments)}function pR(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function gR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vR(e,t){return e.button===0&&(!t||t==="_self")&&!gR(e)}function yp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function yR(e,t){let r=yp(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const xR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],wR="6";try{window.__reactRouterVersion=wR}catch{}const bR="startTransition",Ux=Fu[bR];function jR(e){let{basename:t,children:r,future:n,window:s}=e,o=h.useRef();o.current==null&&(o.current=w5({window:s,v5Compat:!0}));let i=o.current,[l,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=h.useCallback(f=>{u&&Ux?Ux(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.useEffect(()=>uR(n),[n]),h.createElement(hR,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const SR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=h.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=pR(t,xR),{basename:g}=h.useContext(to),y,p=!1;if(typeof u=="string"&&NR.test(u)&&(y=u,SR))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=y0(j.pathname,g);j.origin===b.origin&&S!=null?u=S+j.search+j.hash:p=!0}catch{}let w=Y5(u,{relative:s}),x=CR(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(b){n&&n(b),b.defaultPrevented||x(b)}return h.createElement("a",vp({},m,{href:y||w,onClick:p||o?n:v,ref:r,target:c}))});var zx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(zx||(zx={}));var Wx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Wx||(Wx={}));function CR(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=Ze(),u=Dn(),d=uS(e,{relative:i});return h.useCallback(f=>{if(vR(f,r)){f.preventDefault();let m=n!==void 0?n:cd(u)===cd(d);c(e,{replace:m,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,n,s,r,e,o,i,l])}function hS(e){let t=h.useRef(yp(e)),r=h.useRef(!1),n=Dn(),s=h.useMemo(()=>yR(n.search,r.current?null:t.current),[n.search]),o=Ze(),i=h.useCallback((l,c)=>{const u=yp(typeof l=="function"?l(s):l);r.current=!0,o("?"+u,c)},[o,s]);return[s,i]}var kR=Object.defineProperty,_R=(e,t,r)=>t in e?kR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Mh=(e,t,r)=>(_R(e,typeof t!="symbol"?t+"":t,r),r);let ER=class{constructor(){Mh(this,"current",this.detect()),Mh(this,"handoffState","pending"),Mh(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ro=new ER,Ur=(e,t)=>{Ro.isServer?h.useEffect(e,t):h.useLayoutEffect(e,t)};function zs(e){let t=h.useRef(e);return Ur(()=>{t.current=e},[e]),t}let et=function(e){let t=zs(e);return O.useCallback((...r)=>t.current(...r),[t])};function PR(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function es(){let e=[],t={addEventListener(r,n,s,o){return r.addEventListener(n,s,o),t.add(()=>r.removeEventListener(n,s,o))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return PR(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,s){let o=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:o})})},group(r){let n=es();return r(n),this.add(()=>n.dispose())},add(r){return e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let s of e.splice(n,1))s()}},dispose(){for(let r of e.splice(0))r()}};return t}function tf(){let[e]=h.useState(es);return h.useEffect(()=>()=>e.dispose(),[e]),e}function TR(){let e=typeof document>"u";return"useSyncExternalStore"in Fu?(t=>t.useSyncExternalStore)(Fu)(()=>()=>{},()=>!1,()=>!e):!1}function j0(){let e=TR(),[t,r]=h.useState(Ro.isHandoffComplete);return t&&Ro.isHandoffComplete===!1&&r(!1),h.useEffect(()=>{t!==!0&&r(!0)},[t]),h.useEffect(()=>Ro.handoff(),[]),e?!1:t}var Hx;let tc=(Hx=O.useId)!=null?Hx:function(){let e=j0(),[t,r]=O.useState(e?()=>Ro.nextId():null);return Ur(()=>{t===null&&r(Ro.nextId())},[t]),t!=null?""+t:void 0};function Kt(e,t,...r){if(e in t){let s=t[e];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Kt),n}function rc(e){return Ro.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let xp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var wp=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(wp||{}),AR=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(AR||{}),RR=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(RR||{});function mS(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(xp)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var S0=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(S0||{});function N0(e,t=0){var r;return e===((r=rc(e))==null?void 0:r.body)?!1:Kt(t,{0(){return e.matches(xp)},1(){let n=e;for(;n!==null;){if(n.matches(xp))return!0;n=n.parentElement}return!1}})}function pS(e){let t=rc(e);es().nextFrame(()=>{t&&!N0(t.activeElement,0)&&MR(e)})}var DR=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(DR||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function MR(e){e==null||e.focus({preventScroll:!0})}let IR=["textarea","input"].join(",");function OR(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,IR))!=null?r:!1}function gS(e,t=r=>r){return e.slice().sort((r,n)=>{let s=t(r),o=t(n);if(s===null||o===null)return 0;let i=s.compareDocumentPosition(o);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function LR(e,t){return FR(mS(),t,{relativeTo:e})}function FR(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:s=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,i=Array.isArray(e)?r?gS(e):e:mS(e);s.length>0&&i.length>1&&(i=i.filter(g=>!s.includes(g))),n=n??o.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,i.indexOf(n))-1;if(t&4)return Math.max(0,i.indexOf(n))+1;if(t&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,f=i.length,m;do{if(d>=f||d+f<=0)return 0;let g=c+d;if(t&16)g=(g+f)%f;else{if(g<0)return 3;if(g>=f)return 1}m=i[g],m==null||m.focus(u),d+=l}while(m!==o.activeElement);return t&6&&OR(m)&&m.select(),2}function $R(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function VR(){return/Android/gi.test(window.navigator.userAgent)}function BR(){return $R()||VR()}function zc(e,t,r){let n=zs(t);h.useEffect(()=>{function s(o){n.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[e,r])}function UR(e,t,r){let n=zs(t);h.useEffect(()=>{function s(o){n.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[e,r])}function zR(e,t,r=!0){let n=h.useRef(!1);h.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function s(i,l){if(!n.current||i.defaultPrevented)return;let c=l(i);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(c)||i.composed&&i.composedPath().includes(f))return}return!N0(c,S0.Loose)&&c.tabIndex!==-1&&i.preventDefault(),t(i,c)}let o=h.useRef(null);zc("pointerdown",i=>{var l,c;n.current&&(o.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),zc("mousedown",i=>{var l,c;n.current&&(o.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),zc("click",i=>{BR()||o.current&&(s(i,()=>o.current),o.current=null)},!0),zc("touchend",i=>s(i,()=>i.target instanceof HTMLElement?i.target:null),!0),UR("blur",i=>s(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function WR(...e){return h.useMemo(()=>rc(...e),[...e])}function qx(e){var t;if(e.type)return e.type;let r=(t=e.as)!=null?t:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function vS(e,t){let[r,n]=h.useState(()=>qx(e));return Ur(()=>{n(qx(e))},[e.type,e.as]),Ur(()=>{r||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&n("button")},[r,t]),r}let yS=Symbol();function HR(e,t=!0){return Object.assign(e,{[yS]:t})}function ls(...e){let t=h.useRef(e);h.useEffect(()=>{t.current=e},[e]);let r=et(n=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(n):s.current=n)});return e.every(n=>n==null||(n==null?void 0:n[yS]))?void 0:r}function Yx(e){return[e.screenX,e.screenY]}function qR(){let e=h.useRef([-1,-1]);return{wasMoved(t){let r=Yx(t);return e.current[0]===r[0]&&e.current[1]===r[1]?!1:(e.current=r,!0)},update(t){e.current=Yx(t)}}}function YR({container:e,accept:t,walk:r,enabled:n=!0}){let s=h.useRef(t),o=h.useRef(r);h.useEffect(()=>{s.current=t,o.current=r},[t,r]),Ur(()=>{if(!e||!n)return;let i=rc(e);if(!i)return;let l=s.current,c=o.current,u=Object.assign(f=>l(f),{acceptNode:l}),d=i.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[e,n,s,o])}function dd(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Hi=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Hi||{}),Ds=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ds||{});function cs({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:s,visible:o=!0,name:i,mergeRefs:l}){l=l??GR;let c=wS(t,e);if(o)return Wc(c,r,n,i,l);let u=s??0;if(u&2){let{static:d=!1,...f}=c;if(d)return Wc(f,r,n,i,l)}if(u&1){let{unmount:d=!0,...f}=c;return Kt(d?0:1,{0(){return null},1(){return Wc({...f,hidden:!0,style:{display:"none"}},r,n,i,l)}})}return Wc(c,r,n,i,l)}function Wc(e,t={},r,n,s){let{as:o=r,children:i,refName:l="ref",...c}=Ih(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},d=typeof i=="function"?i(t):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let f={};if(t){let m=!1,g=[];for(let[y,p]of Object.entries(t))typeof p=="boolean"&&(m=!0),p===!0&&g.push(y);m&&(f["data-headlessui-state"]=g.join(" "))}if(o===h.Fragment&&Object.keys(Gx(c)).length>0){if(!h.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`));let m=d.props,g=typeof(m==null?void 0:m.className)=="function"?(...p)=>dd(m==null?void 0:m.className(...p),c.className):dd(m==null?void 0:m.className,c.className),y=g?{className:g}:{};return h.cloneElement(d,Object.assign({},wS(d.props,Gx(Ih(c,["ref"]))),f,u,{ref:s(d.ref,u.ref)},y))}return h.createElement(o,Object.assign({},Ih(c,["ref"]),o!==h.Fragment&&u,o!==h.Fragment&&f),d)}function xS(){let e=h.useRef([]),t=h.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function GR(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function wS(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):t[s]=n[s];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(t,{[n](s,...o){let i=r[n];for(let l of i){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...o)}}});return t}function Mn(e){var t;return Object.assign(h.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Gx(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function Ih(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}let C0=h.createContext(null);C0.displayName="OpenClosedContext";var Ut=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ut||{});function rf(){return h.useContext(C0)}function k0({value:e,children:t}){return O.createElement(C0.Provider,{value:e},t)}function bS(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=(t==null?void 0:t.getAttribute("disabled"))==="";return n&&KR(r)?!1:n}function KR(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function QR(e){throw new Error("Unexpected object: "+e)}var an=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(an||{});function XR(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),s=n??-1;switch(e.focus){case 0:{for(let o=0;o<r.length;++o)if(!t.resolveDisabled(r[o],o,r))return o;return n}case 1:{for(let o=s-1;o>=0;--o)if(!t.resolveDisabled(r[o],o,r))return o;return n}case 2:{for(let o=s+1;o<r.length;++o)if(!t.resolveDisabled(r[o],o,r))return o;return n}case 3:{for(let o=r.length-1;o>=0;--o)if(!t.resolveDisabled(r[o],o,r))return o;return n}case 4:{for(let o=0;o<r.length;++o)if(t.resolveId(r[o],o,r)===e.id)return o;return n}case 5:return null;default:QR(e)}}var vt=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(vt||{});function _0(){let e=h.useRef(!1);return Ur(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Kx;let ZR=(Kx=O.startTransition)!=null?Kx:function(e){e()};var JR=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(JR||{}),e3=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(e3||{});let t3={0:e=>({...e,disclosureState:Kt(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},E0=h.createContext(null);E0.displayName="DisclosureContext";function P0(e){let t=h.useContext(E0);if(t===null){let r=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,P0),r}return t}let T0=h.createContext(null);T0.displayName="DisclosureAPIContext";function jS(e){let t=h.useContext(T0);if(t===null){let r=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,jS),r}return t}let A0=h.createContext(null);A0.displayName="DisclosurePanelContext";function r3(){return h.useContext(A0)}function n3(e,t){return Kt(t.type,t3,e,t)}let s3=h.Fragment;function o3(e,t){let{defaultOpen:r=!1,...n}=e,s=h.useRef(null),o=ls(t,HR(w=>{s.current=w},e.as===void 0||e.as===h.Fragment)),i=h.useRef(null),l=h.useRef(null),c=h.useReducer(n3,{disclosureState:r?0:1,linkedPanel:!1,buttonRef:l,panelRef:i,buttonId:null,panelId:null}),[{disclosureState:u,buttonId:d},f]=c,m=et(w=>{f({type:1});let x=rc(s);if(!x||!d)return;let v=w?w instanceof HTMLElement?w:w.current instanceof HTMLElement?w.current:x.getElementById(d):x.getElementById(d);v==null||v.focus()}),g=h.useMemo(()=>({close:m}),[m]),y=h.useMemo(()=>({open:u===0,close:m}),[u,m]),p={ref:o};return O.createElement(E0.Provider,{value:c},O.createElement(T0.Provider,{value:g},O.createElement(k0,{value:Kt(u,{0:Ut.Open,1:Ut.Closed})},cs({ourProps:p,theirProps:n,slot:y,defaultTag:s3,name:"Disclosure"}))))}let i3="button";function a3(e,t){let r=tc(),{id:n=`headlessui-disclosure-button-${r}`,...s}=e,[o,i]=P0("Disclosure.Button"),l=r3(),c=l===null?!1:l===o.panelId,u=h.useRef(null),d=ls(u,t,c?null:o.buttonRef),f=xS();h.useEffect(()=>{if(!c)return i({type:2,buttonId:n}),()=>{i({type:2,buttonId:null})}},[n,i,c]);let m=et(v=>{var b;if(c){if(o.disclosureState===1)return;switch(v.key){case vt.Space:case vt.Enter:v.preventDefault(),v.stopPropagation(),i({type:0}),(b=o.buttonRef.current)==null||b.focus();break}}else switch(v.key){case vt.Space:case vt.Enter:v.preventDefault(),v.stopPropagation(),i({type:0});break}}),g=et(v=>{switch(v.key){case vt.Space:v.preventDefault();break}}),y=et(v=>{var b;bS(v.currentTarget)||e.disabled||(c?(i({type:0}),(b=o.buttonRef.current)==null||b.focus()):i({type:0}))}),p=h.useMemo(()=>({open:o.disclosureState===0}),[o]),w=vS(e,u),x=c?{ref:d,type:w,onKeyDown:m,onClick:y}:{ref:d,id:n,type:w,"aria-expanded":o.disclosureState===0,"aria-controls":o.linkedPanel?o.panelId:void 0,onKeyDown:m,onKeyUp:g,onClick:y};return cs({mergeRefs:f,ourProps:x,theirProps:s,slot:p,defaultTag:i3,name:"Disclosure.Button"})}let l3="div",c3=Hi.RenderStrategy|Hi.Static;function u3(e,t){let r=tc(),{id:n=`headlessui-disclosure-panel-${r}`,...s}=e,[o,i]=P0("Disclosure.Panel"),{close:l}=jS("Disclosure.Panel"),c=xS(),u=ls(t,o.panelRef,y=>{ZR(()=>i({type:y?4:5}))});h.useEffect(()=>(i({type:3,panelId:n}),()=>{i({type:3,panelId:null})}),[n,i]);let d=rf(),f=d!==null?(d&Ut.Open)===Ut.Open:o.disclosureState===0,m=h.useMemo(()=>({open:o.disclosureState===0,close:l}),[o,l]),g={ref:u,id:n};return O.createElement(A0.Provider,{value:o.panelId},cs({mergeRefs:c,ourProps:g,theirProps:s,slot:m,defaultTag:l3,features:c3,visible:f,name:"Disclosure.Panel"}))}let d3=Mn(o3),f3=Mn(a3),h3=Mn(u3),Xr=Object.assign(d3,{Button:f3,Panel:h3}),Qx=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Xx(e){var t,r;let n=(t=e.innerText)!=null?t:"",s=e.cloneNode(!0);if(!(s instanceof HTMLElement))return n;let o=!1;for(let l of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),o=!0;let i=o?(r=s.innerText)!=null?r:"":n;return Qx.test(i)&&(i=i.replace(Qx,"")),i}function m3(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let r=e.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(s=>{let o=document.getElementById(s);if(o){let i=o.getAttribute("aria-label");return typeof i=="string"?i.trim():Xx(o).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return Xx(e).trim()}function p3(e){let t=h.useRef(""),r=h.useRef("");return et(()=>{let n=e.current;if(!n)return"";let s=n.innerText;if(t.current===s)return r.current;let o=m3(n).trim().toLowerCase();return t.current=s,r.current=o,o})}var g3=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(g3||{}),v3=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(v3||{}),y3=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(y3||{});function Oh(e,t=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,n=gS(t(e.items.slice()),o=>o.dataRef.current.domRef.current),s=r?n.indexOf(r):null;return s===-1&&(s=null),{items:n,activeItemIndex:s}}let x3={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,t)=>{var r;let n=Oh(e),s=XR(t,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeItemIndex:s,activationTrigger:(r=t.trigger)!=null?r:1}},3:(e,t)=>{let r=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),s=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(i=>{var l;return((l=i.dataRef.current.textValue)==null?void 0:l.startsWith(n))&&!i.dataRef.current.disabled}),o=s?e.items.indexOf(s):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:o,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let r=Oh(e,n=>[...n,{id:t.id,dataRef:t.dataRef}]);return{...e,...r}},6:(e,t)=>{let r=Oh(e,n=>{let s=n.findIndex(o=>o.id===t.id);return s!==-1&&n.splice(s,1),n});return{...e,...r,activationTrigger:1}}},R0=h.createContext(null);R0.displayName="MenuContext";function nf(e){let t=h.useContext(R0);if(t===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,nf),r}return t}function w3(e,t){return Kt(t.type,x3,e,t)}let b3=h.Fragment;function j3(e,t){let{__demoMode:r=!1,...n}=e,s=h.useReducer(w3,{__demoMode:r,menuState:r?0:1,buttonRef:h.createRef(),itemsRef:h.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsRef:i,buttonRef:l},c]=s,u=ls(t);zR([l,i],(g,y)=>{var p;c({type:1}),N0(y,S0.Loose)||(g.preventDefault(),(p=l.current)==null||p.focus())},o===0);let d=et(()=>{c({type:1})}),f=h.useMemo(()=>({open:o===0,close:d}),[o,d]),m={ref:u};return O.createElement(R0.Provider,{value:s},O.createElement(k0,{value:Kt(o,{0:Ut.Open,1:Ut.Closed})},cs({ourProps:m,theirProps:n,slot:f,defaultTag:b3,name:"Menu"})))}let S3="button";function N3(e,t){var r;let n=tc(),{id:s=`headlessui-menu-button-${n}`,...o}=e,[i,l]=nf("Menu.Button"),c=ls(i.buttonRef,t),u=tf(),d=et(p=>{switch(p.key){case vt.Space:case vt.Enter:case vt.ArrowDown:p.preventDefault(),p.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:an.First}));break;case vt.ArrowUp:p.preventDefault(),p.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:an.Last}));break}}),f=et(p=>{switch(p.key){case vt.Space:p.preventDefault();break}}),m=et(p=>{if(bS(p.currentTarget))return p.preventDefault();e.disabled||(i.menuState===0?(l({type:1}),u.nextFrame(()=>{var w;return(w=i.buttonRef.current)==null?void 0:w.focus({preventScroll:!0})})):(p.preventDefault(),l({type:0})))}),g=h.useMemo(()=>({open:i.menuState===0}),[i]),y={ref:c,id:s,type:vS(e,i.buttonRef),"aria-haspopup":"menu","aria-controls":(r=i.itemsRef.current)==null?void 0:r.id,"aria-expanded":i.menuState===0,onKeyDown:d,onKeyUp:f,onClick:m};return cs({ourProps:y,theirProps:o,slot:g,defaultTag:S3,name:"Menu.Button"})}let C3="div",k3=Hi.RenderStrategy|Hi.Static;function _3(e,t){var r,n;let s=tc(),{id:o=`headlessui-menu-items-${s}`,...i}=e,[l,c]=nf("Menu.Items"),u=ls(l.itemsRef,t),d=WR(l.itemsRef),f=tf(),m=rf(),g=m!==null?(m&Ut.Open)===Ut.Open:l.menuState===0;h.useEffect(()=>{let v=l.itemsRef.current;v&&l.menuState===0&&v!==(d==null?void 0:d.activeElement)&&v.focus({preventScroll:!0})},[l.menuState,l.itemsRef,d]),YR({container:l.itemsRef.current,enabled:l.menuState===0,accept(v){return v.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});let y=et(v=>{var b,j;switch(f.dispose(),v.key){case vt.Space:if(l.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),c({type:3,value:v.key});case vt.Enter:if(v.preventDefault(),v.stopPropagation(),c({type:1}),l.activeItemIndex!==null){let{dataRef:S}=l.items[l.activeItemIndex];(j=(b=S.current)==null?void 0:b.domRef.current)==null||j.click()}pS(l.buttonRef.current);break;case vt.ArrowDown:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:an.Next});case vt.ArrowUp:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:an.Previous});case vt.Home:case vt.PageUp:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:an.First});case vt.End:case vt.PageDown:return v.preventDefault(),v.stopPropagation(),c({type:2,focus:an.Last});case vt.Escape:v.preventDefault(),v.stopPropagation(),c({type:1}),es().nextFrame(()=>{var S;return(S=l.buttonRef.current)==null?void 0:S.focus({preventScroll:!0})});break;case vt.Tab:v.preventDefault(),v.stopPropagation(),c({type:1}),es().nextFrame(()=>{LR(l.buttonRef.current,v.shiftKey?wp.Previous:wp.Next)});break;default:v.key.length===1&&(c({type:3,value:v.key}),f.setTimeout(()=>c({type:4}),350));break}}),p=et(v=>{switch(v.key){case vt.Space:v.preventDefault();break}}),w=h.useMemo(()=>({open:l.menuState===0}),[l]),x={"aria-activedescendant":l.activeItemIndex===null||(r=l.items[l.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=l.buttonRef.current)==null?void 0:n.id,id:o,onKeyDown:y,onKeyUp:p,role:"menu",tabIndex:0,ref:u};return cs({ourProps:x,theirProps:i,slot:w,defaultTag:C3,features:k3,visible:g,name:"Menu.Items"})}let E3=h.Fragment;function P3(e,t){let r=tc(),{id:n=`headlessui-menu-item-${r}`,disabled:s=!1,...o}=e,[i,l]=nf("Menu.Item"),c=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===n:!1,u=h.useRef(null),d=ls(t,u);Ur(()=>{if(i.__demoMode||i.menuState!==0||!c||i.activationTrigger===0)return;let S=es();return S.requestAnimationFrame(()=>{var N,C;(C=(N=u.current)==null?void 0:N.scrollIntoView)==null||C.call(N,{block:"nearest"})}),S.dispose},[i.__demoMode,u,c,i.menuState,i.activationTrigger,i.activeItemIndex]);let f=p3(u),m=h.useRef({disabled:s,domRef:u,get textValue(){return f()}});Ur(()=>{m.current.disabled=s},[m,s]),Ur(()=>(l({type:5,id:n,dataRef:m}),()=>l({type:6,id:n})),[m,n]);let g=et(()=>{l({type:1})}),y=et(S=>{if(s)return S.preventDefault();l({type:1}),pS(i.buttonRef.current)}),p=et(()=>{if(s)return l({type:2,focus:an.Nothing});l({type:2,focus:an.Specific,id:n})}),w=qR(),x=et(S=>w.update(S)),v=et(S=>{w.wasMoved(S)&&(s||c||l({type:2,focus:an.Specific,id:n,trigger:0}))}),b=et(S=>{w.wasMoved(S)&&(s||c&&l({type:2,focus:an.Nothing}))}),j=h.useMemo(()=>({active:c,disabled:s,close:g}),[c,s,g]);return cs({ourProps:{id:n,ref:d,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,disabled:void 0,onClick:y,onFocus:p,onPointerEnter:x,onMouseEnter:x,onPointerMove:v,onMouseMove:v,onPointerLeave:b,onMouseLeave:b},theirProps:o,slot:j,defaultTag:E3,name:"Menu.Item"})}let T3=Mn(j3),A3=Mn(N3),R3=Mn(_3),D3=Mn(P3),ms=Object.assign(T3,{Button:A3,Items:R3,Item:D3});function M3(e=0){let[t,r]=h.useState(e),n=_0(),s=h.useCallback(c=>{n.current&&r(u=>u|c)},[t,n]),o=h.useCallback(c=>!!(t&c),[t]),i=h.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=h.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:t,addFlag:s,hasFlag:o,removeFlag:i,toggleFlag:l}}function I3(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}function Lh(e,...t){e&&t.length>0&&e.classList.add(...t)}function Fh(e,...t){e&&t.length>0&&e.classList.remove(...t)}function O3(e,t){let r=es();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:s}=getComputedStyle(e),[o,i]=[n,s].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),l=o+i;if(l!==0){r.group(u=>{u.setTimeout(()=>{t(),u.dispose()},l),u.addEventListener(e,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=r.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),c())})}else t();return r.add(()=>t()),r.dispose}function L3(e,t,r,n){let s=r?"enter":"leave",o=es(),i=n!==void 0?I3(n):()=>{};s==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let l=Kt(s,{enter:()=>t.enter,leave:()=>t.leave}),c=Kt(s,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=Kt(s,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Fh(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Lh(e,...t.base,...l,...u),o.nextFrame(()=>{Fh(e,...t.base,...l,...u),Lh(e,...t.base,...l,...c),O3(e,()=>(Fh(e,...t.base,...l),Lh(e,...t.base,...t.entered),i()))}),o.dispose}function F3({immediate:e,container:t,direction:r,classes:n,onStart:s,onStop:o}){let i=_0(),l=tf(),c=zs(r);Ur(()=>{e&&(c.current="enter")},[e]),Ur(()=>{let u=es();l.add(u.dispose);let d=t.current;if(d&&c.current!=="idle"&&i.current)return u.dispose(),s.current(c.current),u.add(L3(d,n.current,c.current==="enter",()=>{u.dispose(),o.current(c.current)})),u.dispose},[r])}function ps(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let sf=h.createContext(null);sf.displayName="TransitionContext";var $3=(e=>(e.Visible="visible",e.Hidden="hidden",e))($3||{});function V3(){let e=h.useContext(sf);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function B3(){let e=h.useContext(of);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let of=h.createContext(null);of.displayName="NestingContext";function af(e){return"children"in e?af(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function SS(e,t){let r=zs(e),n=h.useRef([]),s=_0(),o=tf(),i=et((g,y=Ds.Hidden)=>{let p=n.current.findIndex(({el:w})=>w===g);p!==-1&&(Kt(y,{[Ds.Unmount](){n.current.splice(p,1)},[Ds.Hidden](){n.current[p].state="hidden"}}),o.microTask(()=>{var w;!af(n)&&s.current&&((w=r.current)==null||w.call(r))}))}),l=et(g=>{let y=n.current.find(({el:p})=>p===g);return y?y.state!=="visible"&&(y.state="visible"):n.current.push({el:g,state:"visible"}),()=>i(g,Ds.Unmount)}),c=h.useRef([]),u=h.useRef(Promise.resolve()),d=h.useRef({enter:[],leave:[],idle:[]}),f=et((g,y,p)=>{c.current.splice(0),t&&(t.chains.current[y]=t.chains.current[y].filter(([w])=>w!==g)),t==null||t.chains.current[y].push([g,new Promise(w=>{c.current.push(w)})]),t==null||t.chains.current[y].push([g,new Promise(w=>{Promise.all(d.current[y].map(([x,v])=>v)).then(()=>w())})]),y==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>p(y)):p(y)}),m=et((g,y,p)=>{Promise.all(d.current[y].splice(0).map(([w,x])=>x)).then(()=>{var w;(w=c.current.shift())==null||w()}).then(()=>p(y))});return h.useMemo(()=>({children:n,register:l,unregister:i,onStart:f,onStop:m,wait:u,chains:d}),[l,i,n,f,m,d,u])}function U3(){}let z3=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Zx(e){var t;let r={};for(let n of z3)r[n]=(t=e[n])!=null?t:U3;return r}function W3(e){let t=h.useRef(Zx(e));return h.useEffect(()=>{t.current=Zx(e)},[e]),t}let H3="div",NS=Hi.RenderStrategy;function q3(e,t){var r,n;let{beforeEnter:s,afterEnter:o,beforeLeave:i,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:f,leave:m,leaveFrom:g,leaveTo:y,...p}=e,w=h.useRef(null),x=ls(w,t),v=(r=p.unmount)==null||r?Ds.Unmount:Ds.Hidden,{show:b,appear:j,initial:S}=V3(),[N,C]=h.useState(b?"visible":"hidden"),_=B3(),{register:P,unregister:R}=_;h.useEffect(()=>P(w),[P,w]),h.useEffect(()=>{if(v===Ds.Hidden&&w.current){if(b&&N!=="visible"){C("visible");return}return Kt(N,{hidden:()=>R(w),visible:()=>P(w)})}},[N,w,P,R,b,v]);let $=zs({base:ps(p.className),enter:ps(c),enterFrom:ps(u),enterTo:ps(d),entered:ps(f),leave:ps(m),leaveFrom:ps(g),leaveTo:ps(y)}),A=W3({beforeEnter:s,afterEnter:o,beforeLeave:i,afterLeave:l}),B=j0();h.useEffect(()=>{if(B&&N==="visible"&&w.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,N,B]);let Y=S&&!j,ee=j&&b&&S,L=!B||Y?"idle":b?"enter":"leave",U=M3(0),T=et(se=>Kt(se,{enter:()=>{U.addFlag(Ut.Opening),A.current.beforeEnter()},leave:()=>{U.addFlag(Ut.Closing),A.current.beforeLeave()},idle:()=>{}})),D=et(se=>Kt(se,{enter:()=>{U.removeFlag(Ut.Opening),A.current.afterEnter()},leave:()=>{U.removeFlag(Ut.Closing),A.current.afterLeave()},idle:()=>{}})),H=SS(()=>{C("hidden"),R(w)},_),V=h.useRef(!1);F3({immediate:ee,container:w,classes:$,direction:L,onStart:zs(se=>{V.current=!0,H.onStart(w,se,T)}),onStop:zs(se=>{V.current=!1,H.onStop(w,se,D),se==="leave"&&!af(H)&&(C("hidden"),R(w))})});let Q=p,X={ref:x};return ee?Q={...Q,className:dd(p.className,...$.current.enter,...$.current.enterFrom)}:V.current&&(Q.className=dd(p.className,(n=w.current)==null?void 0:n.className),Q.className===""&&delete Q.className),O.createElement(of.Provider,{value:H},O.createElement(k0,{value:Kt(N,{visible:Ut.Open,hidden:Ut.Closed})|U.flags},cs({ourProps:X,theirProps:Q,defaultTag:H3,features:NS,visible:N==="visible",name:"Transition.Child"})))}function Y3(e,t){let{show:r,appear:n=!1,unmount:s=!0,...o}=e,i=h.useRef(null),l=ls(i,t);j0();let c=rf();if(r===void 0&&c!==null&&(r=(c&Ut.Open)===Ut.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=h.useState(r?"visible":"hidden"),f=SS(()=>{d("hidden")}),[m,g]=h.useState(!0),y=h.useRef([r]);Ur(()=>{m!==!1&&y.current[y.current.length-1]!==r&&(y.current.push(r),g(!1))},[y,r]);let p=h.useMemo(()=>({show:r,appear:n,initial:m}),[r,n,m]);h.useEffect(()=>{if(r)d("visible");else if(!af(f))d("hidden");else{let b=i.current;if(!b)return;let j=b.getBoundingClientRect();j.x===0&&j.y===0&&j.width===0&&j.height===0&&d("hidden")}},[r,f]);let w={unmount:s},x=et(()=>{var b;m&&g(!1),(b=e.beforeEnter)==null||b.call(e)}),v=et(()=>{var b;m&&g(!1),(b=e.beforeLeave)==null||b.call(e)});return O.createElement(of.Provider,{value:f},O.createElement(sf.Provider,{value:p},cs({ourProps:{...w,as:h.Fragment,children:O.createElement(CS,{ref:l,...w,...o,beforeEnter:x,beforeLeave:v})},theirProps:{},defaultTag:h.Fragment,features:NS,visible:u==="visible",name:"Transition"})))}function G3(e,t){let r=h.useContext(sf)!==null,n=rf()!==null;return O.createElement(O.Fragment,null,!r&&n?O.createElement(bp,{ref:t,...e}):O.createElement(CS,{ref:t,...e}))}let bp=Mn(Y3),CS=Mn(q3),K3=Mn(G3),kS=Object.assign(bp,{Child:K3,Root:bp});function Q3({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const $h=h.forwardRef(Q3);function X3({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Z3=h.forwardRef(X3);function J3({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const eD=h.forwardRef(J3);function tD({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const rD=h.forwardRef(tD);function nD({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const sD=h.forwardRef(nD);function oD({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const iD=h.forwardRef(oD);function aD({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const lD=h.forwardRef(aD);function cD({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const uD=h.forwardRef(cD);function dD({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const fD=h.forwardRef(dD);function hD({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const mD=h.forwardRef(hD);function pD({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const Jx=h.forwardRef(pD);function gD({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const vD=h.forwardRef(gD);function yD({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const xD=h.forwardRef(yD);function wD({title:e,titleId:t,...r},n){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const bD=h.forwardRef(wD),jD={},ew=e=>{let t;const r=new Set,n=(d,f)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const g=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(y=>y(t,g))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(jD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,c);return c},SD=e=>e?ew(e):ew;var _S={exports:{}},ES={},PS={exports:{}},TS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qi=h;function ND(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CD=typeof Object.is=="function"?Object.is:ND,kD=qi.useState,_D=qi.useEffect,ED=qi.useLayoutEffect,PD=qi.useDebugValue;function TD(e,t){var r=t(),n=kD({inst:{value:r,getSnapshot:t}}),s=n[0].inst,o=n[1];return ED(function(){s.value=r,s.getSnapshot=t,Vh(s)&&o({inst:s})},[e,r,t]),_D(function(){return Vh(s)&&o({inst:s}),e(function(){Vh(s)&&o({inst:s})})},[e]),PD(r),r}function Vh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!CD(e,r)}catch{return!0}}function AD(e,t){return t()}var RD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?AD:TD;TS.useSyncExternalStore=qi.useSyncExternalStore!==void 0?qi.useSyncExternalStore:RD;PS.exports=TS;var DD=PS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf=h,MD=DD;function ID(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OD=typeof Object.is=="function"?Object.is:ID,LD=MD.useSyncExternalStore,FD=lf.useRef,$D=lf.useEffect,VD=lf.useMemo,BD=lf.useDebugValue;ES.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var o=FD(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=VD(function(){function c(g){if(!u){if(u=!0,d=g,g=n(g),s!==void 0&&i.hasValue){var y=i.value;if(s(y,g))return f=y}return f=g}if(y=f,OD(d,g))return y;var p=n(g);return s!==void 0&&s(y,p)?(d=g,y):(d=g,f=p)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,s]);var l=LD(e,o[0],o[1]);return $D(function(){i.hasValue=!0,i.value=l},[l]),BD(l),l};_S.exports=ES;var UD=_S.exports;const zD=Sg(UD),AS={},{useDebugValue:WD}=O,{useSyncExternalStoreWithSelector:HD}=zD;let tw=!1;const qD=e=>e;function YD(e,t=qD,r){(AS?"production":void 0)!=="production"&&r&&!tw&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),tw=!0);const n=HD(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return WD(n),n}const rw=e=>{(AS?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?SD(e):e,r=(n,s)=>YD(t,n,s);return Object.assign(r,t),r},RS=e=>e?rw(e):rw,GD="modulepreload",KD=function(e){return"/Zabtt/"+e},nw={},Yi=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=KD(c),c in nw)return;nw[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":GD,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},QD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Yi(async()=>{const{default:n}=await Promise.resolve().then(()=>la);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class D0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class XD extends D0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ZD extends D0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class JD extends D0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var jp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(jp||(jp={}));var eM=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class tM{constructor(t,{headers:r={},customFetch:n,region:s=jp.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=QD(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return eM(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(y=>{throw new XD(y)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new ZD(d);if(!d.ok)throw new JD(d);let m=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield d.json():m==="application/octet-stream"?g=yield d.blob():m==="text/event-stream"?g=d:m==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var gr={},M0={},cf={},nc={},uf={},df={},rM=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gi=rM();const nM=Gi.fetch,DS=Gi.fetch.bind(Gi),MS=Gi.Headers,sM=Gi.Request,oM=Gi.Response,la=Object.freeze(Object.defineProperty({__proto__:null,Headers:MS,Request:sM,Response:oM,default:DS,fetch:nM},Symbol.toStringTag,{value:"Module"})),iM=GT(la);var ff={};Object.defineProperty(ff,"__esModule",{value:!0});let aM=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ff.default=aM;var IS=Hr&&Hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(df,"__esModule",{value:!0});const lM=IS(iM),cM=IS(ff);let uM=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=lM.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,d=null,f=null,m=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){const x=await o.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const p=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),w=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await o.text();try{u=JSON.parse(p),Array.isArray(u)&&o.status===404&&(d=[],u=null,m=200,g="OK")}catch{o.status===404&&p===""?(m=204,g="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,g="OK"),u&&this.shouldThrowOnError)throw new cM.default(u)}return{error:u,data:d,count:f,status:m,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};df.default=uM;var dM=Hr&&Hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uf,"__esModule",{value:!0});const fM=dM(df);let hM=class extends fM.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};uf.default=hM;var mM=Hr&&Hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nc,"__esModule",{value:!0});const pM=mM(uf);let gM=class extends pM.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};nc.default=gM;var vM=Hr&&Hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cf,"__esModule",{value:!0});const _a=vM(nc);let yM=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new _a.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new _a.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new _a.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new _a.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new _a.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};cf.default=yM;var hf={},mf={};Object.defineProperty(mf,"__esModule",{value:!0});mf.version=void 0;mf.version="0.0.0-automated";Object.defineProperty(hf,"__esModule",{value:!0});hf.DEFAULT_HEADERS=void 0;const xM=mf;hf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${xM.version}`};var OS=Hr&&Hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(M0,"__esModule",{value:!0});const wM=OS(cf),bM=OS(nc),jM=hf;let SM=class LS{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},jM.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new wM.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new LS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new bM.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};M0.default=SM;var ca=Hr&&Hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gr,"__esModule",{value:!0});gr.PostgrestError=gr.PostgrestBuilder=gr.PostgrestTransformBuilder=gr.PostgrestFilterBuilder=gr.PostgrestQueryBuilder=gr.PostgrestClient=void 0;const FS=ca(M0);gr.PostgrestClient=FS.default;const $S=ca(cf);gr.PostgrestQueryBuilder=$S.default;const VS=ca(nc);gr.PostgrestFilterBuilder=VS.default;const BS=ca(uf);gr.PostgrestTransformBuilder=BS.default;const US=ca(df);gr.PostgrestBuilder=US.default;const zS=ca(ff);gr.PostgrestError=zS.default;var NM=gr.default={PostgrestClient:FS.default,PostgrestQueryBuilder:$S.default,PostgrestFilterBuilder:VS.default,PostgrestTransformBuilder:BS.default,PostgrestBuilder:US.default,PostgrestError:zS.default};const{PostgrestClient:CM,PostgrestQueryBuilder:aK,PostgrestFilterBuilder:lK,PostgrestTransformBuilder:cK,PostgrestBuilder:uK,PostgrestError:dK}=NM,kM="2.11.2",_M={"X-Client-Info":`realtime-js/${kM}`},EM="1.0.0",WS=1e4,PM=1e3;var Ri;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ri||(Ri={}));var kr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(kr||(kr={}));var rn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rn||(rn={}));var Sp;(function(e){e.websocket="websocket"})(Sp||(Sp={}));var bo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bo||(bo={}));class TM{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class HS{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Je||(Je={}));const sw=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=AM(i,e,t,s),o),{})},AM=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?qS(o,i):Np(i)},qS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return IM(t,r)}switch(e){case Je.bool:return RM(t);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return DM(t);case Je.json:case Je.jsonb:return MM(t);case Je.timestamp:return OM(t);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return Np(t);default:return Np(t)}},Np=e=>e,RM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},DM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},MM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},IM=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>qS(t,l))}return e},OM=e=>typeof e=="string"?e.replace(" ","T"):e,YS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Bh{constructor(t,r,n={},s=WS){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ow;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ow||(ow={}));class nl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=nl.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=nl.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=nl.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const m=d.map(w=>w.presence_ref),g=f.map(w=>w.presence_ref),y=d.filter(w=>g.indexOf(w.presence_ref)<0),p=f.filter(w=>m.indexOf(w.presence_ref)<0);y.length>0&&(l[u]=y),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),m=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var iw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(iw||(iw={}));var aw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(aw||(aw={}));var Hn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Hn||(Hn={}));class I0{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=kr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bh(this,rn.join,this.params,this.timeout),this.rejoinTimer=new HS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new nl(this),this.broadcastEndpointURL=YS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Hn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Hn.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Hn.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,y=[];for(let p=0;p<g;p++){const w=m[p],{filter:{event:x,schema:v,table:b,filter:j}}=w,S=d&&d[p];if(S&&S.event===x&&S.schema===v&&S.table===b&&S.filter===j)y.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),t==null||t(Hn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Hn.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Hn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Hn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Bh(this,rn.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Bh(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=rn;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let m=this._onMessage(i,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,p,w;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(p=g.filter)===null||p===void 0?void 0:p.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(g=>g.callback(m,n)):(o=this.bindings[i])===null||o===void 0||o.filter(g=>{var y,p,w,x,v,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const j=g.id,S=(y=g.filter)===null||y===void 0?void 0:y.event;return j&&((p=r.ids)===null||p===void 0?void 0:p.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(v=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:p,table:w,commit_timestamp:x,type:v,errors:b}=y;m=Object.assign(Object.assign({},{schema:p,table:w,commit_timestamp:x,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(y))}g.callback(m,n)})}_isClosed(){return this.state===kr.closed}_isJoined(){return this.state===kr.joined}_isJoining(){return this.state===kr.joining}_isLeaving(){return this.state===kr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&I0.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rn.close,{},t)}_onError(t){this._on(rn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=sw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=sw(t.columns,t.old_record)),r}}const LM=()=>{},FM=typeof WebSocket<"u",$M=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class VM{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=_M,this.params={},this.timeout=WS,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=LM,this.conn=null,this.sendBuffer=[],this.serializer=new TM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>Yi(async()=>{const{default:c}=await Promise.resolve().then(()=>la);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${Sp.websocket}`,this.httpEndpoint=YS(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new HS(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(FM){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new BM(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Yi(async()=>{const{default:t}=await import("./browser-CG1pZJad.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:EM}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ri.connecting:return bo.Connecting;case Ri.open:return bo.Open;case Ri.closing:return bo.Closing;default:return bo.Closed}}isConnected(){return this.connectionState()===bo.Open}channel(t,r={config:{}}){const n=new I0(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(rn.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(PM,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:i}=r;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,o),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(rn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([$M],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class BM{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ri.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class O0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function At(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class UM extends O0{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Cp extends O0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var zM=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const GS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Yi(async()=>{const{default:n}=await Promise.resolve().then(()=>la);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},WM=()=>zM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yi(()=>Promise.resolve().then(()=>la),void 0)).Response:Response}),kp=e=>{if(Array.isArray(e))return e.map(r=>kp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=kp(n)}),t};var qo=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Uh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HM=(e,t,r)=>qo(void 0,void 0,void 0,function*(){const n=yield WM();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new UM(Uh(s),e.status||500))}).catch(s=>{t(new Cp(Uh(s),s))}):t(new Cp(Uh(e),e))}),qM=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function sc(e,t,r,n,s,o){return qo(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,qM(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>HM(c,l,n))})})}function fd(e,t,r,n){return qo(this,void 0,void 0,function*(){return sc(e,"GET",t,r,n)})}function Cs(e,t,r,n,s){return qo(this,void 0,void 0,function*(){return sc(e,"POST",t,n,s,r)})}function YM(e,t,r,n,s){return qo(this,void 0,void 0,function*(){return sc(e,"PUT",t,n,s,r)})}function GM(e,t,r,n){return qo(this,void 0,void 0,function*(){return sc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function KS(e,t,r,n,s){return qo(this,void 0,void 0,function*(){return sc(e,"DELETE",t,n,s,r)})}var fr=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const KM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QM{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=GS(s)}uploadOrUpdate(t,r,n,s){return fr(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},lw),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),m=yield f.json();return f.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(o){if(At(o))return{data:null,error:o};throw o}})}upload(t,r,n){return fr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return fr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:lw.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield f.json();return f.ok?{data:{path:o,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(At(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return fr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Cs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new O0("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}update(t,r,n){return fr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return fr(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}copy(t,r,n){return fr(this,void 0,void 0,function*(){try{return{data:{path:(yield Cs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return fr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Cs(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return fr(this,void 0,void 0,function*(){try{const s=yield Cs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}download(t,r){return fr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield fd(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(At(l))return{data:null,error:l};throw l}})}info(t){return fr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield fd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:kp(n),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}exists(t){return fr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield GM(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(At(n)&&n instanceof Cp){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return fr(this,void 0,void 0,function*(){try{return{data:yield KS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}list(t,r,n){return fr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},KM),r),{prefix:t||""});return{data:yield Cs(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const XM="2.7.1",ZM={"X-Client-Info":`storage-js/${XM}`};var Jo=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class JM{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},ZM),r),this.fetch=GS(n)}listBuckets(){return Jo(this,void 0,void 0,function*(){try{return{data:yield fd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(At(t))return{data:null,error:t};throw t}})}getBucket(t){return Jo(this,void 0,void 0,function*(){try{return{data:yield fd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Jo(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Jo(this,void 0,void 0,function*(){try{return{data:yield YM(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Jo(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Jo(this,void 0,void 0,function*(){try{return{data:yield KS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}}class eI extends JM{constructor(t,r={},n){super(t,r,n)}from(t){return new QM(this.url,this.headers,t,this.fetch)}}const tI="2.49.4";let La="";typeof Deno<"u"?La="deno":typeof document<"u"?La="web":typeof navigator<"u"&&navigator.product==="ReactNative"?La="react-native":La="node";const rI={"X-Client-Info":`supabase-js-${La}/${tI}`},nI={headers:rI},sI={schema:"public"},oI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iI={};var aI=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const lI=e=>{let t;return e?t=e:typeof fetch>"u"?t=DS:t=fetch,(...r)=>t(...r)},cI=()=>typeof Headers>"u"?MS:Headers,uI=(e,t,r)=>{const n=lI(r),s=cI();return(o,i)=>aI(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var dI=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function fI(e){return e.replace(/\/$/,"")}function hI(e,t){const{db:r,auth:n,realtime:s,global:o}=e,{db:i,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},i),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),o),accessToken:()=>dI(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const QS="2.69.1",li=30*1e3,_p=3,zh=_p*li,mI="http://localhost:9999",pI="supabase.auth.token",gI={"X-Client-Info":`gotrue-js/${QS}`},Ep="X-Supabase-Api-Version",XS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yI=6e5;class L0 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class xI extends L0{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function wI(e){return Te(e)&&e.name==="AuthApiError"}class ZS extends L0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ro extends L0{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ys extends ro{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bI(e){return Te(e)&&e.name==="AuthSessionMissingError"}class Wh extends ro{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hc extends ro{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qc extends ro{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jI(e){return Te(e)&&e.name==="AuthImplicitGrantRedirectError"}class cw extends ro{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pp extends ro{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Hh(e){return Te(e)&&e.name==="AuthRetryableFetchError"}class uw extends ro{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class sl extends ro{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const dw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fw=` 	
\r=`.split(""),SI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<fw.length;t+=1)e[fw[t].charCodeAt(0)]=-2;for(let t=0;t<dw.length;t+=1)e[dw[t].charCodeAt(0)]=t;return e})();function JS(e,t,r){const n=SI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hw(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{kI(i,n,r)};for(let i=0;i<e.length;i+=1)JS(e.charCodeAt(i),s,o);return t.join("")}function NI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function CI(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}NI(n,t)}}function kI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function _I(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)JS(e.charCodeAt(s),r,n);return new Uint8Array(t)}function EI(e){const t=[];return CI(e,r=>t.push(r)),new Uint8Array(t)}function PI(e){return Math.round(Date.now()/1e3)+e}function TI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const xn=()=>typeof window<"u"&&typeof document<"u",fo={tested:!1,writable:!1},ol=()=>{if(!xn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fo.tested)return fo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),fo.tested=!0,fo.writable=!0}catch{fo.tested=!0,fo.writable=!1}return fo.writable};function AI(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const eN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Yi(async()=>{const{default:n}=await Promise.resolve().then(()=>la);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},RI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",tN=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Yc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Gc=async(e,t)=>{await e.removeItem(t)};class pf{constructor(){this.promise=new pf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}pf.promiseConstructor=Promise;function qh(e){const t=e.split(".");if(t.length!==3)throw new sl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!vI.test(t[n]))throw new sl("JWT not in base64url format");return{header:JSON.parse(hw(t[0])),payload:JSON.parse(hw(t[1])),signature:_I(t[2]),raw:{header:t[0],payload:t[1]}}}async function DI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function MI(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function II(e){return("0"+e.toString(16)).substr(-2)}function OI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,II).join("")}async function LI(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function FI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await LI(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ei(e,t,r=!1){const n=OI();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await tN(e,`${t}-code-verifier`,s);const o=await FI(n);return[o,n===o?"plain":"s256"]}const $I=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VI(e){const t=e.headers.get(Ep);if(!t||!t.match($I))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function BI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function UI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var zI=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const yo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),WI=[502,503,504];async function mw(e){var t;if(!RI(e))throw new Pp(yo(e),0);if(WI.includes(e.status))throw new Pp(yo(e),e.status);let r;try{r=await e.json()}catch(o){throw new ZS(yo(o),o)}let n;const s=VI(e);if(s&&s.getTime()>=XS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new uw(yo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ys}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new uw(yo(r),e.status,r.weak_password.reasons);throw new xI(yo(r),e.status||500,n)}const HI=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function $e(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Ep]||(o[Ep]=XS["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await qI(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function qI(e,t,r,n,s,o){const i=HI(t,n,s,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new Pp(yo(c),0)}if(l.ok||await mw(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await mw(c)}}function xs(e){var t;let r=null;QI(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=PI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function pw(e){const t=xs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Es(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function YI(e){return{data:e,error:null}}function GI(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=zI(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function KI(e){return e}function QI(e){return e.access_token&&e.refresh_token&&e.expires_in}var XI=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class ZI{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=eN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Es})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=XI(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:GI,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Es})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:KI});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(y=>{const p=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=p}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Te(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Es})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Es})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Es})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await $e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}}const JI={getItem:e=>ol()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ol()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ol()&&globalThis.localStorage.removeItem(e)}};function gw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function eO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ti={debug:!!(globalThis&&ol()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class tO extends rN{}async function rO(e,t,r){ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ti.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ti.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}eO();const nO={url:mI,storageKey:pI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vw(e,t,r){return await r()}class Rl{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rl.nextInstanceID,Rl.nextInstanceID+=1,this.instanceID>0&&xn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},nO),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ZI({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=eN(s.fetch),this.lock=s.lock||vw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:xn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=rO:this.lock=vw,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ol()?this.storage=JI:(this.memoryStorage={},this.storage=gw(this.memoryStorage)):(this.memoryStorage={},this.storage=gw(this.memoryStorage)),xn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${QS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=AI(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),xn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),jI(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Te(r)?{error:r}:{error:new ZS("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:xs}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:m}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await ei(this.storage,this.storageKey)),o=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:y},xform:xs})}else if("phone"in t){const{phone:d,password:f,options:m}=t;o=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:xs})}else throw new Hc("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:pw})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:pw})}else throw new Hc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Wh}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Yc(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:xs});if(await Gc(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Wh}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(Te(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,l=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:xs}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Wh}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ei(this.storage,this.storageKey));const{error:f}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Hc("You must provide either an email or phone number.")}catch(l){if(Te(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:xs});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await ei(this.storage,this.storageKey)),await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:YI})}catch(o){if(Te(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ys;const{error:s}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Te(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:l}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Hc("You must provide either an email or phone number and a type")}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Yc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<zh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Es}):await this._useSession(async r=>{var n,s,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ys}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Es})})}catch(r){if(Te(r))return bI(r)&&(await this._removeSession(),await Gc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new ys;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ei(this.storage,this.storageKey));const{data:u,error:d}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Es});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ys;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=qh(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Te(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ys;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!xn())throw new qc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new cw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new cw("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new qc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const g=m-d;g*1e3<=li&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const y=m-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,d);const{data:p,error:w}=await this._getUser(o);if(w)throw w;const x={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:m,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(Te(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Yc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(wI(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Gc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=TI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ei(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Te(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:m}=o;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return xn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Te(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await MI(async s=>(s>0&&await DI(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xs})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Hh(o)&&Date.now()+i-n<li})}catch(n){if(this._debug(r,"error",n),Te(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),xn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Yc(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<zh;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${zh}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Hh(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ys;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new pf;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new ys;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),Te(o)){const i={session:null,error:o};return Hh(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await tN(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Gc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),li);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/li);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${li}ms, refresh threshold is ${_p} ticks`),s<=_p&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof rN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await ei(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await $e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=qh(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+yI>Date.now()))return n;const{data:s,error:o}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new sl("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===t),!n)throw new sl("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:g,error:y}=await this.getSession();if(y||!g.session)return{data:null,error:y};n=g.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=qh(n);if(BI(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:o,header:s,signature:i},error:null}}const u=UI(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,EI(`${l}.${c}`)))throw new sl("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}}Rl.nextInstanceID=0;const sO=Rl;class oO extends sO{constructor(t){super(t)}}var iO=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class aO{constructor(t,r,n){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=fI(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:sI,realtime:iI,auth:Object.assign(Object.assign({},oI),{storageKey:c}),global:nI},d=hI(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=uI(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new CM(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new tM(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new eI(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return iO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oO({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new VM(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lO=(e,t,r)=>new aO(e,t,r),cO="https://gcejhxrwyftlzbztngug.supabase.co",uO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdjZWpoeHJ3eWZ0bHpienRuZ3VnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk0MDM3NTksImV4cCI6MjA1NDk3OTc1OX0.dTPrJembkfcqPWyByD08JrCotwee_cgLTzo18k2buLg",J=lO(cO,uO,{auth:{persistSession:!0,autoRefreshToken:!0,storageKey:"Zabtt-auth-storage"},global:{fetch:(e,t)=>fetch(e,t),headers:{"X-Client-Info":"Zabtt-web-client"}},db:{schema:"public"}});async function dO(){let e=3;for(;e>0;)try{const{data:t,error:r}=await J.auth.getSession();if(r)throw r;return console.log("Auth initialization result:",t.session?"Session found":"No session found"),t.session}catch(t){if(console.error(`Error initializing auth (${e} retries left):`,t),e--,e===0)return console.error("Failed to initialize auth after multiple attempts"),null;await new Promise(r=>setTimeout(r,1e3))}return null}async function fO(e){try{const{error:t}=await J.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin+"/Zabtt/reset-password"});if(t)throw t;return{success:!0,message:"Password reset link sent to your email"}}catch(t){return console.error("Password reset error:",t),{success:!1,message:t.message||"Failed to send reset link"}}}async function hO(e){try{const{data:t,error:r}=await J.auth.signInWithOAuth({provider:e,options:{redirectTo:window.location.origin+"/Zabtt/"}});if(r)throw r;return{success:!0,data:t}}catch(t){return console.error(`${e} sign-in error:`,t),{success:!1,message:t.message||`Failed to sign in with ${e}`}}}function mO(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const pO=e=>{switch(e){case"success":return yO;case"info":return wO;case"warning":return xO;case"error":return bO;default:return null}},gO=Array(12).fill(0),vO=({visible:e,className:t})=>O.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},O.createElement("div",{className:"sonner-spinner"},gO.map((r,n)=>O.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),yO=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),xO=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),wO=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),bO=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),jO=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},O.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),O.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),SO=()=>{const[e,t]=O.useState(document.hidden);return O.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let Tp=1;class NO{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...s}=t,o=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Tp++,i=this.toasts.find(c=>c.id===o),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),i?this.toasts=this.toasts.map(c=>c.id===o?(this.publish({...c,...t,id:o,title:n}),{...c,...t,id:o,dismissible:l,title:n}):c):this.addToast({title:n,...s,dismissible:l,id:o}),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let o=n!==void 0,i;const l=s.then(async u=>{if(i=["resolve",u],O.isValidElement(u))o=!1,this.create({id:n,type:"default",message:u});else if(kO(u)&&!u.ok){o=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,m=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,y=typeof f=="object"&&!O.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:m,...y})}else if(u instanceof Error){o=!1;const f=typeof r.error=="function"?await r.error(u):r.error,m=typeof r.description=="function"?await r.description(u):r.description,y=typeof f=="object"&&!O.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:m,...y})}else if(r.success!==void 0){o=!1;const f=typeof r.success=="function"?await r.success(u):r.success,m=typeof r.description=="function"?await r.description(u):r.description,y=typeof f=="object"&&!O.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:m,...y})}}).catch(async u=>{if(i=["reject",u],r.error!==void 0){o=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,g=typeof d=="object"&&!O.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...g})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>i[0]==="reject"?d(i[1]):u(i[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||Tp++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const hr=new NO,CO=(e,t)=>{const r=(t==null?void 0:t.id)||Tp++;return hr.addToast({title:e,...t,id:r}),r},kO=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",_O=CO,EO=()=>hr.toasts,PO=()=>hr.getActiveToasts(),K=Object.assign(_O,{success:hr.success,info:hr.info,warning:hr.warning,error:hr.error,custom:hr.custom,message:hr.message,promise:hr.promise,dismiss:hr.dismiss,loading:hr.loading},{getHistory:EO,getToasts:PO});mO("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Kc(e){return e.label!==void 0}const TO=3,AO="24px",RO="16px",yw=4e3,DO=356,MO=14,IO=45,OO=200;function yn(...e){return e.filter(Boolean).join(" ")}function LO(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const FO=e=>{var t,r,n,s,o,i,l,c,u;const{invert:d,toast:f,unstyled:m,interacting:g,setHeights:y,visibleToasts:p,heights:w,index:x,toasts:v,expanded:b,removeToast:j,defaultRichColors:S,closeButton:N,style:C,cancelButtonStyle:_,actionButtonStyle:P,className:R="",descriptionClassName:$="",duration:A,position:B,gap:Y,expandByDefault:ee,classNames:L,icons:U,closeButtonAriaLabel:T="Close toast"}=e,[D,H]=O.useState(null),[V,Q]=O.useState(null),[X,se]=O.useState(!1),[ge,le]=O.useState(!1),[k,M]=O.useState(!1),[Z,W]=O.useState(!1),[ae,q]=O.useState(!1),[ve,ue]=O.useState(0),[Re,Ne]=O.useState(0),Me=O.useRef(f.duration||A||yw),Ve=O.useRef(null),Be=O.useRef(null),It=x===0,cr=x+1<=p,E=f.type,I=f.dismissible!==!1,z=f.className||"",de=f.descriptionClassName||"",oe=O.useMemo(()=>w.findIndex(F=>F.toastId===f.id)||0,[w,f.id]),te=O.useMemo(()=>{var F;return(F=f.closeButton)!=null?F:N},[f.closeButton,N]),me=O.useMemo(()=>f.duration||A||yw,[f.duration,A]),Pe=O.useRef(0),Le=O.useRef(0),Qe=O.useRef(0),ur=O.useRef(null),[dr,Ln]=B.split("-"),Fn=O.useMemo(()=>w.reduce((F,ne,G)=>G>=oe?F:F+ne.height,0),[w,oe]),$n=SO(),co=f.invert||d,Kr=E==="loading";Le.current=O.useMemo(()=>oe*Y+Fn,[oe,Fn]),O.useEffect(()=>{Me.current=me},[me]),O.useEffect(()=>{se(!0)},[]),O.useEffect(()=>{const F=Be.current;if(F){const ne=F.getBoundingClientRect().height;return Ne(ne),y(G=>[{toastId:f.id,height:ne,position:f.position},...G]),()=>y(G=>G.filter(fe=>fe.toastId!==f.id))}},[y,f.id]),O.useLayoutEffect(()=>{if(!X)return;const F=Be.current,ne=F.style.height;F.style.height="auto";const G=F.getBoundingClientRect().height;F.style.height=ne,Ne(G),y(fe=>fe.find(Se=>Se.toastId===f.id)?fe.map(Se=>Se.toastId===f.id?{...Se,height:G}:Se):[{toastId:f.id,height:G,position:f.position},...fe])},[X,f.title,f.description,y,f.id]);const Cr=O.useCallback(()=>{le(!0),ue(Le.current),y(F=>F.filter(ne=>ne.toastId!==f.id)),setTimeout(()=>{j(f)},OO)},[f,j,y,Le]);O.useEffect(()=>{if(f.promise&&E==="loading"||f.duration===1/0||f.type==="loading")return;let F;return b||g||$n?(()=>{if(Qe.current<Pe.current){const fe=new Date().getTime()-Pe.current;Me.current=Me.current-fe}Qe.current=new Date().getTime()})():(()=>{Me.current!==1/0&&(Pe.current=new Date().getTime(),F=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),Cr()},Me.current))})(),()=>clearTimeout(F)},[b,g,f,E,$n,Cr]),O.useEffect(()=>{f.delete&&Cr()},[Cr,f.delete]);function ya(){var F;if(U!=null&&U.loading){var ne;return O.createElement("div",{className:yn(L==null?void 0:L.loader,f==null||(ne=f.classNames)==null?void 0:ne.loader,"sonner-loader"),"data-visible":E==="loading"},U.loading)}return O.createElement(vO,{className:yn(L==null?void 0:L.loader,f==null||(F=f.classNames)==null?void 0:F.loader),visible:E==="loading"})}const Xo=f.icon||(U==null?void 0:U[E])||pO(E);var fs,uo;return O.createElement("li",{tabIndex:0,ref:Be,className:yn(R,z,L==null?void 0:L.toast,f==null||(t=f.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[E],f==null||(r=f.classNames)==null?void 0:r[E]),"data-sonner-toast":"","data-rich-colors":(fs=f.richColors)!=null?fs:S,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":X,"data-promise":!!f.promise,"data-swiped":ae,"data-removed":ge,"data-visible":cr,"data-y-position":dr,"data-x-position":Ln,"data-index":x,"data-front":It,"data-swiping":k,"data-dismissible":I,"data-type":E,"data-invert":co,"data-swipe-out":Z,"data-swipe-direction":V,"data-expanded":!!(b||ee&&X),style:{"--index":x,"--toasts-before":x,"--z-index":v.length-x,"--offset":`${ge?ve:Le.current}px`,"--initial-height":ee?"auto":`${Re}px`,...C,...f.style},onDragEnd:()=>{M(!1),H(null),ur.current=null},onPointerDown:F=>{Kr||!I||(Ve.current=new Date,ue(Le.current),F.target.setPointerCapture(F.pointerId),F.target.tagName!=="BUTTON"&&(M(!0),ur.current={x:F.clientX,y:F.clientY}))},onPointerUp:()=>{var F,ne,G;if(Z||!I)return;ur.current=null;const fe=Number(((F=Be.current)==null?void 0:F.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ae=Number(((ne=Be.current)==null?void 0:ne.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Se=new Date().getTime()-((G=Ve.current)==null?void 0:G.getTime()),Ee=D==="x"?fe:Ae,Ot=Math.abs(Ee)/Se;if(Math.abs(Ee)>=IO||Ot>.11){ue(Le.current),f.onDismiss==null||f.onDismiss.call(f,f),Q(D==="x"?fe>0?"right":"left":Ae>0?"down":"up"),Cr(),W(!0);return}else{var Ue,De;(Ue=Be.current)==null||Ue.style.setProperty("--swipe-amount-x","0px"),(De=Be.current)==null||De.style.setProperty("--swipe-amount-y","0px")}q(!1),M(!1),H(null)},onPointerMove:F=>{var ne,G,fe;if(!ur.current||!I||((ne=window.getSelection())==null?void 0:ne.toString().length)>0)return;const Se=F.clientY-ur.current.y,Ee=F.clientX-ur.current.x;var Ot;const Ue=(Ot=e.swipeDirections)!=null?Ot:LO(B);!D&&(Math.abs(Ee)>1||Math.abs(Se)>1)&&H(Math.abs(Ee)>Math.abs(Se)?"x":"y");let De={x:0,y:0};const pt=gt=>1/(1.5+Math.abs(gt)/20);if(D==="y"){if(Ue.includes("top")||Ue.includes("bottom"))if(Ue.includes("top")&&Se<0||Ue.includes("bottom")&&Se>0)De.y=Se;else{const gt=Se*pt(Se);De.y=Math.abs(gt)<Math.abs(Se)?gt:Se}}else if(D==="x"&&(Ue.includes("left")||Ue.includes("right")))if(Ue.includes("left")&&Ee<0||Ue.includes("right")&&Ee>0)De.x=Ee;else{const gt=Ee*pt(Ee);De.x=Math.abs(gt)<Math.abs(Ee)?gt:Ee}(Math.abs(De.x)>0||Math.abs(De.y)>0)&&q(!0),(G=Be.current)==null||G.style.setProperty("--swipe-amount-x",`${De.x}px`),(fe=Be.current)==null||fe.style.setProperty("--swipe-amount-y",`${De.y}px`)}},te&&!f.jsx&&E!=="loading"?O.createElement("button",{"aria-label":T,"data-disabled":Kr,"data-close-button":!0,onClick:Kr||!I?()=>{}:()=>{Cr(),f.onDismiss==null||f.onDismiss.call(f,f)},className:yn(L==null?void 0:L.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(uo=U==null?void 0:U.close)!=null?uo:jO):null,(E||f.icon||f.promise)&&f.icon!==null&&((U==null?void 0:U[E])!==null||f.icon)?O.createElement("div",{"data-icon":"",className:yn(L==null?void 0:L.icon,f==null||(s=f.classNames)==null?void 0:s.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||ya():null,f.type!=="loading"?Xo:null):null,O.createElement("div",{"data-content":"",className:yn(L==null?void 0:L.content,f==null||(o=f.classNames)==null?void 0:o.content)},O.createElement("div",{"data-title":"",className:yn(L==null?void 0:L.title,f==null||(i=f.classNames)==null?void 0:i.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?O.createElement("div",{"data-description":"",className:yn($,de,L==null?void 0:L.description,f==null||(l=f.classNames)==null?void 0:l.description)},typeof f.description=="function"?f.description():f.description):null),O.isValidElement(f.cancel)?f.cancel:f.cancel&&Kc(f.cancel)?O.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||_,onClick:F=>{Kc(f.cancel)&&I&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,F),Cr())},className:yn(L==null?void 0:L.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,O.isValidElement(f.action)?f.action:f.action&&Kc(f.action)?O.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||P,onClick:F=>{Kc(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,F),!F.defaultPrevented&&Cr())},className:yn(L==null?void 0:L.actionButton,f==null||(u=f.classNames)==null?void 0:u.actionButton)},f.action.label):null)};function xw(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function $O(e,t){const r={};return[e,t].forEach((n,s)=>{const o=s===1,i=o?"--mobile-offset":"--offset",l=o?RO:AO;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}const VO=O.forwardRef(function(t,r){const{invert:n,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:i,closeButton:l,className:c,offset:u,mobileOffset:d,theme:f="light",richColors:m,duration:g,style:y,visibleToasts:p=TO,toastOptions:w,dir:x=xw(),gap:v=MO,icons:b,containerAriaLabel:j="Notifications"}=t,[S,N]=O.useState([]),C=O.useMemo(()=>Array.from(new Set([s].concat(S.filter(V=>V.position).map(V=>V.position)))),[S,s]),[_,P]=O.useState([]),[R,$]=O.useState(!1),[A,B]=O.useState(!1),[Y,ee]=O.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=O.useRef(null),U=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=O.useRef(null),D=O.useRef(!1),H=O.useCallback(V=>{N(Q=>{var X;return(X=Q.find(se=>se.id===V.id))!=null&&X.delete||hr.dismiss(V.id),Q.filter(({id:se})=>se!==V.id)})},[]);return O.useEffect(()=>hr.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{N(Q=>Q.map(X=>X.id===V.id?{...X,delete:!0}:X))});return}setTimeout(()=>{nS.flushSync(()=>{N(Q=>{const X=Q.findIndex(se=>se.id===V.id);return X!==-1?[...Q.slice(0,X),{...Q[X],...V},...Q.slice(X+1)]:[V,...Q]})})})}),[S]),O.useEffect(()=>{if(f!=="system"){ee(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:Q})=>{ee(Q?"dark":"light")})}catch{V.addListener(({matches:X})=>{try{ee(X?"dark":"light")}catch(se){console.error(se)}})}},[f]),O.useEffect(()=>{S.length<=1&&$(!1)},[S]),O.useEffect(()=>{const V=Q=>{var X;if(o.every(le=>Q[le]||Q.code===le)){var ge;$(!0),(ge=L.current)==null||ge.focus()}Q.code==="Escape"&&(document.activeElement===L.current||(X=L.current)!=null&&X.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[o]),O.useEffect(()=>{if(L.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,D.current=!1)}},[L.current]),O.createElement("section",{ref:r,"aria-label":`${j} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((V,Q)=>{var X;const[se,ge]=V.split("-");return S.length?O.createElement("ol",{key:V,dir:x==="auto"?xw():x,tabIndex:-1,ref:L,className:c,"data-sonner-toaster":!0,"data-sonner-theme":Y,"data-y-position":se,"data-lifted":R&&S.length>1&&!i,"data-x-position":ge,style:{"--front-toast-height":`${((X=_[0])==null?void 0:X.height)||0}px`,"--width":`${DO}px`,"--gap":`${v}px`,...y,...$O(u,d)},onBlur:le=>{D.current&&!le.currentTarget.contains(le.relatedTarget)&&(D.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||D.current||(D.current=!0,T.current=le.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{A||$(!1)},onDragEnd:()=>$(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},S.filter(le=>!le.position&&Q===0||le.position===V).map((le,k)=>{var M,Z;return O.createElement(FO,{key:le.id,icons:b,index:k,toast:le,defaultRichColors:m,duration:(M=w==null?void 0:w.duration)!=null?M:g,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:p,closeButton:(Z=w==null?void 0:w.closeButton)!=null?Z:l,interacting:A,position:V,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,closeButtonAriaLabel:w==null?void 0:w.closeButtonAriaLabel,removeToast:H,toasts:S.filter(W=>W.position==le.position),heights:_.filter(W=>W.position==le.position),setHeights:P,expandByDefault:i,gap:v,expanded:R,swipeDirections:t.swipeDirections})})):null}))}),lt=RS((e,t)=>({user:null,session:null,loading:!0,signIn:async(r,n)=>{var s;try{const{error:o,data:i}=await J.auth.signInWithPassword({email:r,password:n});if(o)throw o;e({user:i.user,session:i.session}),console.log("Sign in successful:",(s=i.user)==null?void 0:s.id),K.success("Signed in successfully!")}catch(o){throw console.error("Sign in error:",o),K.error(o.message||"Failed to sign in"),o}},signUp:async(r,n,s={})=>{try{const{error:o,data:i}=await J.auth.signUp({email:r,password:n,options:{data:s.data}});if(o)throw o;e({user:i.user,session:i.session}),K.success("Account created successfully!")}catch(o){throw console.error("Sign up error:",o),K.error(o.message||"Failed to sign up"),o}},signOut:async()=>{try{await J.auth.signOut()}catch(r){if(r.name==="AuthSessionMissingError")console.warn("Session already missing. Forcing client sign-out.");else throw console.error("Sign out error:",r),K.error(r.message||"Failed to sign out"),r}finally{e({user:null,session:null}),K.success("Signed out successfully"),window.location.href="/Zabtt/login"}},initialize:async()=>{try{e({loading:!0});const r=await dO();r?(console.log("Session found during initialization:"),e({user:r.user,session:r})):(console.log("No session found during initialization"),e({user:null,session:null}));const{data:{subscription:n}}=J.auth.onAuthStateChange((s,o)=>{console.log("Auth state changed:"),e({user:(o==null?void 0:o.user)||null,session:o})});e({cleanup:()=>{n.unsubscribe()},loading:!1})}catch(r){console.error("Error initializing auth:",r),K.error("Error initializing authentication. Some features might not work correctly."),e({loading:!1})}},getUserProfile:()=>{var s,o,i;const r=t().user;return r?{id:r.id,firstName:((s=r.user_metadata)==null?void 0:s.first_name)||"",lastName:((o=r.user_metadata)==null?void 0:o.last_name)||"",phoneNumber:((i=r.user_metadata)==null?void 0:i.phone_number)||"",balanceCredits:0,isAdmin:!1,ownerId:null}:null},forgotPassword:async r=>{const n=await fO(r);return n.success?K.success(n.message):K.error(n.message),n},signInWithSocial:async r=>{try{const n=await hO(r);if(!n.success&&n.message)throw K.error(n.message),new Error(n.message)}catch(n){throw console.error(`Sign in with ${r} error:`,n),K.error(n.message||`Failed to sign in with ${r}`),n}},cleanup:()=>{console.log("Default cleanup function called before initialization")}}));lt.getState().initialize();const BO={};function UO(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var o;const i=c=>c===null?null:JSON.parse(c,void 0),l=(o=r.getItem(s))!=null?o:null;return l instanceof Promise?l.then(i):i(l)},setItem:(s,o)=>r.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>r.removeItem(s)}}const Dl=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Dl(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Dl(n)(r)}}}},zO=(e,t)=>(r,n,s)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,x)=>({...x,...w}),...t},i=!1;const l=new Set,c=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...w)},n,s);const d=Dl(o.serialize),f=()=>{const w=o.partialize({...n()});let x;const v=d({state:w,version:o.version}).then(b=>u.setItem(o.name,b)).catch(b=>{x=b});if(x)throw x;return v},m=s.setState;s.setState=(w,x)=>{m(w,x),f()};const g=e((...w)=>{r(...w),f()},n,s);let y;const p=()=>{var w;if(!u)return;i=!1,l.forEach(v=>v(n()));const x=((w=o.onRehydrateStorage)==null?void 0:w.call(o,n()))||void 0;return Dl(u.getItem.bind(u))(o.name).then(v=>{if(v)return o.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return o.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var b;return y=o.merge(v,(b=n())!=null?b:g),r(y,!0),f()}).then(()=>{x==null||x(y,void 0),i=!0,c.forEach(v=>v(y))}).catch(v=>{x==null||x(void 0,v)})};return s.persist={setOptions:w=>{o={...o,...w},w.getStorage&&(u=w.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>i,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(c.add(w),()=>{c.delete(w)})},p(),y||g},WO=(e,t)=>(r,n,s)=>{let o={storage:UO(()=>localStorage),partialize:p=>p,version:0,merge:(p,w)=>({...w,...p}),...t},i=!1;const l=new Set,c=new Set;let u=o.storage;if(!u)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...p)},n,s);const d=()=>{const p=o.partialize({...n()});return u.setItem(o.name,{state:p,version:o.version})},f=s.setState;s.setState=(p,w)=>{f(p,w),d()};const m=e((...p)=>{r(...p),d()},n,s);s.getInitialState=()=>m;let g;const y=()=>{var p,w;if(!u)return;i=!1,l.forEach(v=>{var b;return v((b=n())!=null?b:m)});const x=((w=o.onRehydrateStorage)==null?void 0:w.call(o,(p=n())!=null?p:m))||void 0;return Dl(u.getItem.bind(u))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return[!0,o.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var b;const[j,S]=v;if(g=o.merge(S,(b=n())!=null?b:m),r(g,!0),j)return d()}).then(()=>{x==null||x(g,void 0),g=n(),i=!0,c.forEach(v=>v(g))}).catch(v=>{x==null||x(void 0,v)})};return s.persist={setOptions:p=>{o={...o,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>y(),hasHydrated:()=>i,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},o.skipHydration||y(),g||m},HO=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((BO?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),zO(e,t)):WO(e,t),qO=HO,no=RS()(qO((e,t)=>({items:[],total:0,calculateTotal:r=>r.reduce((n,s)=>n+s.product.price*s.quantity,0),addItem:r=>{const n=t().items,s=n.find(i=>i.product.id===r.id);if(r.status==="inactive"){K.error("This product is currently out of stock");return}let o;s?o=n.map(i=>i.product.id===r.id?{...i,quantity:i.quantity+1}:i):o=[...n,{product:r,quantity:1}],e({items:o,total:t().calculateTotal(o)})},removeItem:r=>{const n=t().items.filter(s=>s.product.id!==r);e({items:n,total:t().calculateTotal(n)})},updateQuantity:(r,n)=>{if(n<1){t().removeItem(r);return}const s=t().items,o=s.find(l=>l.product.id===r);if(o&&o.product.status==="inactive"){K.error("This product is currently out of stock");return}const i=s.map(l=>l.product.id===r?{...l,quantity:n}:l);e({items:i,total:t().calculateTotal(i)})},clearCart:()=>e({items:[],total:0})}),{name:"cart-storage"})),YO={home:"Home",shop:"Shop",about:"About",contact:"Contact",categories:"Categories",shops:"Shops",products:"Products",search:"Search",viewAll:"View All",browseShops:"Browse Shops",searchShops:"Search Shops",loadingShops:"Loading Shops...",noShopsFound:"No shops found",browseProducts:"Browse Products",searchProducts:"Search Products",searchCategories:"Search Brand",loadingProducts:"Loading Products...",noProductsFound:"No products found",addToCart:"Add to Cart",inStock:"In Stock",outOfStock:"Out of Stock",shoppingCart:"Shopping Cart",subtotal:"Subtotal",cart:"Cart",each:"Each",myWishlist:"My Wishlist",number:"+20 1155003537",updateName:"Update Name",shippingTaxes:"Shipping calculated at checkout",checkout:"Checkout",or:"Or",continueShopping:"Continue Shopping",emptyCart:"Your cart is currently empty.",startShopping:"Start adding items to your cart to complete your order.",productNotFound:"Product Not Found",productDoesNotExist:"The product you are looking for does not exist.",backToProducts:"Back to Products",errorFetchingProduct:"Error fetching product details",pleaseLoginToAddToWishlist:"Please login to add items to your wishlist!",removedFromWishlist:"Removed from wishlist!",addedToWishlist:"Added to wishlist!",errorUpdatingWishlist:"Error updating wishlist",shareProduct:"Share Product",linkCopiedToClipboard:"Link copied to clipboard!",errorCopyingToClipboard:"Error copying to clipboard",description:"Description",compatibleWith:"Compatible With",remove:"Remove",quantity:"Quantity",relatedProducts:"Related Products",noRelatedProducts:"No related products found.",shopsNearYou:"Shops Near You",noShopsNearYou:"No shops found near you.",allCategories:"All Categories",selectCategory:"Select Category",clearFilters:"Clear Filters",filter:"Filter",sortBy:"Sort By",priceLowToHigh:"Price: Low to High",priceHighToLow:"Price: High to Low",nameAtoZ:"Name: A to Z",nameZtoA:"Name: Z to A",newestFirst:"Newest First",oldestFirst:"Oldest First",apply:"Apply",reset:"Reset",account:"Account",dashboard:"Dashboard",orders:"Orders",wishlist:"Wishlist",addresses:"Addresses",settings:"Settings",logout:"Logout",login:"Login",register:"Register",email:"Email",password:"Password",forgotPassword:"Forgot Password?",resetPassword:"Reset Password",confirmPassword:"Confirm Password",firstName:"First Name",lastName:"Last Name",phoneNumber:"Phone Number",streetAddress:"Street Address",buildingNumber:"Building Number",floor:"Floor",apartmentNumber:"Apartment Number",district:"District",city:"City",area:"Area",postalCode:"Postal Code",saveAddress:"Save Address",saveAddressFirst:"Please save your address before completing your order",editAddress:"Edit Address",deleteAddress:"Delete Address",newAddress:"New Address",recipientName:"Recipient Name",isDefaultAddress:"Set as Default Address",noAddressesFound:"No addresses found. Add a new address to continue.",orderHistory:"Order History",orderDetails:"Order Details",orderNumber:"Order Number",orderDate:"Order Date",orderStatus:"Order Status",totalAmount:"Total Amount",paymentMethod:"Payment Method",shippingAddress:"Shipping Address",billingAddress:"Billing Address",orderItems:"Order Items",productName:"Product Name",price:"Price",quantityValue:"Quantity",noOrdersFound:"No orders found.",wishlistItems:"Wishlist Items",removeFromWishlist:"Remove from Wishlist",noWishlistItems:"No items in your wishlist. Start adding now!",profileSettings:"Profile Settings",updateProfile:"Update Profile",changePassword:"Change Password",currentPassword:"Current Password",newPassword:"New Password",confirmNewPassword:"Confirm New Password",updatePassword:"Update Password",contactUs:"Contact Us",fullName:"Full Name",message:"Message",sendMessage:"Send Message",aboutUs:"About Us",ourStory:"Our Story",ourMission:"Our Mission",ourVision:"Our Vision",ourValues:"Our Values",ourTeam:"Our Team",ourServices:"Our Services",ourClients:"Our Clients",ourPartners:"Our Partners",ourTestimonials:"Our Testimonials",ourBlog:"Our Blog",ourContactInfo:"Our Contact Info",ourAddress:"Our Address",ourPhone:"Our Phone",ourEmail:"Our Email",ourSocialMedia:"Our Social Media",ourCopyright:"Our Copyright",ourTermsOfService:"Our Terms of Service",ourPrivacyPolicy:"Our Privacy Policy",ourFAQ:"Our FAQ",ourSitemap:"Our Sitemap",cashOnDelivery:"Cash on Delivery",creditCard:"Credit Card",creditCardComingSoon:"Coming Soon",paymentInformation:"Payment Information",cardNumber:"Card Number",expiryDate:"Expiry Date",cvv:"CVV",completeOrder:"Complete Order",processing:"Processing...",cartEmpty:"Your cart is empty!",loginRequired:"You must be logged in to checkout.",pleaseSelectAddress:"Please select a shipping address.",orderSuccess:"Your order has been placed successfully!",orderError:"There was an error placing your order.",contactInformation:"Contact Information",shippingInformation:"Shipping Information",emailAddress:"Email Address",shipping:"Shipping",discount:"Discount",applyCoupon:"Apply Coupon",enterCouponCode:"Enter coupon code",invalidCoupon:"Invalid coupon code",couponApplied:"Coupon applied!",noProductsMatching:"No products matching",inThisShop:"in this shop",noProductsAvailable:"No products available",maxStockReached:"Maximum stock reached",brandName:"Zabtt",models:"Models",searchPlaceholder:"Search for parts , shops , model Or Product number ...",youMayAlsoLike:"Frequently Ordered Together",productType:"Type",topBrands:"Top Brands",findPartsByBrand:"Find Your Part",forYourCar:"for your car",searching:"Searching...",viewAllResults:"View all results",noResults:"No results found for",browseModels:"Browse Models",allShops:"All Shops",filterByModels:"Filter by Model",allModels:"All Models",myOrders:"My Orders",pending:"Pending",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled",returnHome:"Return Home",noOrders:"No orders yet",selectOrderToViewDetails:"Select an order to view details",reorder:"Reorder",findPerfectParts:"Find the perfect parts ",back:"Back",browseThousands:"Browse thousands of car parts from trusted shops.",for:"For",reorderSuccess:"All items from your previous order have been added to your cart",reorderPartial:"Some items from your order have been added to cart. Others are currently unavailable.",reorderNoProducts:"Sorry, none of the items from your order are currently available",reorderError:"There was an error reordering. Please try again.",loadMore:"Load More",personalInformation:"Personal Information",notProvided:"Not Provided",quickActions:"Quick Actions",myCart:"My Cart",editProfile:"Edit Profile",saveChanges:"Save Changes",updatePhoneNumber:"Update Phone Number",phoneUpdated:"Phone number updated successfully",phoneUpdateError:"Failed to update phone number",applying:"Applying...",errorApplyingCoupon:"Error applying coupon",total:"Total",address:"Address",save:"Save",edit:"Edit",welcomeBack:"Welcome Back",signIn:"Sign In",signingIn:"Signing In...",dontHaveAccount:"Don't have an account?",createAccountNow:"Create account now",joinOurCommunity:"Join Our Community",createAccount:"Create Account",creatingYourAccount:"Creating your account...",alreadyHaveAccount:"Already have an account?",signInToYourAccount:"Sign in to your account",getInTouch:"Get in Touch With Our Team",yourName:"Your Name",yourEmail:"Your Email",subject:"Subject",sending:"Sending...",messageSent:"Your message has been sent! We'll get back to you soon.",phone:"Phone",followUs:"Follow Us",carDescription:"Your one-stop shop for car parts and accessories in Egypt.",quickLinks:"Quick Links",customerService:"Customer Service",connectWithUs:"Connect With Us",allRightsReserved:"All Rights Reserved",faq:"FAQ",termsAndConditions:"Terms and Conditions",resetYourPassword:"Reset Your Password",enterEmailInstructions:"Enter your email address and we'll send you a link to reset your password",checkYourEmail:"Check Your Email",resetLinkSent:"We've sent a password reset link to your email",backToLogin:"Back to Login",sendResetLink:"Send Reset Link",errorSendingResetLink:"Error sending reset link",invalidEmailAddress:"Invalid email address",invalidOrExpiredResetLink:"Invalid or expired reset link",createNewPassword:"Create New Password",enterNewPasswordBelow:"Enter your new password below",updating:"Updating...",passwordResetSuccess:"Password reset successfully",passwordResetFailed:"Failed to reset password",passwordStrength:"Password Strength",weak:"Weak",medium:"Medium",strong:"Strong",passwordsDontMatch:"Passwords don't match",passwordTooShort:"Password must be at least 8 characters long",passwordTooWeak:"Password is too weak",signingInWithGoogle:"Signing in with Google...",signingInWithFacebook:"Signing in with Facebook...",signingUpWithGoogle:"Signing up with Google...",signingUpWithFacebook:"Signing up with Facebook...",signInWithGoogle:"Sign in with Google",signInWithFacebook:"Sign in with Facebook",signUpWithGoogle:"Sign up with Google",signUpWithFacebook:"Sign up with Facebook",orContinueWith:"Or continue with","Sign in":"Sign in","Sign in With Google":"Sign in With Google","Sign in With Facebook":"Sign in With Facebook","Forgot Password ?":"Forgot Password?","Sign in Your Account":"Sign in Your Account","Dont Have Account?":"Don't Have Account?","Create Account":"Create Account","Or Continue With":"Or Continue With","Accept Terms":"Accept Terms","Terms and Conditions":"Terms and Conditions",savedAddresses:"Saved Addresses",addNewAddress:"Add New Address",noSavedAddresses:"No saved addresses yet",addYourFirstAddress:"Add your first address",addressName:"Address Name",apartment:"Apartment, suite, etc.",state:"State",zipCode:"Zip Code",country:"Country",primary:"Primary",makeDefaultAddress:"Make default address",defaultAddress:"Default Address",cancel:"Cancel",addressDeleted:"Address deleted successfully",confirmDeleteAddress:"Are you sure you want to delete this address?",yes:"Yes",no:"No",defaultAddressChanged:"Default address changed",frequentlyAskedQuestions:"Frequently Asked Questions",faqIntro:"Find answers to the most common questions about our services and products.",faqQuestion1:"How do I place an order?",faqAnswer1:"You can place an order by browsing our categories, selecting the products you need, and adding them to your cart. Once you've added all desired items, proceed to checkout and follow the steps to complete your purchase.",faqQuestion2:"What payment methods do you accept?",faqAnswer2:"We currently accept cash on delivery only as a payment method. Payment by credit or debit card is not available at this time.",faqQuestion3:"Can I return parts I've purchased?",faqAnswer3:"Yes, we offer a 24-hour return policy. If you're not satisfied with your purchase, you can return it within 24 hours of delivery. The product must be in its original condition and packaging. Please contact customer service to initiate the return process.",faqQuestion4:"How can I track my order?",faqAnswer4:"Once your order has been shipped, you will receive a tracking number via email or SMS. You can use this number on our website to track the current status of your delivery.",faqQuestion5:"Do you offer international shipping?",faqAnswer5:"Currently, we only offer shipping within Egypt. We are working on expanding our shipping capabilities to serve more customers internationally in the future.",stillHaveQuestions:"Still have questions?",contactUsMessage:"Our customer support team is available to help you with any questions or concerns.",pageNotFound:"Page Not Found",pageDoesntExist:"The page you're looking for doesn't exist or has been moved.",featuredProducts:"Featured Products",featuredShops:"Featured Shops",enhancedWelcomeBackMessage:` 
 How can i Help u Today??`,enhancedWelcomeMessage:`
 How can i Help u Today?? `,shopNow:"Shop Now",findShops:"Find a Shop",findParts:"Find a Part",selectBrand:"Select Brand",selectModel:"Select Model",selectYear:"Select Year"},GO={home:"",shop:"",about:" ",contact:" ",categories:"",shops:"",products:"",search:"",viewAll:" ",browseShops:" ",searchShops:"  ",loadingShops:"  ...",noShopsFound:"    ",browseProducts:" ",searchProducts:"  ",searchCategories:"  ",loadingProducts:"  ...",noProductsFound:"    ",addToCart:"  ",inStock:"",outOfStock:" ",shoppingCart:" ",subtotal:" ",cart:"",each:"",myWishlist:" ",number:"",updateName:" ",shippingTaxes:"    ",checkout:"   ",or:"",continueShopping:" ",emptyCart:"  ",startShopping:"      ",productNotFound:"  ",productDoesNotExist:"     ",backToProducts:"  ",errorFetchingProduct:"     ",pleaseLoginToAddToWishlist:"       !",removedFromWishlist:"     !",addedToWishlist:"     !",errorUpdatingWishlist:"     ",shareProduct:" ",linkCopiedToClipboard:"    !",errorCopyingToClipboard:"     ",description:"",compatibleWith:" ",remove:"",quantity:"",relatedProducts:"  ",noRelatedProducts:"      .",shopsNearYou:"  ",noShopsNearYou:"      .",allCategories:" ",selectCategory:" ",clearFilters:" ",filter:"",sortBy:" ",priceLowToHigh:":    ",priceHighToLow:":    ",nameAtoZ:":    ",nameZtoA:":    ",newestFirst:" ",oldestFirst:" ",apply:"",reset:" ",account:"",dashboard:" ",orders:"",wishlist:"",addresses:"",settings:"",logout:" ",login:" ",register:"",email:" ",password:" ",forgotPassword:"  ",resetPassword:"   ",confirmPassword:"  ",firstName:" ",lastName:" ",phoneNumber:" ",streetAddress:" ",buildingNumber:" ",floor:"",apartmentNumber:" ",district:"",city:"",area:"",postalCode:" ",saveAddress:" ",saveAddressFirst:"     ",creditCardComingSoon:"Coming Soon",editAddress:" ",deleteAddress:" ",newAddress:" ",recipientName:" ",isDefaultAddress:"  ",noAddressesFound:"    .    .",orderHistory:" ",orderDetails:" ",orderNumber:" ",orderDate:" ",orderStatus:" ",totalAmount:" ",paymentMethod:" ",shippingAddress:" ",billingAddress:" ",orderItems:" ",productName:" ",price:"",quantityValue:"",noOrdersFound:"    .",wishlistItems:" ",removeFromWishlist:"  ",noWishlistItems:"    .   !",profileSettings:"  ",updateProfile:"  ",changePassword:"  ",currentPassword:"  ",newPassword:"  ",confirmNewPassword:"   ",updatePassword:"  ",contactUs:" ",fullName:" ",message:"",sendMessage:" ",aboutUs:" ",ourStory:"",ourMission:"",ourVision:"",ourValues:"",ourTeam:"",ourServices:"",ourClients:"",ourPartners:"",ourTestimonials:" ",ourBlog:"",ourContactInfo:"  ",ourAddress:"",ourPhone:"",ourEmail:" ",ourSocialMedia:"  ",ourCopyright:" ",ourTermsOfService:" ",ourPrivacyPolicy:" ",ourFAQ:" ",ourSitemap:" ",cashOnDelivery:"  ",creditCard:" ",paymentInformation:" ",cardNumber:" ",expiryDate:" ",cvv:" ",completeOrder:" ",processing:" ...",cartEmpty:" !",loginRequired:"     .",pleaseSelectAddress:"   .",orderSuccess:"   !",orderError:"    .",contactInformation:" ",shippingInformation:" ",emailAddress:"  ",shipping:"",discount:"",applyCoupon:" ",enterCouponCode:"  ",invalidCoupon:"   ",couponApplied:"  !",noProductsMatching:"   ",inThisShop:"  ",noProductsAvailable:"   ",maxStockReached:"     ",brandName:"",models:"",searchPlaceholder:"        ...",youMayAlsoLike:"    ",productType:"",topBrands:"  ",findPartsByBrand:"  ",forYourCar:"",back:"",shopNow:" ",findShops:"  ",searching:" ...",viewAllResults:"  ",noResults:"     ",browseModels:" ",allShops:" ",filterByModels:"  ",allModels:" ",for:"",myOrders:"",pending:" ",shipped:" ",delivered:" ",cancelled:" ",returnHome:"  ",noOrders:"    ",selectOrderToViewDetails:"   ",reorder:" ",findPerfectParts:"    ",browseThousands:"       .",reorderSuccess:"         ",reorderPartial:"        .     .",reorderNoProducts:"        ",reorderError:"    .    .",loadMore:" ",personalInformation:" ",notProvided:" ",quickActions:" ",myCart:" ",editProfile:"  ",saveChanges:" ",updatePhoneNumber:"  ",phoneUpdated:"    ",phoneUpdateError:"   ",applying:" ...",errorApplyingCoupon:"   ",total:"",address:"",save:"",edit:"",welcomeBack:" ",signIn:" ",signingIn:"  ...",dontHaveAccount:"  ",createAccountNow:"  ",joinOurCommunity:"  ",createAccount:" ",creatingYourAccount:"  ...",alreadyHaveAccount:"  ",signInToYourAccount:"   ",getInTouch:"  ",yourName:"",yourEmail:" ",subject:"",sending:" ...",messageSent:"  !   .",phone:"",followUs:"",carDescription:"       .",quickLinks:" ",customerService:" ",connectWithUs:" ",allRightsReserved:"  ",faq:" ",termsAndConditions:" ",resetYourPassword:"   ",enterEmailInstructions:"          ",checkYourEmail:"   ",resetLinkSent:"         ",backToLogin:"   ",sendResetLink:"   ",errorSendingResetLink:"     ",invalidEmailAddress:"    ",invalidOrExpiredResetLink:"       ",createNewPassword:"   ",enterNewPasswordBelow:"    ",updating:" ...",passwordResetSuccess:"     ",passwordResetFailed:"     ",passwordStrength:"  ",weak:"",medium:"",strong:"",passwordsDontMatch:"   ",passwordTooShort:"     8   ",passwordTooWeak:"   ",signingInWithGoogle:"    ...",signingInWithFacebook:"    ...",signingUpWithGoogle:"   ...",signingUpWithFacebook:"   ...",signInWithGoogle:"   ",signInWithFacebook:"   ",signUpWithGoogle:"  ",signUpWithFacebook:"  ",orContinueWith:"  ","Sign in":" ","Sign in With Google":"   ","Sign in With Facebook":"   ","Forgot Password ?":"  ","Sign in Your Account":"   ","Dont Have Account?":"  ","Create Account":" ","Or Continue With":"  ","Accept Terms":" ","Terms and Conditions":" ",savedAddresses:" ",addNewAddress:"  ",noSavedAddresses:"     ",addYourFirstAddress:"  ",addressName:" ",apartment:"  .",state:"",zipCode:" ",country:"",primary:"",makeDefaultAddress:"  ",defaultAddress:" ",cancel:"",addressSaved:"   ",addressDeleted:"   ",confirmDeleteAddress:"       ",yes:"",no:"",defaultAddressChanged:"   ",frequentlyAskedQuestions:" ",faqIntro:"        .",faqQuestion1:"   ?",faqAnswer1:"                .             .",faqQuestion2:"     ",faqAnswer2:"       .           .",faqQuestion3:"     ",faqAnswer3:"     24 .           24   .        .       .",faqQuestion4:"   ",faqAnswer4:"           .            .",faqQuestion5:"   ",faqAnswer5:"     .              .",stillHaveQuestions:"    ",contactUsMessage:"          .",pageNotFound:"  ",pageDoesntExist:"        .",featuredProducts:" ",featuredShops:"",findParts:"  ",selectBrand:"  ",selectModel:"  ",selectYear:"  "},ct={en:YO,ar:GO},KO={language:"ar",t:e=>e.toString(),changeLanguage:()=>{}},nN=h.createContext(KO),we=()=>h.useContext(nN),QO=({children:e})=>{const t=()=>localStorage.getItem("language")||"ar",[r,n]=h.useState(t);h.useEffect(()=>{document.documentElement.dir=r==="ar"?"rtl":"ltr",document.documentElement.lang=r,localStorage.setItem("language",r),r==="ar"?document.body.classList.add("rtl"):document.body.classList.remove("rtl")},[r]);const s=i=>typeof i=="string"?i==="estimatedDelivery"&&!ct[r].estimatedDelivery?r==="en"?"Est. delivery":" ":i==="acceptedWithin"&&!ct[r].acceptedWithin?r==="en"?"Accepted within":" ":i==="days"&&!ct[r].days?r==="en"?"days":"":i==="buyerPaysReturnShipping"&&!ct[r].buyerPaysReturnShipping?r==="en"?"Buyer pays return shipping.":"   .":i==="condition"&&!ct[r].condition?r==="en"?"Condition":"":i==="new"&&!ct[r].new?r==="en"?"New":"":i==="buyItNow"&&!ct[r].buyItNow?r==="en"?"Buy It Now":" ":i==="seeAllDetails"&&!ct[r].seeAllDetails?r==="en"?"See all details":"  ":i==="aboutThisProduct"&&!ct[r].aboutThisProduct?r==="en"?"About this product":"  ":i==="brand"&&!ct[r].brand?r==="en"?"Brand":" ":i==="shipping"&&!ct[r].shipping?r==="en"?"shipping":"":i==="returns"&&!ct[r].returns?r==="en"?"Returns":"":i==="positive feedback"&&!ct[r]["positive feedback"]?r==="en"?"positive feedback":" ":i==="thankYouForRating"&&!ct[r].thankYouForRating?r==="en"?"Thank you for your rating!":"  !":i==="ratings"&&!ct[r].ratings?r==="en"?"ratings":"":i==="specifications"&&!ct[r].specifications?r==="en"?"Specifications":"":i==="shareProduct"&&!ct[r].shareProduct?r==="en"?"Share Product":" ":i==="soldBy"&&!ct[r].soldBy?r==="en"?"Sold by":" ":i==="unavailable"&&!ct[r].unavailable?r==="en"?"Unavailable":" ":i==="orderSummary"&&!ct[r].orderSummary?r==="en"?"Order Summary":" ":i==="tax"&&!ct[r].tax?r==="en"?"Tax":"":ct[r][i]||i:ct[r][i]||String(i),o=i=>{n(i)};return a.jsx(nN.Provider,{value:{language:r,t:s,changeLanguage:o},children:e})};function XO(){const{t:e}=we();return a.jsx("div",{className:"flex flex-shrink-0 items-center",children:a.jsxs(_e,{to:"/",className:"flex items-center",children:[a.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-2",children:[a.jsx("rect",{width:"40",height:"40",rx:"8",fill:"url(#paint0_linear)"}),a.jsx("path",{d:"M10 25C10 22.2386 12.2386 20 15 20H25C27.7614 20 30 22.2386 30 25V28C30 29.1046 29.1046 30 28 30H12C10.8954 30 10 29.1046 10 28V25Z",fill:"white"}),a.jsx("circle",{cx:"15",cy:"25",r:"2",fill:"#3B82F6"}),a.jsx("circle",{cx:"25",cy:"25",r:"2",fill:"#3B82F6"}),a.jsx("path",{d:"M11 18L15 10H25L29 18",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("defs",{children:a.jsxs("linearGradient",{id:"paint0_linear",x1:"0",y1:"0",x2:"40",y2:"40",gradientUnits:"userSpaceOnUse",children:[a.jsx("stop",{stopColor:"#3B82F6"}),a.jsx("stop",{offset:"1",stopColor:"#1E40AF"})]})})]}),a.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-blue-500 bg-clip-text text-transparent",children:e("brandName")})]})})}function jo(...e){return e.filter(Boolean).join(" ")}function ZO({navigation:e,isCurrentPath:t}){return a.jsx("div",{className:"hidden sm:ml-10 sm:flex sm:space-x-8",children:e.map(r=>a.jsx(_e,{to:r.href,className:jo(t(r.href)?"border-indigo-500 text-indigo-600 font-semibold before:absolute before:inset-x-0 before:bottom-0 before:h-0.5 before:bg-indigo-600 before:transform before:origin-left before:transition-transform before:duration-200 before:scale-x-100":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 before:absolute before:inset-x-0 before:bottom-0 before:h-0.5 before:bg-gray-300 before:transform before:origin-left before:transition-transform before:duration-200 before:scale-x-0 hover:before:scale-x-100","navbar-text relative inline-flex items-center px-1 pt-1 text-sm font-medium transition-colors duration-200"),children:r.name},r.name))})}function JO({navigation:e,isCurrentPath:t,user:r,signOut:n}){const{t:s}=we();return a.jsxs(Xr.Panel,{className:"sm:hidden",children:[a.jsx("div",{className:"space-y-1 pb-3 pt-2",children:e.map(o=>a.jsx(Xr.Button,{as:_e,to:o.href,className:jo(t(o.href)?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700","block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200"),children:o.name},o.name))}),r?a.jsx("div",{className:"border-t border-gray-200 pb-3 pt-4",children:a.jsxs("div",{className:"mt-3 space-y-1",children:[a.jsx(Xr.Button,{as:_e,to:"/profile",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800",children:s("profile")}),a.jsx(Xr.Button,{as:_e,to:"/wishlist",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800",children:s("wishlist")}),a.jsx(Xr.Button,{as:_e,to:"/saved-addresses",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800",children:s("savedAddresses")}),a.jsx(Xr.Button,{as:_e,to:"/orders",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800",children:s("orders")}),a.jsx(Xr.Button,{as:"button",onClick:n,className:"block px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800",children:s("logout")})]})}):a.jsx("div",{className:"border-t border-gray-200 pt-4 pb-3",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx(Xr.Button,{as:_e,to:"/login",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800",children:s("login")}),a.jsx(Xr.Button,{as:_e,to:"/register",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800",children:s("register")})]})})]})}function ww({cartItemCount:e,items:t,total:r,isMobile:n=!1}){const{t:s}=we();return n?a.jsxs(_e,{to:"/cart",className:"relative p-2 text-gray-600",children:[a.jsx(Jx,{className:"h-6 w-6"}),e>0&&a.jsx("span",{className:"absolute -top-2 -right-2 flex h-5 w-5 items-center justify-center rounded-full bg-indigo-600 text-xs font-bold text-white ring-2 ring-white",children:e})]}):a.jsx(_e,{to:"/cart/",className:"group relative p-2 text-gray-600 hover:text-gray-900 transition-colors duration-200",children:a.jsxs("div",{className:"relative",children:[a.jsx(Jx,{className:"h-6 w-6"}),e>0&&a.jsxs("div",{className:"absolute -top-2 -right-2",children:[a.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-indigo-600 text-xs font-bold text-white ring-2 ring-white",children:e}),a.jsx("div",{className:"hidden group-hover:block absolute top-full right-0 w-64 mt-3",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl py-4 px-4 border border-gray-100 cart-dropdown",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:s("shoppingCart")}),a.jsx("div",{className:"space-y-2",children:t.map(o=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 truncate",children:o.product.name}),a.jsxs("span",{className:"text-gray-900",children:["x",o.quantity]})]},o.product.id))}),a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsxs("span",{children:[s("subtotal"),":"]}),a.jsx("span",{className:"text-indigo-600",children:r.toFixed(2)})]})}),a.jsx(_e,{to:"/cart",className:"mt-3 block w-full text-center bg-indigo-600 text-white text-sm font-medium py-2 px-4 rounded-md hover:bg-indigo-700 transition-colors duration-200",children:s("cart")})]})})]})]})})}function eL({user:e,signOut:t}){const{t:r}=we();return a.jsxs(ms,{as:"div",className:"relative ml-3",children:[a.jsx(ms.Button,{className:"flex rounded-full bg-white ring-2 ring-gray-200 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:a.jsx("img",{className:"h-8 w-8 rounded-full",src:`https://ui-avatars.com/api/?name=${e.email}&background=random`,alt:""})}),a.jsx(kS,{as:h.Fragment,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:a.jsxs(ms.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-lg bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[a.jsx(ms.Item,{children:({active:n})=>a.jsx(_e,{to:"/profile",className:jo(n?"bg-gray-50":"","block px-4 py-2 text-sm text-gray-700"),children:r("profile")})}),a.jsx(ms.Item,{children:({active:n})=>a.jsx(_e,{to:"/wishlist",className:jo(n?"bg-gray-50":"","block px-4 py-2 text-sm text-gray-700"),children:r("wishlist")})}),a.jsx(ms.Item,{children:({active:n})=>a.jsx(_e,{to:"/saved-addresses",className:jo(n?"bg-gray-50":"","block px-4 py-2 text-sm text-gray-700"),children:r("savedAddresses")})}),a.jsx(ms.Item,{children:({active:n})=>a.jsx(_e,{to:"/orders",className:jo(n?"bg-gray-50":"","block px-4 py-2 text-sm text-gray-700"),children:r("orders")})}),a.jsx(ms.Item,{children:({active:n})=>a.jsx("button",{onClick:t,className:jo(n?"bg-gray-50":"","block w-full text-left px-4 py-2 text-sm text-gray-700"),children:r("logout")})})]})})]})}function tL(){const{t:e,language:t}=we();return a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(_e,{to:"/login",className:"text-gray-500 hover:text-gray-900 font-medium transition-colors duration-200",children:e("signIn")}),a.jsx(_e,{to:"/register",className:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-indigo-700 transition-colors duration-200 shadow-md hover:shadow-lg",children:e("createAccount")})]})}/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sN=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...l},c)=>h.createElement("svg",{ref:c,...nL,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:sN("lucide",s),...l},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,t)=>{const r=h.forwardRef(({className:n,...s},o)=>h.createElement(sL,{ref:o,iconNode:t,className:sN(`lucide-${rL(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Yo=be("ArrowLeft",oL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],aL=be("ArrowRight",iL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M12 6V2H8",key:"1155em"}],["path",{d:"m8 18-4 4V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2Z",key:"w2lp3e"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M9 11v2",key:"1ueba0"}],["path",{d:"M15 11v2",key:"i11awn"}],["path",{d:"M20 12h2",key:"1q8mjw"}]],Yh=be("BotMessageSquare",lL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],bw=be("Bot",cL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],jw=be("Building",uL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ap=be("Calendar",dL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],oc=be("Car",fL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ml=be("Check",hL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ic=be("ChevronDown",mL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],oN=be("ChevronLeft",pL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ac=be("ChevronRight",gL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],iN=be("ChevronUp",vL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xL=be("CircleCheckBig",yL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],bL=be("CircleX",wL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],SL=be("Clock",jL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Sw=be("CreditCard",NL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]],kL=be("DoorOpen",CL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],EL=be("Ellipsis",_L);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TL=be("Eye",PL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],aN=be("Facebook",AL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],lN=be("Funnel",RL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ML=be("Globe",DL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Il=be("Heart",IL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Nw=be("House",OL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ts=be("Image",LL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],$L=be("Layers",FL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],gf=be("LoaderCircle",VL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Rp=be("Lock",BL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],vf=be("Mail",UL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Do=be("MapPin",zL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],HL=be("Map",WL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],YL=be("MessageCircle",qL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],KL=be("Mic",GL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["path",{d:"M5 12h14",key:"1ays0h"}]],F0=be("Minus",QL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],ZL=be("Navigation",XL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],e6=be("PackageCheck",JL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],Cw=be("Paperclip",t6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],yf=be("Phone",r6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ki=be("Plus",n6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],cN=be("RefreshCw",s6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],i6=be("Save",o6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Qt=be("Search",a6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],uN=be("Send",l6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qc=be("Settings",c6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],kw=be("Share2",u6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],f6=be("Shield",d6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],m6=be("ShoppingBag",h6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],dN=be("ShoppingCart",p6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],v6=be("Sparkles",g6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],x6=be("SquarePen",y6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Dp=be("Star",w6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Xc=be("Tag",b6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],S6=be("ThumbsDown",j6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],C6=be("ThumbsUp",N6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],lc=be("Trash2",k6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fN=be("TriangleAlert",_6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Mp=be("Truck",E6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_w=be("User",P6);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rr=be("X",T6),Ew=({className:e=""})=>{const{language:t,changeLanguage:r}=we(),n=()=>{const s=t==="ar"?"en":"ar";r(s),localStorage.setItem("language",s)};return h.useEffect(()=>{const s=localStorage.getItem("language");if(s)r(s);else{const o="ar";r(o),localStorage.setItem("language",o)}},[]),a.jsxs("button",{onClick:n,className:`navbar-text flex items-center text-gray-500 hover:text-gray-700 transition ${e}`,"aria-label":t==="en"?"Switch to Arabic":"Switch to English",children:[a.jsx(ML,{className:`w-5 h-5 mr-1 ${t==="ar"?"rotate-180":""} transition`}),a.jsx("span",{className:"text-sm font-medium",children:t==="en"?"":"English"})]})};function $0(e){const[t,r]=h.useState({products:[],shops:[],carModels:[],loading:!1,error:null});return h.useEffect(()=>{async function n(){if(!e.trim()){r({products:[],shops:[],carModels:[],loading:!1,error:null});return}r(o=>({...o,loading:!0,error:null}));try{const{data:o,error:i}=await J.from("products").select(`
            *,
            categories (name),
            product_car_models (
              car_models (
                make,
                model,
                year_start,
                year_end
              )
            )
          `).or(`name.ilike.%${e}%,product_number.ilike.%${e}%`).eq("status","active").order("name").limit(5);if(i)throw i;const{data:l,error:c}=await J.from("shops").select(`
            *,
            shop_categories (
              categories (name)
            )
          `).ilike("name",`%${e}%`).order("name").limit(5);if(c)throw c;const{data:u,error:d}=await J.from("car_models").select("*").or(`make.ilike.%${e}%,model.ilike.%${e}%`).order("make",{ascending:!0}).order("model",{ascending:!0}).limit(5);if(d)throw d;r({products:o.map(f=>{var m,g;return{id:f.id,shopId:f.shop_id,name:f.name,description:f.description||"",price:f.price,image:f.image||"https://via.placeholder.com/500",category:((m=f.categories)==null?void 0:m.name)||"Uncategorized",compatibility:((g=f.product_car_models)==null?void 0:g.map(y=>{const p=y.car_models;return`${p.make} ${p.model} (${p.year_start}${p.year_end?`-${p.year_end}`:"+"})`}))||[],stock:f.stock,type:f.type||"Other",productNumber:f.product_number||`CP-${f.id.substring(0,5)}`,status:f.status||"active"}}),shops:l.map(f=>{var m;return{id:f.id,name:f.name,description:f.description||"",logo:f.logo||"https://via.placeholder.com/500",categories:((m=f.shop_categories)==null?void 0:m.map(g=>{var y;return(y=g.categories)==null?void 0:y.name}).filter(g=>!!g))||[],rating:f.rating||0,reviewCount:f.review_count||0}}),carModels:u.map(f=>({id:f.id,make:f.make,model:f.model,yearStart:f.year_start,yearEnd:f.year_end||void 0})),loading:!1,error:null})}catch(o){r(i=>({...i,loading:!1,error:o instanceof Error?o:new Error("Failed to perform search")}))}}const s=setTimeout(n,300);return()=>clearTimeout(s)},[e]),t}function Pw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function hN(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Pw(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Pw(e[s],null)}}}}function Ie(...e){return h.useCallback(hN(...e),e)}var rs=h.forwardRef((e,t)=>{const{children:r,...n}=e,s=h.Children.toArray(r),o=s.find(A6);if(o){const i=o.props.children,l=s.map(c=>c===o?h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null:c);return a.jsx(Ip,{...n,ref:t,children:h.isValidElement(i)?h.cloneElement(i,void 0,l):null})}return a.jsx(Ip,{...n,ref:t,children:r})});rs.displayName="Slot";var Ip=h.forwardRef((e,t)=>{const{children:r,...n}=e;if(h.isValidElement(r)){const s=D6(r),o=R6(n,r.props);return r.type!==h.Fragment&&(o.ref=t?hN(t,s):s),h.cloneElement(r,o)}return h.Children.count(r)>1?h.Children.only(null):null});Ip.displayName="SlotClone";var V0=({children:e})=>a.jsx(a.Fragment,{children:e});function A6(e){return h.isValidElement(e)&&e.type===V0}function R6(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function D6(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function mN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=mN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function pN(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=mN(e))&&(n&&(n+=" "),n+=t);return n}const Tw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Aw=pN,cc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Aw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const m=Tw(d)||Tw(f);return s[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:m,...g}=d;return Object.entries(g).every(y=>{let[p,w]=y;return Array.isArray(w)?w.includes({...o,...l}[p]):{...o,...l}[p]===w})?[...u,f,m]:u},[]);return Aw(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},B0="-",M6=e=>{const t=O6(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(B0);return l[0]===""&&l.length!==1&&l.shift(),gN(l,t)||I6(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},gN=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?gN(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(B0);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Rw=/^\[(.+)\]$/,I6=e=>{if(Rw.test(e)){const t=Rw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},O6=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const s in r)Op(r[s],n,s,t);return n},Op=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Dw(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(L6(s)){Op(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Op(i,Dw(t,o),r,n)})})},Dw=(e,t)=>{let r=e;return t.split(B0).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},L6=e=>e.isThemeGetter,F6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},Lp="!",Fp=":",$6=Fp.length,V6=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=s=>{const o=[];let i=0,l=0,c=0,u;for(let y=0;y<s.length;y++){let p=s[y];if(i===0&&l===0){if(p===Fp){o.push(s.slice(c,y)),c=y+$6;continue}if(p==="/"){u=y;continue}}p==="["?i++:p==="]"?i--:p==="("?l++:p===")"&&l--}const d=o.length===0?s:s.substring(c),f=B6(d),m=f!==d,g=u&&u>c?u-c:void 0;return{modifiers:o,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:g}};if(t){const s=t+Fp,o=n;n=i=>i.startsWith(s)?o(i.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(r){const s=n;n=o=>r({className:o,parseClassName:s})}return n},B6=e=>e.endsWith(Lp)?e.substring(0,e.length-1):e.startsWith(Lp)?e.substring(1):e,U6=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const s=[];let o=[];return n.forEach(i=>{i[0]==="["||t[i]?(s.push(...o.sort(),i),o=[]):o.push(i)}),s.push(...o.sort()),s}},z6=e=>({cache:F6(e.cacheSize),parseClassName:V6(e),sortModifiers:U6(e),...M6(e)}),W6=/\s+/,H6=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:o}=t,i=[],l=e.trim().split(W6);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:m,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:p}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let w=!!p,x=n(w?y.substring(0,p):y);if(!x){if(!w){c=d+(c.length>0?" "+c:c);continue}if(x=n(y),!x){c=d+(c.length>0?" "+c:c);continue}w=!1}const v=o(m).join(":"),b=g?v+Lp:v,j=b+x;if(i.includes(j))continue;i.push(j);const S=s(x,w);for(let N=0;N<S.length;++N){const C=S[N];i.push(b+C)}c=d+(c.length>0?" "+c:c)}return c};function q6(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=vN(t))&&(n&&(n+=" "),n+=r);return n}const vN=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=vN(e[n]))&&(r&&(r+=" "),r+=t);return r};function Y6(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=z6(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=H6(c,r);return s(c,d),d}return function(){return o(q6.apply(null,arguments))}}const Tt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},yN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,xN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,G6=/^\d+\/\d+$/,K6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Q6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,X6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Z6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,J6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ri=e=>G6.test(e),Fe=e=>!!e&&!Number.isNaN(Number(e)),ho=e=>!!e&&Number.isInteger(Number(e)),Mw=e=>e.endsWith("%")&&Fe(e.slice(0,-1)),gs=e=>K6.test(e),eF=()=>!0,tF=e=>Q6.test(e)&&!X6.test(e),U0=()=>!1,rF=e=>Z6.test(e),nF=e=>J6.test(e),sF=e=>!ye(e)&&!xe(e),oF=e=>ua(e,jN,U0),ye=e=>yN.test(e),mo=e=>ua(e,SN,tF),Gh=e=>ua(e,gF,Fe),iF=e=>ua(e,wN,U0),aF=e=>ua(e,bN,nF),lF=e=>ua(e,U0,rF),xe=e=>xN.test(e),Zc=e=>da(e,SN),cF=e=>da(e,vF),uF=e=>da(e,wN),dF=e=>da(e,jN),fF=e=>da(e,bN),hF=e=>da(e,yF,!0),ua=(e,t,r)=>{const n=yN.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},da=(e,t,r=!1)=>{const n=xN.exec(e);return n?n[1]?t(n[1]):r:!1},wN=e=>e==="position",mF=new Set(["image","url"]),bN=e=>mF.has(e),pF=new Set(["length","size","percentage"]),jN=e=>pF.has(e),SN=e=>e==="length",gF=e=>e==="number",vF=e=>e==="family-name",yF=e=>e==="shadow",xF=()=>{const e=Tt("color"),t=Tt("font"),r=Tt("text"),n=Tt("font-weight"),s=Tt("tracking"),o=Tt("leading"),i=Tt("breakpoint"),l=Tt("container"),c=Tt("spacing"),u=Tt("radius"),d=Tt("shadow"),f=Tt("inset-shadow"),m=Tt("drop-shadow"),g=Tt("blur"),y=Tt("perspective"),p=Tt("aspect"),w=Tt("ease"),x=Tt("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],N=()=>[xe,ye,c],C=()=>[ri,"full","auto",...N()],_=()=>[ho,"none","subgrid",xe,ye],P=()=>["auto",{span:["full",ho,xe,ye]},xe,ye],R=()=>[ho,"auto",xe,ye],$=()=>["auto","min","max","fr",xe,ye],A=()=>["start","end","center","between","around","evenly","stretch","baseline"],B=()=>["start","end","center","stretch"],Y=()=>["auto",...N()],ee=()=>[ri,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],L=()=>[e,xe,ye],U=()=>[Mw,mo],T=()=>["","none","full",u,xe,ye],D=()=>["",Fe,Zc,mo],H=()=>["solid","dashed","dotted","double"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["","none",g,xe,ye],X=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe,ye],se=()=>["none",Fe,xe,ye],ge=()=>["none",Fe,xe,ye],le=()=>[Fe,xe,ye],k=()=>[ri,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[gs],breakpoint:[gs],color:[eF],container:[gs],"drop-shadow":[gs],ease:["in","out","in-out"],font:[sF],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[gs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[gs],shadow:[gs],spacing:["px",Fe],text:[gs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ri,ye,xe,p]}],container:["container"],columns:[{columns:[Fe,ye,xe,l]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...b(),ye,xe]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[ho,"auto",xe,ye]}],basis:[{basis:[ri,"full","auto",l,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Fe,ri,"auto","initial","none",ye]}],grow:[{grow:["",Fe,xe,ye]}],shrink:[{shrink:["",Fe,xe,ye]}],order:[{order:[ho,"first","last","none",xe,ye]}],"grid-cols":[{"grid-cols":_()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":_()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...B(),"normal"]}],"justify-self":[{"justify-self":["auto",...B()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...B(),"baseline"]}],"align-self":[{self:["auto",...B(),"baseline"]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...B(),"baseline"]}],"place-self":[{"place-self":["auto",...B()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[l,"screen",...ee()]}],"min-w":[{"min-w":[l,"screen","none",...ee()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...ee()]}],h:[{h:["screen",...ee()]}],"min-h":[{"min-h":["screen","none",...ee()]}],"max-h":[{"max-h":["screen",...ee()]}],"font-size":[{text:["base",r,Zc,mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,xe,Gh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Mw,ye]}],"font-family":[{font:[cF,ye,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,xe,ye]}],"line-clamp":[{"line-clamp":[Fe,"none",xe,Gh]}],leading:[{leading:[o,...N()]}],"list-image":[{"list-image":["none",xe,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[Fe,"from-font","auto",xe,mo]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[Fe,"auto",xe,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...b(),uF,iF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",dF,oF]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ho,xe,ye],radial:["",xe,ye],conic:[ho,xe,ye]},fF,aF]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:T()}],"rounded-s":[{"rounded-s":T()}],"rounded-e":[{"rounded-e":T()}],"rounded-t":[{"rounded-t":T()}],"rounded-r":[{"rounded-r":T()}],"rounded-b":[{"rounded-b":T()}],"rounded-l":[{"rounded-l":T()}],"rounded-ss":[{"rounded-ss":T()}],"rounded-se":[{"rounded-se":T()}],"rounded-ee":[{"rounded-ee":T()}],"rounded-es":[{"rounded-es":T()}],"rounded-tl":[{"rounded-tl":T()}],"rounded-tr":[{"rounded-tr":T()}],"rounded-br":[{"rounded-br":T()}],"rounded-bl":[{"rounded-bl":T()}],"border-w":[{border:D()}],"border-w-x":[{"border-x":D()}],"border-w-y":[{"border-y":D()}],"border-w-s":[{"border-s":D()}],"border-w-e":[{"border-e":D()}],"border-w-t":[{"border-t":D()}],"border-w-r":[{"border-r":D()}],"border-w-b":[{"border-b":D()}],"border-w-l":[{"border-l":D()}],"divide-x":[{"divide-x":D()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":D()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Fe,xe,ye]}],"outline-w":[{outline:["",Fe,Zc,mo]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",d,hF,lF]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",xe,ye,f]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[Fe,mo]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":D()}],"inset-ring-color":[{"inset-ring":L()}],opacity:[{opacity:[Fe,xe,ye]}],"mix-blend":[{"mix-blend":[...V(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none",xe,ye]}],blur:[{blur:Q()}],brightness:[{brightness:[Fe,xe,ye]}],contrast:[{contrast:[Fe,xe,ye]}],"drop-shadow":[{"drop-shadow":["","none",m,xe,ye]}],grayscale:[{grayscale:["",Fe,xe,ye]}],"hue-rotate":[{"hue-rotate":[Fe,xe,ye]}],invert:[{invert:["",Fe,xe,ye]}],saturate:[{saturate:[Fe,xe,ye]}],sepia:[{sepia:["",Fe,xe,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,ye]}],"backdrop-blur":[{"backdrop-blur":Q()}],"backdrop-brightness":[{"backdrop-brightness":[Fe,xe,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Fe,xe,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Fe,xe,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Fe,xe,ye]}],"backdrop-invert":[{"backdrop-invert":["",Fe,xe,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Fe,xe,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Fe,xe,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Fe,xe,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Fe,"initial",xe,ye]}],ease:[{ease:["linear","initial",w,xe,ye]}],delay:[{delay:[Fe,xe,ye]}],animate:[{animate:["none",x,xe,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,xe,ye]}],"perspective-origin":[{"perspective-origin":X()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:ge()}],"scale-x":[{"scale-x":ge()}],"scale-y":[{"scale-y":ge()}],"scale-z":[{"scale-z":ge()}],"scale-3d":["scale-3d"],skew:[{skew:le()}],"skew-x":[{"skew-x":le()}],"skew-y":[{"skew-y":le()}],transform:[{transform:[xe,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:X()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:k()}],"translate-x":[{"translate-x":k()}],"translate-y":[{"translate-y":k()}],"translate-z":[{"translate-z":k()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,ye]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[Fe,Zc,mo,Gh]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},wF=Y6(xF);function ce(...e){return wF(pN(e))}function So(e,t="EGP"){return`${e.toFixed(2)} ${t}`}function Iw(e,t,r=0,n=0){return t==="percentage"&&r>0?(r-n)*e/100:e}function NN(e,t){console.log(`Checking year ${t} against "${e}"`);const r=/(\d{4})\+/,n=e.match(r);if(n){const m=Number.parseInt(n[1]);return console.log(`Found year with plus: ${m}+`),t>=m}const s=/(\d{4})[-\s]+(to\s+)?[Pp]resent/,o=e.match(s);if(o){const m=Number.parseInt(o[1]);return console.log(`Found year to present: ${m}-Present`),t>=m}const i=/(\d{4})[-\s]+(to\s+)?(\d{4})/,l=e.match(i);if(l){const m=Number.parseInt(l[1]),g=Number.parseInt(l[3]);return console.log(`Found year range: ${m}-${g}`),t>=m&&t<=g}const c=/$$(\d{4})$$/,u=e.match(c);if(u){const m=Number.parseInt(u[1]);return console.log(`Found single year in parentheses: ${m}`),t===m}const d=/\b(\d{4})\b/,f=e.match(d);if(f){const m=Number.parseInt(f[1]);return console.log(`Found year: ${m}`),t===m}return console.log("No year pattern matched"),!1}const xf=cc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?rs:"button";return a.jsx(i,{className:ce(xf({variant:t,size:r,className:e})),ref:o,...s})});ie.displayName="Button";function bF({transparent:e=!1}){const{user:t,signOut:r}=lt(),{items:n}=no(),s=Dn(),o=Ze(),{t:i}=we(),[l,c]=h.useState(!1),[u,d]=h.useState(""),{products:f,shops:m,carModels:g,loading:y}=$0(u),p=n.reduce((N,C)=>N+C.quantity,0),w=n.reduce((N,C)=>N+C.product.price*C.quantity,0),x=[{name:i("home"),href:"/"},{name:i("models"),href:"/categories"},{name:i("shops"),href:"/shops"},{name:i("contactUs"),href:"/contact"}],v=N=>N==="/"?s.pathname==="/":s.pathname.startsWith(N),b=N=>{c(!1),d(""),o(N)},j=N=>{N.preventDefault(),u.trim()&&b(`/search?q=${encodeURIComponent(u.trim())}`)},S=e?"bg-transparent backdrop-blur-0 bg-opacity-0":"bg-white shadow-lg backdrop-blur-md bg-opacity-80";return a.jsx(Xr,{as:"nav",className:`${S} sticky top-0 left-0 right-0 z-50 transition-colors duration-300 navbar-container`,children:({open:N})=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex h-16 md:h-20 justify-between navbar-container",children:[a.jsxs("div",{className:"flex",children:[a.jsx(XO,{}),a.jsx(ZO,{navigation:x,isCurrentPath:v})]}),a.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:items-center space-x-4",children:[a.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>c(!0),className:"text-gray-700 hover:text-gray-900",children:a.jsx(Qt,{className:"h-5 w-5"})}),a.jsx(Ew,{}),t&&a.jsxs(_e,{to:"/wishlist",className:"inline-flex items-center justify-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[a.jsx(Il,{className:"h-4 w-4 mr-1"}),i("wishlist")]}),a.jsx(ww,{cartItemCount:p,items:n,total:w}),t?a.jsx(eL,{user:t,signOut:r}):a.jsx(tL,{})]}),a.jsxs("div",{className:"flex items-center sm:hidden space-x-2",children:[a.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>c(!0),className:"text-gray-700 hover:text-gray-900",children:a.jsx(Qt,{className:"h-5 w-5"})}),a.jsx(Ew,{className:"mr-1"}),t&&a.jsx(_e,{to:"/wishlist",className:"p-1 text-indigo-600",children:a.jsx(Il,{className:"h-5 w-5"})}),a.jsx(ww,{cartItemCount:p,items:n,total:w,isMobile:!0}),a.jsxs(Xr.Button,{className:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[a.jsx("span",{className:"sr-only",children:"Open main menu"}),N?a.jsx(bD,{className:"block h-6 w-6","aria-hidden":"true"}):a.jsx(Z3,{className:"block h-6 w-6","aria-hidden":"true"})]})]})]})}),a.jsx(JO,{navigation:x,isCurrentPath:v,user:t,signOut:r}),a.jsx(kS,{show:l,as:h.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 -translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-1",children:a.jsx("div",{className:"absolute top-0 inset-x-0 transform pt-14 sm:pt-20 z-10",children:a.jsx("div",{className:"mx-auto sm:max-w-3xl px-4",children:a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-md",children:[a.jsxs("div",{className:"relative p-4",children:[a.jsx("form",{onSubmit:j,className:"relative",children:a.jsxs("div",{className:"flex items-center bg-white rounded-md border border-gray-300 focus-within:border-indigo-500 focus-within:ring-1 focus-within:ring-indigo-500",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Qt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",value:u,onChange:C=>d(C.target.value),placeholder:i("searchPlaceholder"),className:"block w-full py-2 pl-10 pr-10 border-none rounded-md bg-transparent focus:outline-none sm:text-sm",autoFocus:!0}),u&&a.jsx("button",{type:"button",onClick:()=>d(""),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600",children:a.jsx(rr,{className:"h-4 w-4"})})]})}),a.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:a.jsx(rr,{className:"h-5 w-5"})})]}),u.trim()&&a.jsx("div",{className:"p-4 border-t border-gray-200 max-h-96 overflow-auto",children:y?a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-indigo-500 border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:i("searching")})]}):a.jsxs("div",{children:[f.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:i("products")}),a.jsx("ul",{className:"space-y-3",children:f.map(C=>a.jsx("li",{children:a.jsxs("button",{onClick:()=>b(`/products/${C.id}`),className:"flex items-center p-2 w-full text-left hover:bg-gray-50 rounded-md",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-100 rounded-md overflow-hidden border border-gray-200",children:C.image?a.jsx("img",{src:C.image,alt:C.name,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(ts,{className:"h-5 w-5 text-gray-400"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.name}),a.jsx("p",{className:"text-xs text-gray-500",children:jF(C.price)})]})]})},C.id))})]}),m.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:i("shops")}),a.jsx("ul",{className:"space-y-3",children:m.map(C=>a.jsx("li",{children:a.jsxs("button",{onClick:()=>b(`/shops/${C.id}`),className:"flex items-center p-2 w-full text-left hover:bg-gray-50 rounded-md",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-100 rounded-md overflow-hidden border border-gray-200",children:C.logo?a.jsx("img",{src:C.logo,alt:C.name,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(ts,{className:"h-5 w-5 text-gray-400"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.name})})]})},C.id))})]}),g.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:i("carModels")}),a.jsx("ul",{className:"space-y-3",children:g.map(C=>a.jsx("li",{children:a.jsx("button",{onClick:()=>b(`/products?make=${C.make}&model=${C.model}`),className:"flex items-center p-2 w-full text-left hover:bg-gray-50 rounded-md",children:a.jsxs("div",{className:"ml-3",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[C.make," ",C.model]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[C.yearStart,C.yearEnd?`-${C.yearEnd}`:"+"]})]})})},C.id))})]}),f.length===0&&m.length===0&&g.length===0&&a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-gray-500",children:i("noResultsFound")})}),(f.length>0||m.length>0||g.length>0)&&a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:()=>b(`/search?q=${encodeURIComponent(u.trim())}`),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:i("viewAllResults")})})]})})]})})})})]})})}function jF(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e)}function SF(){const{t:e,language:t}=we(),r=new Date().getFullYear(),n=t==="ar"?"rtl text-right":"";return a.jsx("footer",{className:`bg-white border-t ${n}`,children:a.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs(_e,{to:"/",className:"flex items-center",children:[a.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-2",children:[a.jsx("rect",{width:"40",height:"40",rx:"8",fill:"url(#paint0_linear)"}),a.jsx("path",{d:"M10 25C10 22.2386 12.2386 20 15 20H25C27.7614 20 30 22.2386 30 25V28C30 29.1046 29.1046 30 28 30H12C10.8954 30 10 29.1046 10 28V25Z",fill:"white"}),a.jsx("circle",{cx:"15",cy:"25",r:"2",fill:"#3B82F6"}),a.jsx("circle",{cx:"25",cy:"25",r:"2",fill:"#3B82F6"}),a.jsx("path",{d:"M11 18L15 10H25L29 18",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("defs",{children:a.jsxs("linearGradient",{id:"paint0_linear",x1:"0",y1:"0",x2:"40",y2:"40",gradientUnits:"userSpaceOnUse",children:[a.jsx("stop",{stopColor:"#3B82F6"}),a.jsx("stop",{offset:"1",stopColor:"#1E40AF"})]})})]}),a.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-blue-500 bg-clip-text text-transparent",children:e("brandName")})]}),a.jsx("p",{className:"text-gray-500 text-sm",children:e("carDescription")})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:e("quickLinks")}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(_e,{to:"/",className:"text-gray-500 hover:text-gray-700 text-sm",children:e("home")})}),a.jsx("li",{children:a.jsx(_e,{to:"/categories",className:"text-gray-500 hover:text-gray-700 text-sm",children:e("models")})}),a.jsx("li",{children:a.jsx(_e,{to:"/shops",className:"text-gray-500 hover:text-gray-700 text-sm",children:e("shops")})}),a.jsx("li",{children:a.jsx(_e,{to:"/terms",className:"text-gray-500 hover:text-gray-700 text-sm",children:e("termsAndConditions")})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:e("customerService")}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(_e,{to:"/contact",className:"text-gray-500 hover:text-gray-700 text-sm",children:e("contactUs")})}),a.jsx("li",{children:a.jsx(_e,{to:"/faq",className:"text-gray-500 hover:text-gray-700 text-sm",children:e("faq")})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:e("connectWithUs")}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[a.jsx("span",{className:"sr-only",children:"Facebook"}),a.jsx("svg",{className:`h-6 w-6 ${t==="ar"?"no-flip":""}`,fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),a.jsxs("a",{href:"https://www.instagram.com/zabtt_eg/",className:"text-gray-400 hover:text-gray-500",target:"_blank",rel:"noopener noreferrer",children:[a.jsx("span",{className:"sr-only",children:"Instagram"}),a.jsx("svg",{className:`h-6 w-6 ${t==="ar"?"no-flip":""}`,fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),a.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[a.jsx("span",{className:"sr-only",children:"Twitter"}),a.jsx("svg",{className:`h-6 w-6 ${t==="ar"?"no-flip":""}`,fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]})]})]}),a.jsx("div",{className:"mt-8 pt-8 border-t border-gray-100",children:a.jsxs("p",{className:"text-gray-400 text-sm text-center",children:[" ",r," ",e("brandName"),". ",e("allRightsReserved"),"."]})})]})})}const NF=({searchQuery:e,searchLoading:t,searchProducts:r,searchShops:n,searchCarModels:s,handleSearch:o})=>{const{t:i}=we(),l=Ze(),c=(d,f)=>{l(`/products?make=${encodeURIComponent(d)}&model=${encodeURIComponent(f)}`)},u=d=>{l(`/products/${d}`)};return e?a.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 w-full max-w-4xl mx-auto bg-white rounded-xl shadow-2xl overflow-hidden border border-gray-300 animate-fade-in",style:{position:"absolute",zIndex:99999999},children:t?a.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:i("searching")}):a.jsxs("div",{className:"max-h-[200vh] overflow-y-auto",children:[s.length>0&&a.jsxs("div",{className:"border-b",children:[a.jsx("div",{className:"px-4 py-2 bg-gray-50 text-sm font-semibold text-gray-700",children:i("carModels")}),s.slice(0,3).map(d=>a.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 hover:bg-gray-100 cursor-pointer transition-colors",onClick:()=>c(d.make,d.model),children:[a.jsx("div",{className:"flex-shrink-0 rounded-full p-2 bg-indigo-100",children:a.jsx(oc,{className:"w-5 h-5 text-indigo-600"})}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{className:"font-medium",children:[d.make," ",d.model]}),a.jsxs("div",{className:"text-gray-500",children:[d.yearStart,d.yearEnd?` - ${d.yearEnd}`:" +"]})]})]},d.id))]}),n.length>0&&a.jsxs("div",{className:"border-b",children:[a.jsx("div",{className:"px-4 py-2 bg-gray-50 text-sm font-semibold text-gray-700",children:i("shops")}),n.slice(0,3).map(d=>a.jsxs("div",{className:"px-4 py-3 hover:bg-gray-100 cursor-pointer transition-colors",onClick:()=>l(`/shops/${d.id}`),children:[a.jsx("div",{className:"text-sm font-medium",children:d.name}),a.jsx("div",{className:"text-sm text-gray-500",children:d.description})]},d.id))]}),r.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"px-4 py-2 bg-gray-50 text-sm font-semibold text-gray-700",children:i("products")}),r.slice(0,3).map(d=>a.jsxs("div",{className:"px-4 py-3 hover:bg-gray-100 cursor-pointer transition-colors",onClick:()=>u(d.id),children:[a.jsx("div",{className:"text-sm font-medium",children:d.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:[d.price.toFixed(2)," EGP"]})]},d.id))]}),e&&(r.length>3||n.length>3||s.length>3)&&a.jsx("button",{onClick:d=>o(d),className:"w-full px-4 py-3 text-center text-sm font-medium text-indigo-600 hover:bg-gray-50 transition-colors",children:i("viewAllResults")}),e&&!r.length&&!n.length&&!s.length&&a.jsxs("div",{className:"p-6 text-center text-sm text-gray-500",children:[i("noResults"),' "',e,'"']})]})}):null},CF=()=>{const{t:e}=we(),t=Ze(),[r,n]=h.useState(""),[s,o]=h.useState(!1),i=h.useRef(null),{products:l,shops:c,carModels:u,loading:d}=$0(r),f=g=>{g.preventDefault(),r.trim()&&t(`/search?q=${encodeURIComponent(r.trim())}`)},m=()=>{n(""),i.current&&i.current.focus()};return e("engineParts"),e("brakeSystem"),e("transmission"),e("electrical"),e("oilFilter"),e("brakeDiscs"),e("sparkPlugs"),e("airFilter"),h.useEffect(()=>{const g=y=>{i.current&&!i.current.contains(y.target)&&o(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]),a.jsx("div",{className:"max-w-4xl mx-auto",style:{position:"relative",zIndex:99999999},children:a.jsxs("form",{onSubmit:f,className:"relative",children:[a.jsxs("div",{className:`flex items-center bg-white rounded-xl border-2 transition-all duration-300 shadow-lg hover:shadow-xl ${s?"border-indigo-400 ring-4 ring-indigo-100":"border-indigo-100"}`,children:[a.jsx("div",{className:"pl-5",children:a.jsx(Qt,{className:`h-6 w-6 transition-colors duration-300 ${s?"text-indigo-600":"text-indigo-400"}`})}),a.jsx("input",{ref:i,type:"text",value:r,onChange:g=>n(g.target.value),onFocus:()=>o(!0),placeholder:e("searchPlaceholder"),className:"w-full py-4 px-4 text-gray-700 border-none rounded-xl bg-transparent focus:outline-none text-base md:text-lg"}),r&&a.jsx("button",{type:"button",onClick:m,className:"p-2 mr-2 text-gray-400 hover:text-gray-600 focus:outline-none",children:a.jsx(rr,{className:"h-5 w-5"})}),a.jsx("button",{type:"submit",className:"h-full bg-gradient-to-r from-indigo-600 to-indigo-700 hover:from-indigo-700 hover:to-indigo-800 text-white font-medium py-3 px-6 rounded-r-xl transition-all duration-300",children:d?a.jsx(gf,{className:"h-6 w-6 animate-spin"}):e("search")})]}),a.jsx("div",{style:{position:"absolute",width:"100%",zIndex:99999999},children:a.jsx(NF,{searchQuery:r,searchLoading:d,searchProducts:l,searchShops:c,searchCarModels:u,handleSearch:f})})]})})};function $p(e,[t,r]){return Math.min(r,Math.max(t,e))}function je(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function kF(e,t){const r=h.createContext(t),n=o=>{const{children:i,...l}=o,c=h.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=h.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function Sr(e,t=[]){let r=[];function n(o,i){const l=h.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:m,children:g,...y}=f,p=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,w=h.useMemo(()=>y,Object.values(y));return a.jsx(p.Provider,{value:w,children:g})};u.displayName=o+"Provider";function d(f,m){var p;const g=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,y=h.useContext(g);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,_F(s,...t)]}function _F(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function z0(e){const t=e+"CollectionProvider",[r,n]=Sr(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:y,children:p}=g,w=O.useRef(null),x=O.useRef(new Map).current;return a.jsx(s,{scope:y,itemMap:x,collectionRef:w,children:p})};i.displayName=t;const l=e+"CollectionSlot",c=O.forwardRef((g,y)=>{const{scope:p,children:w}=g,x=o(l,p),v=Ie(y,x.collectionRef);return a.jsx(rs,{ref:v,children:w})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=O.forwardRef((g,y)=>{const{scope:p,children:w,...x}=g,v=O.useRef(null),b=Ie(y,v),j=o(u,p);return O.useEffect(()=>(j.itemMap.set(v,{ref:v,...x}),()=>void j.itemMap.delete(v))),a.jsx(rs,{[d]:"",ref:b,children:w})});f.displayName=u;function m(g){const y=o(e+"CollectionConsumer",g);return O.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((j,S)=>x.indexOf(j.ref.current)-x.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},m,n]}var EF=h.createContext(void 0);function uc(e){const t=h.useContext(EF);return e||t||"ltr"}var PF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ce=PF.reduce((e,t)=>{const r=h.forwardRef((n,s)=>{const{asChild:o,...i}=n,l=o?rs:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function TF(e,t){e&&oa.flushSync(()=>e.dispatchEvent(t))}function Dt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function AF(e,t=globalThis==null?void 0:globalThis.document){const r=Dt(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var RF="DismissableLayer",Vp="dismissableLayer.update",DF="dismissableLayer.pointerDownOutside",MF="dismissableLayer.focusOutside",Ow,CN=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dc=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=h.useContext(CN),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=h.useState({}),y=Ie(t,C=>f(C)),p=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(w),v=d?p.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=x,S=LF(C=>{const _=C.target,P=[...u.branches].some(R=>R.contains(_));!j||P||(s==null||s(C),i==null||i(C),C.defaultPrevented||l==null||l())},m),N=FF(C=>{const _=C.target;[...u.branches].some(R=>R.contains(_))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},m);return AF(C=>{v===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ow=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Lw(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Ow)}},[d,m,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Lw())},[d,u]),h.useEffect(()=>{const C=()=>g({});return document.addEventListener(Vp,C),()=>document.removeEventListener(Vp,C)},[]),a.jsx(Ce.div,{...c,ref:y,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:je(e.onFocusCapture,N.onFocusCapture),onBlurCapture:je(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:je(e.onPointerDownCapture,S.onPointerDownCapture)})});dc.displayName=RF;var IF="DismissableLayerBranch",OF=h.forwardRef((e,t)=>{const r=h.useContext(CN),n=h.useRef(null),s=Ie(t,n);return h.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(Ce.div,{...e,ref:s})});OF.displayName=IF;function LF(e,t=globalThis==null?void 0:globalThis.document){const r=Dt(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){kN(DF,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function FF(e,t=globalThis==null?void 0:globalThis.document){const r=Dt(e),n=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!n.current&&kN(MF,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Lw(){const e=new CustomEvent(Vp);document.dispatchEvent(e)}function kN(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?TF(s,o):s.dispatchEvent(o)}var Kh=0;function W0(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Fw()),document.body.insertAdjacentElement("beforeend",e[1]??Fw()),Kh++,()=>{Kh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Kh--}},[])}function Fw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Qh="focusScope.autoFocusOnMount",Xh="focusScope.autoFocusOnUnmount",$w={bubbles:!1,cancelable:!0},$F="FocusScope",wf=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),u=Dt(s),d=Dt(o),f=h.useRef(null),m=Ie(t,p=>c(p)),g=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let p=function(b){if(g.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:ws(f.current,{select:!0})},w=function(b){if(g.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||ws(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&ws(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",w);const v=new MutationObserver(x);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",w),v.disconnect()}}},[n,l,g.paused]),h.useEffect(()=>{if(l){Bw.add(g);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(Qh,$w);l.addEventListener(Qh,u),l.dispatchEvent(x),x.defaultPrevented||(VF(HF(_N(l)),{select:!0}),document.activeElement===p&&ws(l))}return()=>{l.removeEventListener(Qh,u),setTimeout(()=>{const x=new CustomEvent(Xh,$w);l.addEventListener(Xh,d),l.dispatchEvent(x),x.defaultPrevented||ws(p??document.body,{select:!0}),l.removeEventListener(Xh,d),Bw.remove(g)},0)}}},[l,u,d,g]);const y=h.useCallback(p=>{if(!r&&!n||g.paused)return;const w=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(w&&x){const v=p.currentTarget,[b,j]=BF(v);b&&j?!p.shiftKey&&x===j?(p.preventDefault(),r&&ws(b,{select:!0})):p.shiftKey&&x===b&&(p.preventDefault(),r&&ws(j,{select:!0})):x===v&&p.preventDefault()}},[r,n,g.paused]);return a.jsx(Ce.div,{tabIndex:-1,...i,ref:m,onKeyDown:y})});wf.displayName=$F;function VF(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ws(n,{select:t}),document.activeElement!==r)return}function BF(e){const t=_N(e),r=Vw(t,e),n=Vw(t.reverse(),e);return[r,n]}function _N(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Vw(e,t){for(const r of e)if(!UF(r,{upTo:t}))return r}function UF(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zF(e){return e instanceof HTMLInputElement&&"select"in e}function ws(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&zF(e)&&t&&e.select()}}var Bw=WF();function WF(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Uw(e,t),e.unshift(t)},remove(t){var r;e=Uw(e,t),(r=e[0])==null||r.resume()}}}function Uw(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function HF(e){return e.filter(t=>t.tagName!=="A")}var Pt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},qF=Fu.useId||(()=>{}),YF=0;function zr(e){const[t,r]=h.useState(qF());return Pt(()=>{r(n=>n??String(YF++))},[e]),t?`radix-${t}`:""}const GF=["top","right","bottom","left"],Ys=Math.min,Pr=Math.max,hd=Math.round,Jc=Math.floor,kn=e=>({x:e,y:e}),KF={left:"right",right:"left",bottom:"top",top:"bottom"},QF={start:"end",end:"start"};function Bp(e,t,r){return Pr(e,Ys(t,r))}function ns(e,t){return typeof e=="function"?e(t):e}function ss(e){return e.split("-")[0]}function fa(e){return e.split("-")[1]}function H0(e){return e==="x"?"y":"x"}function q0(e){return e==="y"?"height":"width"}function Gs(e){return["top","bottom"].includes(ss(e))?"y":"x"}function Y0(e){return H0(Gs(e))}function XF(e,t,r){r===void 0&&(r=!1);const n=fa(e),s=Y0(e),o=q0(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=md(i)),[i,md(i)]}function ZF(e){const t=md(e);return[Up(e),t,Up(t)]}function Up(e){return e.replace(/start|end/g,t=>QF[t])}function JF(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:i;default:return[]}}function e$(e,t,r,n){const s=fa(e);let o=JF(ss(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Up)))),o}function md(e){return e.replace(/left|right|bottom|top/g,t=>KF[t])}function t$(e){return{top:0,right:0,bottom:0,left:0,...e}}function EN(e){return typeof e!="number"?t$(e):{top:e,right:e,bottom:e,left:e}}function pd(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function zw(e,t,r){let{reference:n,floating:s}=e;const o=Gs(t),i=Y0(t),l=q0(i),c=ss(t),u=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:n.y-s.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-s.width,y:f};break;default:g={x:n.x,y:n.y}}switch(fa(t)){case"start":g[i]-=m*(r&&u?-1:1);break;case"end":g[i]+=m*(r&&u?-1:1);break}return g}const r$=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=zw(u,n,c),m=n,g={},y=0;for(let p=0;p<l.length;p++){const{name:w,fn:x}=l[p],{x:v,y:b,data:j,reset:S}=await x({x:d,y:f,initialPlacement:n,placement:m,strategy:s,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});d=v??d,f=b??f,g={...g,[w]:{...g[w],...j}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=zw(u,m,c)),p=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:g}};async function Ol(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=ns(t,e),y=EN(g),w=l[m?f==="floating"?"reference":"floating":f],x=pd(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(w)))==null||r?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},S=pd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(x.top-S.top+y.top)/j.y,bottom:(S.bottom-x.bottom+y.bottom)/j.y,left:(x.left-S.left+y.left)/j.x,right:(S.right-x.right+y.right)/j.x}}const n$=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=ns(e,t)||{};if(u==null)return{};const f=EN(d),m={x:r,y:n},g=Y0(s),y=q0(g),p=await i.getDimensions(u),w=g==="y",x=w?"top":"left",v=w?"bottom":"right",b=w?"clientHeight":"clientWidth",j=o.reference[y]+o.reference[g]-m[g]-o.floating[y],S=m[g]-o.reference[g],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=N?N[b]:0;(!C||!await(i.isElement==null?void 0:i.isElement(N)))&&(C=l.floating[b]||o.floating[y]);const _=j/2-S/2,P=C/2-p[y]/2-1,R=Ys(f[x],P),$=Ys(f[v],P),A=R,B=C-p[y]-$,Y=C/2-p[y]/2+_,ee=Bp(A,Y,B),L=!c.arrow&&fa(s)!=null&&Y!==ee&&o.reference[y]/2-(Y<A?R:$)-p[y]/2<0,U=L?Y<A?Y-A:Y-B:0;return{[g]:m[g]+U,data:{[g]:ee,centerOffset:Y-ee-U,...L&&{alignmentOffset:U}},reset:L}}}),s$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:p=!0,...w}=ns(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const x=ss(s),v=Gs(l),b=ss(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(b||!p?[md(l)]:ZF(l)),N=y!=="none";!m&&N&&S.push(...e$(l,p,y,j));const C=[l,...S],_=await Ol(t,w),P=[];let R=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&P.push(_[x]),f){const Y=XF(s,i,j);P.push(_[Y[0]],_[Y[1]])}if(R=[...R,{placement:s,overflows:P}],!P.every(Y=>Y<=0)){var $,A;const Y=((($=o.flip)==null?void 0:$.index)||0)+1,ee=C[Y];if(ee)return{data:{index:Y,overflows:R},reset:{placement:ee}};let L=(A=R.filter(U=>U.overflows[0]<=0).sort((U,T)=>U.overflows[1]-T.overflows[1])[0])==null?void 0:A.placement;if(!L)switch(g){case"bestFit":{var B;const U=(B=R.filter(T=>{if(N){const D=Gs(T.placement);return D===v||D==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(D=>D>0).reduce((D,H)=>D+H,0)]).sort((T,D)=>T[1]-D[1])[0])==null?void 0:B[0];U&&(L=U);break}case"initialPlacement":L=l;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function Ww(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Hw(e){return GF.some(t=>e[t]>=0)}const o$=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=ns(e,t);switch(n){case"referenceHidden":{const o=await Ol(t,{...s,elementContext:"reference"}),i=Ww(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Hw(i)}}}case"escaped":{const o=await Ol(t,{...s,altBoundary:!0}),i=Ww(o,r.floating);return{data:{escapedOffsets:i,escaped:Hw(i)}}}default:return{}}}}};async function i$(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=ss(r),l=fa(r),c=Gs(r)==="y",u=["left","top"].includes(i)?-1:1,d=o&&c?-1:1,f=ns(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(g=l==="end"?y*-1:y),c?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const a$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await i$(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},l$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x,y:v}=w;return{x,y:v}}},...c}=ns(e,t),u={x:r,y:n},d=await Ol(t,c),f=Gs(ss(s)),m=H0(f);let g=u[m],y=u[f];if(o){const w=m==="y"?"top":"left",x=m==="y"?"bottom":"right",v=g+d[w],b=g-d[x];g=Bp(v,g,b)}if(i){const w=f==="y"?"top":"left",x=f==="y"?"bottom":"right",v=y+d[w],b=y-d[x];y=Bp(v,y,b)}const p=l.fn({...t,[m]:g,[f]:y});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[m]:o,[f]:i}}}}}},c$=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ns(e,t),d={x:r,y:n},f=Gs(s),m=H0(f);let g=d[m],y=d[f];const p=ns(l,t),w=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=m==="y"?"height":"width",j=o.reference[m]-o.floating[b]+w.mainAxis,S=o.reference[m]+o.reference[b]-w.mainAxis;g<j?g=j:g>S&&(g=S)}if(u){var x,v;const b=m==="y"?"width":"height",j=["top","left"].includes(ss(s)),S=o.reference[f]-o.floating[b]+(j&&((x=i.offset)==null?void 0:x[f])||0)+(j?0:w.crossAxis),N=o.reference[f]+o.reference[b]+(j?0:((v=i.offset)==null?void 0:v[f])||0)-(j?w.crossAxis:0);y<S?y=S:y>N&&(y=N)}return{[m]:g,[f]:y}}}},u$=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=ns(e,t),d=await Ol(t,u),f=ss(s),m=fa(s),g=Gs(s)==="y",{width:y,height:p}=o.floating;let w,x;f==="top"||f==="bottom"?(w=f,x=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,w=m==="end"?"top":"bottom");const v=p-d.top-d.bottom,b=y-d.left-d.right,j=Ys(p-d[w],v),S=Ys(y-d[x],b),N=!t.middlewareData.shift;let C=j,_=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(_=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=v),N&&!m){const R=Pr(d.left,0),$=Pr(d.right,0),A=Pr(d.top,0),B=Pr(d.bottom,0);g?_=y-2*(R!==0||$!==0?R+$:Pr(d.left,d.right)):C=p-2*(A!==0||B!==0?A+B:Pr(d.top,d.bottom))}await c({...t,availableWidth:_,availableHeight:C});const P=await i.getDimensions(l.floating);return y!==P.width||p!==P.height?{reset:{rects:!0}}:{}}}};function bf(){return typeof window<"u"}function ha(e){return PN(e)?(e.nodeName||"").toLowerCase():"#document"}function Rr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function In(e){var t;return(t=(PN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function PN(e){return bf()?e instanceof Node||e instanceof Rr(e).Node:!1}function fn(e){return bf()?e instanceof Element||e instanceof Rr(e).Element:!1}function An(e){return bf()?e instanceof HTMLElement||e instanceof Rr(e).HTMLElement:!1}function qw(e){return!bf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Rr(e).ShadowRoot}function fc(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=hn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function d$(e){return["table","td","th"].includes(ha(e))}function jf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function G0(e){const t=K0(),r=fn(e)?hn(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function f$(e){let t=Ks(e);for(;An(t)&&!Qi(t);){if(G0(t))return t;if(jf(t))return null;t=Ks(t)}return null}function K0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qi(e){return["html","body","#document"].includes(ha(e))}function hn(e){return Rr(e).getComputedStyle(e)}function Sf(e){return fn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ks(e){if(ha(e)==="html")return e;const t=e.assignedSlot||e.parentNode||qw(e)&&e.host||In(e);return qw(t)?t.host:t}function TN(e){const t=Ks(e);return Qi(t)?e.ownerDocument?e.ownerDocument.body:e.body:An(t)&&fc(t)?t:TN(t)}function Ll(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=TN(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=Rr(s);if(o){const l=zp(i);return t.concat(i,i.visualViewport||[],fc(s)?s:[],l&&r?Ll(l):[])}return t.concat(s,Ll(s,[],r))}function zp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function AN(e){const t=hn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=An(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=hd(r)!==o||hd(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function Q0(e){return fn(e)?e:e.contextElement}function Di(e){const t=Q0(e);if(!An(t))return kn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=AN(t);let i=(o?hd(r.width):r.width)/n,l=(o?hd(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const h$=kn(0);function RN(e){const t=Rr(e);return!K0()||!t.visualViewport?h$:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function m$(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Rr(e)?!1:t}function Vo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Q0(e);let i=kn(1);t&&(n?fn(n)&&(i=Di(n)):i=Di(e));const l=m$(o,r,n)?RN(o):kn(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const m=Rr(o),g=n&&fn(n)?Rr(n):n;let y=m,p=zp(y);for(;p&&n&&g!==y;){const w=Di(p),x=p.getBoundingClientRect(),v=hn(p),b=x.left+(p.clientLeft+parseFloat(v.paddingLeft))*w.x,j=x.top+(p.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=b,u+=j,y=Rr(p),p=zp(y)}}return pd({width:d,height:f,x:c,y:u})}function X0(e,t){const r=Sf(e).scrollLeft;return t?t.left+r:Vo(In(e)).left+r}function DN(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:X0(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function p$(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=In(n),l=t?jf(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=kn(1);const d=kn(0),f=An(n);if((f||!f&&!o)&&((ha(n)!=="body"||fc(i))&&(c=Sf(n)),An(n))){const g=Vo(n);u=Di(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const m=i&&!f&&!o?DN(i,c,!0):kn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function g$(e){return Array.from(e.getClientRects())}function v$(e){const t=In(e),r=Sf(e),n=e.ownerDocument.body,s=Pr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Pr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+X0(e);const l=-r.scrollTop;return hn(n).direction==="rtl"&&(i+=Pr(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:l}}function y$(e,t){const r=Rr(e),n=In(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=K0();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}function x$(e,t){const r=Vo(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=An(e)?Di(e):kn(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:l,x:c,y:u}}function Yw(e,t,r){let n;if(t==="viewport")n=y$(e,r);else if(t==="document")n=v$(In(e));else if(fn(t))n=x$(t,r);else{const s=RN(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return pd(n)}function MN(e,t){const r=Ks(e);return r===t||!fn(r)||Qi(r)?!1:hn(r).position==="fixed"||MN(r,t)}function w$(e,t){const r=t.get(e);if(r)return r;let n=Ll(e,[],!1).filter(l=>fn(l)&&ha(l)!=="body"),s=null;const o=hn(e).position==="fixed";let i=o?Ks(e):e;for(;fn(i)&&!Qi(i);){const l=hn(i),c=G0(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||fc(i)&&!c&&MN(e,i))?n=n.filter(d=>d!==i):s=l,i=Ks(i)}return t.set(e,n),n}function b$(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?jf(t)?[]:w$(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=Yw(t,d,s);return u.top=Pr(f.top,u.top),u.right=Ys(f.right,u.right),u.bottom=Ys(f.bottom,u.bottom),u.left=Pr(f.left,u.left),u},Yw(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function j$(e){const{width:t,height:r}=AN(e);return{width:t,height:r}}function S$(e,t,r){const n=An(t),s=In(t),o=r==="fixed",i=Vo(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=kn(0);if(n||!n&&!o)if((ha(t)!=="body"||fc(s))&&(l=Sf(t)),n){const m=Vo(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=X0(s));const u=s&&!n&&!o?DN(s,l):kn(0),d=i.left+l.scrollLeft-c.x-u.x,f=i.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:i.width,height:i.height}}function Zh(e){return hn(e).position==="static"}function Gw(e,t){if(!An(e)||hn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return In(e)===r&&(r=r.ownerDocument.body),r}function IN(e,t){const r=Rr(e);if(jf(e))return r;if(!An(e)){let s=Ks(e);for(;s&&!Qi(s);){if(fn(s)&&!Zh(s))return s;s=Ks(s)}return r}let n=Gw(e,t);for(;n&&d$(n)&&Zh(n);)n=Gw(n,t);return n&&Qi(n)&&Zh(n)&&!G0(n)?r:n||f$(e)||r}const N$=async function(e){const t=this.getOffsetParent||IN,r=this.getDimensions,n=await r(e.floating);return{reference:S$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function C$(e){return hn(e).direction==="rtl"}const k$={convertOffsetParentRelativeRectToViewportRelativeRect:p$,getDocumentElement:In,getClippingRect:b$,getOffsetParent:IN,getElementRects:N$,getClientRects:g$,getDimensions:j$,getScale:Di,isElement:fn,isRTL:C$};function ON(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _$(e,t){let r=null,n;const s=In(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:g}=u;if(l||t(),!m||!g)return;const y=Jc(f),p=Jc(s.clientWidth-(d+m)),w=Jc(s.clientHeight-(f+g)),x=Jc(d),b={rootMargin:-y+"px "+-p+"px "+-w+"px "+-x+"px",threshold:Pr(0,Ys(1,c))||1};let j=!0;function S(N){const C=N[0].intersectionRatio;if(C!==c){if(!j)return i();C?i(!1,C):n=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!ON(u,e.getBoundingClientRect())&&i(),j=!1}try{r=new IntersectionObserver(S,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(e)}return i(!0),o}function E$(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Q0(e),d=s||o?[...u?Ll(u):[],...Ll(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),o&&x.addEventListener("resize",r)});const f=u&&l?_$(u,r):null;let m=-1,g=null;i&&(g=new ResizeObserver(x=>{let[v]=x;v&&v.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let y,p=c?Vo(e):null;c&&w();function w(){const x=Vo(e);p&&!ON(p,x)&&r(),p=x,y=requestAnimationFrame(w)}return r(),()=>{var x;d.forEach(v=>{s&&v.removeEventListener("scroll",r),o&&v.removeEventListener("resize",r)}),f==null||f(),(x=g)==null||x.disconnect(),g=null,c&&cancelAnimationFrame(y)}}const P$=a$,T$=l$,A$=s$,R$=u$,D$=o$,Kw=n$,M$=c$,I$=(e,t,r)=>{const n=new Map,s={platform:k$,...r},o={...s.platform,_c:n};return r$(e,t,{...s,platform:o})};var ku=typeof document<"u"?h.useLayoutEffect:h.useEffect;function gd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!gd(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!gd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function LN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Qw(e,t){const r=LN(e);return Math.round(t*r)/r}function Jh(e){const t=h.useRef(e);return ku(()=>{t.current=e}),t}function O$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=h.useState(n);gd(m,n)||g(n);const[y,p]=h.useState(null),[w,x]=h.useState(null),v=h.useCallback(T=>{T!==N.current&&(N.current=T,p(T))},[]),b=h.useCallback(T=>{T!==C.current&&(C.current=T,x(T))},[]),j=o||y,S=i||w,N=h.useRef(null),C=h.useRef(null),_=h.useRef(d),P=c!=null,R=Jh(c),$=Jh(s),A=Jh(u),B=h.useCallback(()=>{if(!N.current||!C.current)return;const T={placement:t,strategy:r,middleware:m};$.current&&(T.platform=$.current),I$(N.current,C.current,T).then(D=>{const H={...D,isPositioned:A.current!==!1};Y.current&&!gd(_.current,H)&&(_.current=H,oa.flushSync(()=>{f(H)}))})},[m,t,r,$,A]);ku(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const Y=h.useRef(!1);ku(()=>(Y.current=!0,()=>{Y.current=!1}),[]),ku(()=>{if(j&&(N.current=j),S&&(C.current=S),j&&S){if(R.current)return R.current(j,S,B);B()}},[j,S,B,R,P]);const ee=h.useMemo(()=>({reference:N,floating:C,setReference:v,setFloating:b}),[v,b]),L=h.useMemo(()=>({reference:j,floating:S}),[j,S]),U=h.useMemo(()=>{const T={position:r,left:0,top:0};if(!L.floating)return T;const D=Qw(L.floating,d.x),H=Qw(L.floating,d.y);return l?{...T,transform:"translate("+D+"px, "+H+"px)",...LN(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:H}},[r,l,L.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:B,refs:ee,elements:L,floatingStyles:U}),[d,B,ee,L,U])}const L$=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Kw({element:n.current,padding:s}).fn(r):{}:n?Kw({element:n,padding:s}).fn(r):{}}}},F$=(e,t)=>({...P$(e),options:[e,t]}),$$=(e,t)=>({...T$(e),options:[e,t]}),V$=(e,t)=>({...M$(e),options:[e,t]}),B$=(e,t)=>({...A$(e),options:[e,t]}),U$=(e,t)=>({...R$(e),options:[e,t]}),z$=(e,t)=>({...D$(e),options:[e,t]}),W$=(e,t)=>({...L$(e),options:[e,t]});var H$="Arrow",FN=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return a.jsx(Ce.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});FN.displayName=H$;var q$=FN;function $N(e){const[t,r]=h.useState(void 0);return Pt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Z0="Popper",[VN,ma]=Sr(Z0),[Y$,BN]=VN(Z0),UN=e=>{const{__scopePopper:t,children:r}=e,[n,s]=h.useState(null);return a.jsx(Y$,{scope:t,anchor:n,onAnchorChange:s,children:r})};UN.displayName=Z0;var zN="PopperAnchor",WN=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=BN(zN,r),i=h.useRef(null),l=Ie(t,i);return h.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:a.jsx(Ce.div,{...s,ref:l})});WN.displayName=zN;var J0="PopperContent",[G$,K$]=VN(J0),HN=h.forwardRef((e,t)=>{var k,M,Z,W,ae,q;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:y,...p}=e,w=BN(J0,r),[x,v]=h.useState(null),b=Ie(t,ve=>v(ve)),[j,S]=h.useState(null),N=$N(j),C=(N==null?void 0:N.width)??0,_=(N==null?void 0:N.height)??0,P=n+(o!=="center"?"-"+o:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},$=Array.isArray(u)?u:[u],A=$.length>0,B={padding:R,boundary:$.filter(X$),altBoundary:A},{refs:Y,floatingStyles:ee,placement:L,isPositioned:U,middlewareData:T}=O$({strategy:"fixed",placement:P,whileElementsMounted:(...ve)=>E$(...ve,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[F$({mainAxis:s+_,alignmentAxis:i}),c&&$$({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?V$():void 0,...B}),c&&B$({...B}),U$({...B,apply:({elements:ve,rects:ue,availableWidth:Re,availableHeight:Ne})=>{const{width:Me,height:Ve}=ue.reference,Be=ve.floating.style;Be.setProperty("--radix-popper-available-width",`${Re}px`),Be.setProperty("--radix-popper-available-height",`${Ne}px`),Be.setProperty("--radix-popper-anchor-width",`${Me}px`),Be.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),j&&W$({element:j,padding:l}),Z$({arrowWidth:C,arrowHeight:_}),m&&z$({strategy:"referenceHidden",...B})]}),[D,H]=GN(L),V=Dt(y);Pt(()=>{U&&(V==null||V())},[U,V]);const Q=(k=T.arrow)==null?void 0:k.x,X=(M=T.arrow)==null?void 0:M.y,se=((Z=T.arrow)==null?void 0:Z.centerOffset)!==0,[ge,le]=h.useState();return Pt(()=>{x&&le(window.getComputedStyle(x).zIndex)},[x]),a.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:U?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(W=T.transformOrigin)==null?void 0:W.x,(ae=T.transformOrigin)==null?void 0:ae.y].join(" "),...((q=T.hide)==null?void 0:q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(G$,{scope:r,placedSide:D,onArrowChange:S,arrowX:Q,arrowY:X,shouldHideArrow:se,children:a.jsx(Ce.div,{"data-side":D,"data-align":H,...p,ref:b,style:{...p.style,animation:U?void 0:"none"}})})})});HN.displayName=J0;var qN="PopperArrow",Q$={top:"bottom",right:"left",bottom:"top",left:"right"},YN=h.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=K$(qN,n),i=Q$[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(q$,{...s,ref:r,style:{...s.style,display:"block"}})})});YN.displayName=qN;function X$(e){return e!==null}var Z$=e=>({name:"transformOrigin",options:e,fn(t){var w,x,v;const{placement:r,rects:n,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=GN(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,g=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let y="",p="";return u==="bottom"?(y=i?f:`${m}px`,p=`${-c}px`):u==="top"?(y=i?f:`${m}px`,p=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,p=i?f:`${g}px`):u==="left"&&(y=`${n.floating.width+c}px`,p=i?f:`${g}px`),{data:{x:y,y:p}}}});function GN(e){const[t,r="center"]=e.split("-");return[t,r]}var ev=UN,Nf=WN,tv=HN,rv=YN,J$="Portal",Cf=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=h.useState(!1);Pt(()=>o(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?nS.createPortal(a.jsx(Ce.div,{...n,ref:t}),i):null});Cf.displayName=J$;function mn({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=e8({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,l=Dt(r),c=h.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[o,e,s,l]);return[i,c]}function e8({defaultProp:e,onChange:t}){const r=h.useState(e),[n]=r,s=h.useRef(n),o=Dt(t);return h.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}function KN(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var t8="VisuallyHidden",nv=h.forwardRef((e,t)=>a.jsx(Ce.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));nv.displayName=t8;var r8=nv,n8=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ni=new WeakMap,eu=new WeakMap,tu={},em=0,QN=function(e){return e&&(e.host||QN(e.parentNode))},s8=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=QN(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},o8=function(e,t,r,n){var s=s8(t,Array.isArray(e)?e:[e]);tu[r]||(tu[r]=new WeakMap);var o=tu[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var g=m.getAttribute(n),y=g!==null&&g!=="false",p=(ni.get(m)||0)+1,w=(o.get(m)||0)+1;ni.set(m,p),o.set(m,w),i.push(m),p===1&&y&&eu.set(m,!0),w===1&&m.setAttribute(r,"true"),y||m.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return d(t),l.clear(),em++,function(){i.forEach(function(f){var m=ni.get(f)-1,g=o.get(f)-1;ni.set(f,m),o.set(f,g),m||(eu.has(f)||f.removeAttribute(n),eu.delete(f)),g||f.removeAttribute(r)}),em--,em||(ni=new WeakMap,ni=new WeakMap,eu=new WeakMap,tu={})}},sv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=n8(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),o8(n,s,r,"aria-hidden")):function(){return null}},jn=function(){return jn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},jn.apply(this,arguments)};function XN(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function i8(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var _u="right-scroll-bar-position",Eu="width-before-scroll-bar",a8="with-scroll-bars-hidden",l8="--removed-body-scroll-bar-size";function tm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function c8(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var u8=typeof window<"u"?h.useLayoutEffect:h.useEffect,Xw=new WeakMap;function d8(e,t){var r=c8(null,function(n){return e.forEach(function(s){return tm(s,n)})});return u8(function(){var n=Xw.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(l){o.has(l)||tm(l,null)}),o.forEach(function(l){s.has(l)||tm(l,i)})}Xw.set(r,e)},[e]),r}function f8(e){return e}function h8(e,t){t===void 0&&(t=f8);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function m8(e){e===void 0&&(e={});var t=h8(null);return t.options=jn({async:!0,ssr:!1},e),t}var ZN=function(e){var t=e.sideCar,r=XN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,jn({},r))};ZN.isSideCarExport=!0;function p8(e,t){return e.useMedium(t),ZN}var JN=m8(),rm=function(){},kf=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:rm,onWheelCapture:rm,onTouchMoveCapture:rm}),s=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,g=e.noIsolation,y=e.inert,p=e.allowPinchZoom,w=e.as,x=w===void 0?"div":w,v=e.gapMode,b=XN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,S=d8([r,t]),N=jn(jn({},b),s);return h.createElement(h.Fragment,null,d&&h.createElement(j,{sideCar:JN,removeScrollBar:u,shards:f,noIsolation:g,inert:y,setCallbacks:o,allowPinchZoom:!!p,lockRef:r,gapMode:v}),i?h.cloneElement(h.Children.only(l),jn(jn({},N),{ref:S})):h.createElement(x,jn({},N,{className:c,ref:S}),l))});kf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kf.classNames={fullWidth:Eu,zeroRight:_u};var g8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function v8(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=g8();return t&&e.setAttribute("nonce",t),e}function y8(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function x8(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var w8=function(){var e=0,t=null;return{add:function(r){e==0&&(t=v8())&&(y8(t,r),x8(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},b8=function(){var e=w8();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},eC=function(){var e=b8(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},j8={left:0,top:0,right:0,gap:0},nm=function(e){return parseInt(e||"",10)||0},S8=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[nm(r),nm(n),nm(s)]},N8=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return j8;var t=S8(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},C8=eC(),Mi="data-scroll-locked",k8=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(a8,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Mi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_u,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Eu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(_u," .").concat(_u,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Eu," .").concat(Eu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Mi,`] {
    `).concat(l8,": ").concat(l,`px;
  }
`)},Zw=function(){var e=parseInt(document.body.getAttribute(Mi)||"0",10);return isFinite(e)?e:0},_8=function(){h.useEffect(function(){return document.body.setAttribute(Mi,(Zw()+1).toString()),function(){var e=Zw()-1;e<=0?document.body.removeAttribute(Mi):document.body.setAttribute(Mi,e.toString())}},[])},E8=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;_8();var o=h.useMemo(function(){return N8(s)},[s]);return h.createElement(C8,{styles:k8(o,!t,s,r?"":"!important")})},Wp=!1;if(typeof window<"u")try{var ru=Object.defineProperty({},"passive",{get:function(){return Wp=!0,!0}});window.addEventListener("test",ru,ru),window.removeEventListener("test",ru,ru)}catch{Wp=!1}var si=Wp?{passive:!1}:!1,P8=function(e){return e.tagName==="TEXTAREA"},tC=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!P8(e)&&r[t]==="visible")},T8=function(e){return tC(e,"overflowY")},A8=function(e){return tC(e,"overflowX")},Jw=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=rC(e,n);if(s){var o=nC(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},R8=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},D8=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},rC=function(e,t){return e==="v"?T8(t):A8(t)},nC=function(e,t){return e==="v"?R8(t):D8(t)},M8=function(e,t){return e==="h"&&t==="rtl"?-1:1},I8=function(e,t,r,n,s){var o=M8(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,m=0;do{var g=nC(e,l),y=g[0],p=g[1],w=g[2],x=p-w-o*y;(y||x)&&rC(e,l)&&(f+=x,m+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},nu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},eb=function(e){return[e.deltaX,e.deltaY]},tb=function(e){return e&&"current"in e?e.current:e},O8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},L8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},F8=0,oi=[];function $8(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(F8++)[0],o=h.useState(eC)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=i8([e.lockRef.current],(e.shards||[]).map(tb),!0).filter(Boolean);return p.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(p,w){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var x=nu(p),v=r.current,b="deltaX"in p?p.deltaX:v[0]-x[0],j="deltaY"in p?p.deltaY:v[1]-x[1],S,N=p.target,C=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in p&&C==="h"&&N.type==="range")return!1;var _=Jw(C,N);if(!_)return!0;if(_?S=C:(S=C==="v"?"h":"v",_=Jw(C,N)),!_)return!1;if(!n.current&&"changedTouches"in p&&(b||j)&&(n.current=S),!S)return!0;var P=n.current||S;return I8(P,w,p,P==="h"?b:j)},[]),c=h.useCallback(function(p){var w=p;if(!(!oi.length||oi[oi.length-1]!==o)){var x="deltaY"in w?eb(w):nu(w),v=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&O8(S.delta,x)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(i.current.shards||[]).map(tb).filter(Boolean).filter(function(S){return S.contains(w.target)}),j=b.length>0?l(w,b[0]):!i.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=h.useCallback(function(p,w,x,v){var b={name:p,delta:w,target:x,should:v,shadowParent:V8(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),d=h.useCallback(function(p){r.current=nu(p),n.current=void 0},[]),f=h.useCallback(function(p){u(p.type,eb(p),p.target,l(p,e.lockRef.current))},[]),m=h.useCallback(function(p){u(p.type,nu(p),p.target,l(p,e.lockRef.current))},[]);h.useEffect(function(){return oi.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,si),document.addEventListener("touchmove",c,si),document.addEventListener("touchstart",d,si),function(){oi=oi.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,si),document.removeEventListener("touchmove",c,si),document.removeEventListener("touchstart",d,si)}},[]);var g=e.removeScrollBar,y=e.inert;return h.createElement(h.Fragment,null,y?h.createElement(o,{styles:L8(s)}):null,g?h.createElement(E8,{gapMode:e.gapMode}):null)}function V8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const B8=p8(JN,$8);var _f=h.forwardRef(function(e,t){return h.createElement(kf,jn({},e,{ref:t,sideCar:B8}))});_f.classNames=kf.classNames;var U8=[" ","Enter","ArrowUp","ArrowDown"],z8=[" ","Enter"],hc="Select",[Ef,Pf,W8]=z0(hc),[pa,fK]=Sr(hc,[W8,ma]),Tf=ma(),[H8,so]=pa(hc),[q8,Y8]=pa(hc),sC=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:g,form:y}=e,p=Tf(t),[w,x]=h.useState(null),[v,b]=h.useState(null),[j,S]=h.useState(!1),N=uc(u),[C=!1,_]=mn({prop:n,defaultProp:s,onChange:o}),[P,R]=mn({prop:i,defaultProp:l,onChange:c}),$=h.useRef(null),A=w?y||!!w.closest("form"):!0,[B,Y]=h.useState(new Set),ee=Array.from(B).map(L=>L.props.value).join(";");return a.jsx(ev,{...p,children:a.jsxs(H8,{required:g,scope:t,trigger:w,onTriggerChange:x,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:zr(),value:P,onValueChange:R,open:C,onOpenChange:_,dir:N,triggerPointerDownPosRef:$,disabled:m,children:[a.jsx(Ef.Provider,{scope:t,children:a.jsx(q8,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(L=>{Y(U=>new Set(U).add(L))},[]),onNativeOptionRemove:h.useCallback(L=>{Y(U=>{const T=new Set(U);return T.delete(L),T})},[]),children:r})}),A?a.jsxs(PC,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:L=>R(L.target.value),disabled:m,form:y,children:[P===void 0?a.jsx("option",{value:""}):null,Array.from(B)]},ee):null]})})};sC.displayName=hc;var oC="SelectTrigger",iC=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=Tf(r),i=so(oC,r),l=i.disabled||n,c=Ie(t,i.onTriggerChange),u=Pf(r),d=h.useRef("touch"),[f,m,g]=TC(p=>{const w=u().filter(b=>!b.disabled),x=w.find(b=>b.value===i.value),v=AC(w,p,x);v!==void 0&&i.onValueChange(v.value)}),y=p=>{l||(i.onOpenChange(!0),g()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(Nf,{asChild:!0,...o,children:a.jsx(Ce.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":EC(i.value)?"":void 0,...s,ref:c,onClick:je(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&y(p)}),onPointerDown:je(s.onPointerDown,p=>{d.current=p.pointerType;const w=p.target;w.hasPointerCapture(p.pointerId)&&w.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(y(p),p.preventDefault())}),onKeyDown:je(s.onKeyDown,p=>{const w=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(w&&p.key===" ")&&U8.includes(p.key)&&(y(),p.preventDefault())})})})});iC.displayName=oC;var aC="SelectValue",lC=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...l}=e,c=so(aC,r),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=Ie(t,c.onValueNodeChange);return Pt(()=>{u(d)},[u,d]),a.jsx(Ce.span,{...l,ref:f,style:{pointerEvents:"none"},children:EC(c.value)?a.jsx(a.Fragment,{children:i}):o})});lC.displayName=aC;var G8="SelectIcon",cC=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Ce.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});cC.displayName=G8;var K8="SelectPortal",uC=e=>a.jsx(Cf,{asChild:!0,...e});uC.displayName=K8;var Bo="SelectContent",dC=h.forwardRef((e,t)=>{const r=so(Bo,e.__scopeSelect),[n,s]=h.useState();if(Pt(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?oa.createPortal(a.jsx(fC,{scope:e.__scopeSelect,children:a.jsx(Ef.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(hC,{...e,ref:t})});dC.displayName=Bo;var Zr=10,[fC,oo]=pa(Bo),Q8="SelectContentImpl",hC=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:y,hideWhenDetached:p,avoidCollisions:w,...x}=e,v=so(Bo,r),[b,j]=h.useState(null),[S,N]=h.useState(null),C=Ie(t,k=>j(k)),[_,P]=h.useState(null),[R,$]=h.useState(null),A=Pf(r),[B,Y]=h.useState(!1),ee=h.useRef(!1);h.useEffect(()=>{if(b)return sv(b)},[b]),W0();const L=h.useCallback(k=>{const[M,...Z]=A().map(q=>q.ref.current),[W]=Z.slice(-1),ae=document.activeElement;for(const q of k)if(q===ae||(q==null||q.scrollIntoView({block:"nearest"}),q===M&&S&&(S.scrollTop=0),q===W&&S&&(S.scrollTop=S.scrollHeight),q==null||q.focus(),document.activeElement!==ae))return},[A,S]),U=h.useCallback(()=>L([_,b]),[L,_,b]);h.useEffect(()=>{B&&U()},[B,U]);const{onOpenChange:T,triggerPointerDownPosRef:D}=v;h.useEffect(()=>{if(b){let k={x:0,y:0};const M=W=>{var ae,q;k={x:Math.abs(Math.round(W.pageX)-(((ae=D.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(W.pageY)-(((q=D.current)==null?void 0:q.y)??0))}},Z=W=>{k.x<=10&&k.y<=10?W.preventDefault():b.contains(W.target)||T(!1),document.removeEventListener("pointermove",M),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",M),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",Z,{capture:!0})}}},[b,T,D]),h.useEffect(()=>{const k=()=>T(!1);return window.addEventListener("blur",k),window.addEventListener("resize",k),()=>{window.removeEventListener("blur",k),window.removeEventListener("resize",k)}},[T]);const[H,V]=TC(k=>{const M=A().filter(ae=>!ae.disabled),Z=M.find(ae=>ae.ref.current===document.activeElement),W=AC(M,k,Z);W&&setTimeout(()=>W.ref.current.focus())}),Q=h.useCallback((k,M,Z)=>{const W=!ee.current&&!Z;(v.value!==void 0&&v.value===M||W)&&(P(k),W&&(ee.current=!0))},[v.value]),X=h.useCallback(()=>b==null?void 0:b.focus(),[b]),se=h.useCallback((k,M,Z)=>{const W=!ee.current&&!Z;(v.value!==void 0&&v.value===M||W)&&$(k)},[v.value]),ge=n==="popper"?Hp:mC,le=ge===Hp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:y,hideWhenDetached:p,avoidCollisions:w}:{};return a.jsx(fC,{scope:r,content:b,viewport:S,onViewportChange:N,itemRefCallback:Q,selectedItem:_,onItemLeave:X,itemTextRefCallback:se,focusSelectedItem:U,selectedItemText:R,position:n,isPositioned:B,searchRef:H,children:a.jsx(_f,{as:rs,allowPinchZoom:!0,children:a.jsx(wf,{asChild:!0,trapped:v.open,onMountAutoFocus:k=>{k.preventDefault()},onUnmountAutoFocus:je(s,k=>{var M;(M=v.trigger)==null||M.focus({preventScroll:!0}),k.preventDefault()}),children:a.jsx(dc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:k=>k.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(ge,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:k=>k.preventDefault(),...x,...le,onPlaced:()=>Y(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:je(x.onKeyDown,k=>{const M=k.ctrlKey||k.altKey||k.metaKey;if(k.key==="Tab"&&k.preventDefault(),!M&&k.key.length===1&&V(k.key),["ArrowUp","ArrowDown","Home","End"].includes(k.key)){let W=A().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(k.key)&&(W=W.slice().reverse()),["ArrowUp","ArrowDown"].includes(k.key)){const ae=k.target,q=W.indexOf(ae);W=W.slice(q+1)}setTimeout(()=>L(W)),k.preventDefault()}})})})})})})});hC.displayName=Q8;var X8="SelectItemAlignedPosition",mC=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=so(Bo,r),i=oo(Bo,r),[l,c]=h.useState(null),[u,d]=h.useState(null),f=Ie(t,C=>d(C)),m=Pf(r),g=h.useRef(!1),y=h.useRef(!0),{viewport:p,selectedItem:w,selectedItemText:x,focusSelectedItem:v}=i,b=h.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&p&&w&&x){const C=o.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),P=o.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(o.dir!=="rtl"){const ae=R.left-_.left,q=P.left-ae,ve=C.left-q,ue=C.width+ve,Re=Math.max(ue,_.width),Ne=window.innerWidth-Zr,Me=$p(q,[Zr,Math.max(Zr,Ne-Re)]);l.style.minWidth=ue+"px",l.style.left=Me+"px"}else{const ae=_.right-R.right,q=window.innerWidth-P.right-ae,ve=window.innerWidth-C.right-q,ue=C.width+ve,Re=Math.max(ue,_.width),Ne=window.innerWidth-Zr,Me=$p(q,[Zr,Math.max(Zr,Ne-Re)]);l.style.minWidth=ue+"px",l.style.right=Me+"px"}const $=m(),A=window.innerHeight-Zr*2,B=p.scrollHeight,Y=window.getComputedStyle(u),ee=parseInt(Y.borderTopWidth,10),L=parseInt(Y.paddingTop,10),U=parseInt(Y.borderBottomWidth,10),T=parseInt(Y.paddingBottom,10),D=ee+L+B+T+U,H=Math.min(w.offsetHeight*5,D),V=window.getComputedStyle(p),Q=parseInt(V.paddingTop,10),X=parseInt(V.paddingBottom,10),se=C.top+C.height/2-Zr,ge=A-se,le=w.offsetHeight/2,k=w.offsetTop+le,M=ee+L+k,Z=D-M;if(M<=se){const ae=$.length>0&&w===$[$.length-1].ref.current;l.style.bottom="0px";const q=u.clientHeight-p.offsetTop-p.offsetHeight,ve=Math.max(ge,le+(ae?X:0)+q+U),ue=M+ve;l.style.height=ue+"px"}else{const ae=$.length>0&&w===$[0].ref.current;l.style.top="0px";const ve=Math.max(se,ee+p.offsetTop+(ae?Q:0)+le)+Z;l.style.height=ve+"px",p.scrollTop=M-se+p.offsetTop}l.style.margin=`${Zr}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[m,o.trigger,o.valueNode,l,u,p,w,x,o.dir,n]);Pt(()=>b(),[b]);const[j,S]=h.useState();Pt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const N=h.useCallback(C=>{C&&y.current===!0&&(b(),v==null||v(),y.current=!1)},[b,v]);return a.jsx(J8,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:N,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(Ce.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});mC.displayName=X8;var Z8="SelectPopperPosition",Hp=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Zr,...o}=e,i=Tf(r);return a.jsx(tv,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hp.displayName=Z8;var[J8,ov]=pa(Bo,{}),qp="SelectViewport",pC=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=oo(qp,r),i=ov(qp,r),l=Ie(t,o.onViewportChange),c=h.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Ef.Slot,{scope:r,children:a.jsx(Ce.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:je(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const y=window.innerHeight-Zr*2,p=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),x=Math.max(p,w);if(x<y){const v=x+g,b=Math.min(y,v),j=v-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});pC.displayName=qp;var gC="SelectGroup",[e7,t7]=pa(gC),r7=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=zr();return a.jsx(e7,{scope:r,id:s,children:a.jsx(Ce.div,{role:"group","aria-labelledby":s,...n,ref:t})})});r7.displayName=gC;var vC="SelectLabel",yC=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=t7(vC,r);return a.jsx(Ce.div,{id:s.id,...n,ref:t})});yC.displayName=vC;var vd="SelectItem",[n7,xC]=pa(vd),wC=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,l=so(vd,r),c=oo(vd,r),u=l.value===n,[d,f]=h.useState(o??""),[m,g]=h.useState(!1),y=Ie(t,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,n,s)}),p=zr(),w=h.useRef("touch"),x=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(n7,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:h.useCallback(v=>{f(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(Ef.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Ce.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:y,onFocus:je(i.onFocus,()=>g(!0)),onBlur:je(i.onBlur,()=>g(!1)),onClick:je(i.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:je(i.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:je(i.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:je(i.onPointerMove,v=>{var b;w.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:je(i.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:je(i.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(z8.includes(v.key)&&x(),v.key===" "&&v.preventDefault())})})})})});wC.displayName=vd;var Fa="SelectItemText",bC=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=so(Fa,r),l=oo(Fa,r),c=xC(Fa,r),u=Y8(Fa,r),[d,f]=h.useState(null),m=Ie(t,x=>f(x),c.onItemTextChange,x=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,x,c.value,c.disabled)}),g=d==null?void 0:d.textContent,y=h.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:p,onNativeOptionRemove:w}=u;return Pt(()=>(p(y),()=>w(y)),[p,w,y]),a.jsxs(a.Fragment,{children:[a.jsx(Ce.span,{id:c.textId,...o,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?oa.createPortal(o.children,i.valueNode):null]})});bC.displayName=Fa;var jC="SelectItemIndicator",SC=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return xC(jC,r).isSelected?a.jsx(Ce.span,{"aria-hidden":!0,...n,ref:t}):null});SC.displayName=jC;var Yp="SelectScrollUpButton",NC=h.forwardRef((e,t)=>{const r=oo(Yp,e.__scopeSelect),n=ov(Yp,e.__scopeSelect),[s,o]=h.useState(!1),i=Ie(t,n.onScrollButtonChange);return Pt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(kC,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});NC.displayName=Yp;var Gp="SelectScrollDownButton",CC=h.forwardRef((e,t)=>{const r=oo(Gp,e.__scopeSelect),n=ov(Gp,e.__scopeSelect),[s,o]=h.useState(!1),i=Ie(t,n.onScrollButtonChange);return Pt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(kC,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});CC.displayName=Gp;var kC=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=oo("SelectScrollButton",r),i=h.useRef(null),l=Pf(r),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Pt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Ce.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:je(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:je(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:je(s.onPointerLeave,()=>{c()})})}),s7="SelectSeparator",_C=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Ce.div,{"aria-hidden":!0,...n,ref:t})});_C.displayName=s7;var Kp="SelectArrow",o7=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Tf(r),o=so(Kp,r),i=oo(Kp,r);return o.open&&i.position==="popper"?a.jsx(rv,{...s,...n,ref:t}):null});o7.displayName=Kp;function EC(e){return e===""||e===void 0}var PC=h.forwardRef((e,t)=>{const{value:r,...n}=e,s=h.useRef(null),o=Ie(t,s),i=KN(r);return h.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[i,r]),a.jsx(nv,{asChild:!0,children:a.jsx("select",{...n,ref:o,defaultValue:r})})});PC.displayName="BubbleSelect";function TC(e){const t=Dt(e),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function AC(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=i7(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function i7(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var a7=sC,RC=iC,l7=lC,c7=cC,u7=uC,DC=dC,d7=pC,MC=yC,IC=wC,f7=bC,h7=SC,OC=NC,LC=CC,FC=_C;const br=a7,jr=l7,or=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(RC,{ref:n,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(c7,{asChild:!0,children:a.jsx(ic,{className:"h-4 w-4 opacity-50"})})]}));or.displayName=RC.displayName;const $C=h.forwardRef(({className:e,...t},r)=>a.jsx(OC,{ref:r,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(iN,{className:"h-4 w-4"})}));$C.displayName=OC.displayName;const VC=h.forwardRef(({className:e,...t},r)=>a.jsx(LC,{ref:r,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(ic,{className:"h-4 w-4"})}));VC.displayName=LC.displayName;const ir=h.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(u7,{children:a.jsxs(DC,{ref:s,className:ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-white text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx($C,{}),a.jsx(d7,{className:ce("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(VC,{})]})}));ir.displayName=DC.displayName;const m7=h.forwardRef(({className:e,...t},r)=>a.jsx(MC,{ref:r,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));m7.displayName=MC.displayName;const He=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(IC,{ref:n,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(h7,{children:a.jsx(Ml,{className:"h-4 w-4"})})}),a.jsx(f7,{children:t})]}));He.displayName=IC.displayName;const p7=h.forwardRef(({className:e,...t},r)=>a.jsx(FC,{ref:r,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));p7.displayName=FC.displayName;const g7=()=>{const{t:e}=we(),t=Ze(),[r,n]=h.useState([]),[s,o]=h.useState([]),[i,l]=h.useState(""),[c,u]=h.useState(""),[d,f]=h.useState(""),[m,g]=h.useState([]),[y,p]=h.useState(!1);h.useEffect(()=>{(async()=>{p(!0);try{const{data:S,error:N}=await J.from("car_models").select("make").order("make");if(N)throw N;const C={};S.forEach(P=>{const R=P.make;C[R]=(C[R]||0)+1});const _=Object.keys(C).map(P=>({name:P,count:C[P]}));_.sort((P,R)=>P.name.localeCompare(R.name)),n(_)}catch(S){console.error("Error fetching brands:",S)}finally{p(!1)}})()},[]),h.useEffect(()=>{if(!i){g([]);return}(async()=>{p(!0);try{const{data:S,error:N}=await J.from("car_models").select("year_start, year_end").eq("make",i);if(N)throw N;const C=new Set;S.forEach(P=>{const R=P.year_start,$=P.year_end===null||P.year_end===0?new Date().getFullYear():P.year_end;for(let A=R;A<=$;A++)C.add(A)});const _=Array.from(C).sort((P,R)=>R-P);g(_)}catch(S){console.error("Error fetching years:",S)}finally{p(!1)}})()},[i]),h.useEffect(()=>{if(!i){o([]);return}(async()=>{p(!0);try{const{data:S,error:N}=await J.from("car_models").select("model, make, year_start, year_end").eq("make",i);if(N)throw N;console.log("Raw models from Supabase:",S);const C=d?Number.parseInt(d):null,_=d&&d!=="all",P=new Set,R=[];S.forEach(A=>{const B=A.year_start,Y=A.year_end===null||A.year_end===0?new Date().getFullYear():A.year_end;let ee=!0;_&&C!==null&&(ee=C>=B&&C<=Y),console.log(`Model: ${A.model} , Start: ${B}, End: ${Y}, Match: ${ee}`),ee&&(R.push(A),P.add(A.model))}),console.log("Filtered models:",R);const $=Array.from(P).map(A=>({model:A,make:i,count:1})).sort((A,B)=>A.model.localeCompare(B.model));o($)}catch(S){console.error("Error fetching models:",S)}finally{p(!1)}})()},[i,d]);const w=j=>{l(j),f(""),u("")},x=j=>{f(j),u("")},v=j=>{u(j)},b=()=>{const j=new URLSearchParams;i&&j.append("make",i),c&&j.append("model",c),d&&d!=="all"&&j.append("year",d),(i||c||d&&d!=="all")&&t(`/products?${j.toString()}`)};return a.jsx("div",{className:"mt-4 bg-white rounded-lg shadow-sm border border-gray-100 p-3",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsxs(br,{value:i,onValueChange:w,children:[a.jsx(or,{className:"w-full",children:a.jsx(jr,{placeholder:e("selectBrand")})}),a.jsx(ir,{className:"max-h-[300px]",children:r.map(j=>a.jsx(He,{value:j.name,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(oc,{className:"mr-2 h-4 w-4 text-gray-500"}),a.jsx("span",{children:j.name})]})},j.name))})]}),i&&a.jsxs(br,{value:d,onValueChange:x,children:[a.jsx(or,{className:"w-full",children:a.jsx(jr,{placeholder:e("selectYear")})}),a.jsxs(ir,{className:"max-h-[300px]",children:[a.jsx(He,{value:"all",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ap,{className:"mr-2 h-4 w-4 text-gray-500"}),a.jsx("span",{children:e("allYears")})]})},"all-years"),m.map(j=>a.jsx(He,{value:j.toString(),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ap,{className:"mr-2 h-4 w-4 text-gray-500"}),a.jsx("span",{children:j})]})},j))]})]}),a.jsxs(br,{value:c,onValueChange:v,disabled:!i,children:[a.jsx(or,{className:"w-full",children:a.jsx(jr,{placeholder:e("selectModel")})}),a.jsx(ir,{className:"max-h-[300px]",children:s.map(j=>a.jsx(He,{value:j.model,children:j.model},j.model))})]}),a.jsxs(ie,{type:"button",onClick:b,className:"w-full sm:w-auto bg-gradient-to-r from-indigo-600 to-indigo-700",disabled:!i&&!c&&!d,children:[a.jsx(Qt,{className:"h-4 w-4 mr-2"}),e("findParts")]})]})})},v7=()=>{const{t:e}=we(),[t,r]=h.useState(!1),[n,s]=h.useState(!1);return h.useEffect(()=>{r(!0);const o=setTimeout(()=>{s(!0)},300);return()=>{clearTimeout(o)}},[]),a.jsxs("div",{className:"relative isolate overflow-visible",style:{position:"static"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50 via-blue-50 to-indigo-50 -z-10"}),a.jsx("div",{className:"absolute inset-x-0 -top-40 -z-10 transform-gpu overflow-hidden blur-3xl sm:-top-80",children:a.jsx("div",{className:"relative left-[calc(50%-11rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 rotate-[30deg] bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-20 sm:left-[calc(50%-30rem)] sm:w-[72.1875rem]"})}),a.jsx("div",{className:"absolute top-1/4 right-1/4 w-72 h-72 bg-indigo-200 rounded-full mix-blend-multiply opacity-10 animate-float"}),a.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-64 h-64 bg-blue-200 rounded-full mix-blend-multiply opacity-10 animate-float",style:{animationDelay:"1s"}}),a.jsxs("div",{className:"relative pt-6 pb-24 md:pt-10 md:pb-32 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[a.jsxs("div",{className:`text-center lg:text-left ${n?"slide-in-left":"opacity-0"}`,children:[a.jsxs("h1",{className:"text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl lg:text-6xl mb-6",children:[e("findPerfectParts"),a.jsx("span",{className:"block mt-2 text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-blue-600 leading-tight",children:e("forYourCar")})]}),a.jsx("p",{className:"mt-4 text-lg leading-8 text-gray-600 max-w-lg mx-auto lg:mx-0",children:e("browseThousands")}),a.jsxs("div",{className:"mt-10 flex flex-wrap gap-4 justify-center lg:justify-start",children:[a.jsx(ie,{asChild:!0,size:"lg",className:"px-6 py-7 rounded-lg text-base shadow-lg hover-glow bg-gradient-to-r from-indigo-600 to-indigo-700",children:a.jsxs(_e,{to:"/products",children:[a.jsx(m6,{className:"mr-2 h-5 w-5"}),e("shopNow")," ",a.jsx(ac,{className:"ml-1 h-5 w-5"})]})}),a.jsx(ie,{asChild:!0,variant:"outline",size:"lg",className:"px-6 py-7 rounded-lg text-base border-2 hover:border-indigo-300 hover:bg-indigo-50",children:a.jsxs(_e,{to:"/shops",children:[a.jsx(oc,{className:"mr-2 h-5 w-5"}),e("findShops")]})})]})]}),a.jsx("div",{className:`hidden lg:flex justify-end ${n?"slide-in-right":"opacity-0"}`,children:a.jsx("img",{src:"https://gcejhxrwyftlzbztngug.supabase.co/storage/v1/object/public/Shops%20Photos//ZABTT.png",alt:"Car dashboard",className:"rounded-2xl shadow-2xl max-w-md object-cover h-196 border-4 border-white animate-float hover-lift"})})]}),a.jsxs("div",{className:`relative px-4 pt-8 pb-6 transition-all duration-500 ease-in-out ${t?"fade-in":"opacity-0 translate-y-10"}`,style:{position:"relative",zIndex:99999999},children:[a.jsx(CF,{}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsx(g7,{})})]}),a.jsx("div",{className:`mt-24 lg:mt-20 grid grid-cols-2 sm:grid-cols-4 gap-4 max-w-4xl mx-auto transition-all duration-500 ease-in-out ${n?"fade-in":"opacity-0"}`,children:["Engine Parts","Brake System","Transmission","Electrical"].map((o,i)=>a.jsx(_e,{to:`/products?type=${encodeURIComponent(o)}`,className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 text-center shadow-sm hover-lift hover:bg-white text-gray-700 font-medium",style:{animationDelay:`${i*.1}s`},children:o},o))})]}),a.jsx("div",{className:"absolute inset-x-0 top-[calc(100%-13rem)] -z-10 transform-gpu overflow-hidden blur-3xl sm:top-[calc(100%-30rem)]",children:a.jsx("div",{className:"relative left-[calc(50%+3rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-20 sm:left-[calc(50%+36rem)] sm:w-[72.1875rem]"})})]})};function Af(){const[e,t]=h.useState([]),[r,n]=h.useState(!0),[s,o]=h.useState(null);return h.useEffect(()=>{async function i(){try{const{data:l,error:c}=await J.from("categories").select("*").order("name");if(c)throw c;t(l.map(u=>({id:u.id,name:u.name,icon:u.icon})))}catch(l){o(l instanceof Error?l:new Error("Failed to fetch categories"))}finally{n(!1)}}i()},[]),{categories:e,loading:r,error:s}}const qe=h.forwardRef(({className:e,type:t,icon:r,...n},s)=>a.jsxs("div",{className:"relative w-full",children:[r&&a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:r}),a.jsx("input",{type:t,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r&&"pl-10",e),ref:s,...n})]}));qe.displayName="Input";function BC({category:e}){return a.jsxs(_e,{to:`/products?category=${encodeURIComponent(e.name)}`,className:"group relative bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[a.jsx("div",{className:"aspect-square w-full overflow-hidden",children:a.jsx("img",{src:e.icon,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),a.jsx("div",{className:"p-4",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name})})]})}const UC=({className:e,...t})=>a.jsx("nav",{role:"navigation","aria-label":"pagination",className:ce("mx-auto flex w-full justify-center",e),...t});UC.displayName="Pagination";const zC=h.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,className:ce("flex flex-row items-center gap-1",e),...t}));zC.displayName="PaginationContent";const bs=h.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,className:ce("",e),...t}));bs.displayName="PaginationItem";const Ii=({className:e,isActive:t,size:r="icon",...n})=>a.jsx("a",{"aria-current":t?"page":void 0,className:ce(xf({variant:t?"outline":"ghost",size:r}),e),...n});Ii.displayName="PaginationLink";const WC=({className:e,...t})=>a.jsxs(Ii,{"aria-label":"Go to previous page",size:"default",className:ce("gap-1 pl-2.5",e),...t,children:[a.jsx(oN,{className:"h-4 w-4"}),a.jsx("span",{children:"Previous"})]});WC.displayName="PaginationPrevious";const HC=({className:e,...t})=>a.jsxs(Ii,{"aria-label":"Go to next page",size:"default",className:ce("gap-1 pr-2.5",e),...t,children:[a.jsx("span",{children:"Next"}),a.jsx(ac,{className:"h-4 w-4"})]});HC.displayName="PaginationNext";const Qp=({className:e,...t})=>a.jsxs("span",{"aria-hidden":!0,className:ce("flex h-9 w-9 items-center justify-center",e),...t,children:[a.jsx(EL,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"More pages"})]});Qp.displayName="PaginationEllipsis";const y7=({currentPage:e,totalPages:t,setPage:r})=>{const n=()=>{const s=[];s.push(a.jsx(bs,{children:a.jsx(Ii,{isActive:e===1,onClick:()=>r(1),className:"cursor-pointer",children:"1"})},"first")),e>3&&s.push(a.jsx(bs,{children:a.jsx(Qp,{})},"ellipsis-start"));for(let o=Math.max(2,e-1);o<=Math.min(t-1,e+1);o++)o<=1||o>=t||s.push(a.jsx(bs,{children:a.jsx(Ii,{isActive:e===o,onClick:()=>r(o),className:"cursor-pointer",children:o})},o));return e<t-2&&s.push(a.jsx(bs,{children:a.jsx(Qp,{})},"ellipsis-end")),t>1&&s.push(a.jsx(bs,{children:a.jsx(Ii,{isActive:e===t,onClick:()=>r(t),className:"cursor-pointer",children:t})},"last")),s};return t<=1?null:a.jsx("div",{className:"mt-8",children:a.jsx(UC,{children:a.jsxs(zC,{children:[a.jsx(bs,{children:a.jsx(WC,{onClick:()=>r(Math.max(e-1,1)),className:`cursor-pointer ${e===1?"pointer-events-none opacity-50":""}`})}),n(),a.jsx(bs,{children:a.jsx(HC,{onClick:()=>r(Math.min(e+1,t)),className:`cursor-pointer ${e===t?"pointer-events-none opacity-50":""}`})})]})})})},x7=()=>{const{t:e}=we(),t=Ze(),{categories:r,loading:n}=Af(),[s,o]=h.useState(1),i=5,[l,c]=h.useState(""),u=l?r.filter(w=>w.name.toLowerCase().includes(l.toLowerCase())):r,d=Math.ceil(u.length/i),f=s*i,m=f-i,g=u.slice(m,f),y=()=>{t("/categories")},p=w=>{c(w.target.value),o(1)};return a.jsx("div",{className:"bg-gradient-to-b from-white to-gray-50 py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-10",children:[a.jsx("div",{className:"mb-6 md:mb-0",children:a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:e("browseModels")})}),a.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-auto",children:[a.jsx(Qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(qe,{type:"text",placeholder:e("searchCategories"),value:l,onChange:p,className:"pl-10 pr-4 py-2 w-full md:w-64"})]}),a.jsxs(ie,{variant:"outline",onClick:y,className:"flex items-center w-full md:w-auto",children:[e("viewAll"),a.jsx(ac,{className:"ml-1 h-4 w-4"})]})]})]}),n?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-8 min-h-[300px]",children:[...Array(5)].map((w,x)=>a.jsx("div",{className:"animate-pulse bg-gray-200 rounded-xl h-48"},x))}):g.length>0?a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-6 md:gap-8",children:g.map(w=>a.jsx(BC,{category:w},w.id))}):a.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-500 text-lg",children:e("noCategoriesFound")})}),u.length>i&&a.jsx("div",{className:"mt-8",children:a.jsx(y7,{currentPage:s,totalPages:d,setPage:o})})]})})};function qC(){const[e,t]=h.useState([]),[r,n]=h.useState(!0),[s,o]=h.useState(null);return h.useEffect(()=>{async function i(){try{const{data:l,error:c}=await J.from("shops").select(`
            *,
            shop_categories (
              categories (
                name
              )
            )
          `).order("id",{ascending:!1});if(c)throw c;const u=[...l].sort(()=>Math.random()-.5);t(u.map(d=>{var f;return{id:d.id,name:d.name,description:d.description||"",logo:d.logo||"https://via.placeholder.com/500",categories:((f=d.shop_categories)==null?void 0:f.map(m=>{var g;return(g=m.categories)==null?void 0:g.name}).filter(m=>!!m))||[],rating:d.rating||0,reviewCount:d.review_count||0}}))}catch(l){o(l instanceof Error?l:new Error("Failed to fetch shops"))}finally{n(!1)}}i()},[]),{shops:e,loading:r,error:s}}const Oi={mobile:768,tablet:1024,desktop:1280};function Go(){const[e,t]=h.useState(void 0);return h.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Oi.mobile-1}px)`),n=()=>{t(window.innerWidth<Oi.mobile)};return r.addEventListener("change",n),t(window.innerWidth<Oi.mobile),()=>r.removeEventListener("change",n)},[]),!!e}function w7(){const[e,t]=h.useState(void 0);return h.useEffect(()=>{const r=()=>{const n=window.innerWidth;n<Oi.mobile?t("mobile"):n<Oi.tablet?t("tablet"):n<Oi.desktop?t("desktop"):t("largeDesktop")};return window.addEventListener("resize",r),r(),()=>window.removeEventListener("resize",r)},[]),e}function Rf({shop:e}){const t=Go(),r=(e.reviewCount??0)>0;return a.jsxs(_e,{to:`/shops/${e.id}`,className:"group bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[a.jsx("div",{className:"aspect-video w-full overflow-hidden bg-gray-200",children:e.logo?a.jsx("img",{src:e.logo,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:a.jsx(ts,{className:"h-16 w-16 text-gray-400"})})}),a.jsxs("div",{className:"p-3 md:p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1 md:mb-2",children:[a.jsx("h3",{className:"text-sm md:text-lg font-semibold text-gray-900 line-clamp-1",children:e.name}),!t&&r&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-yellow-400",children:""}),a.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:[(e.rating??0).toFixed(1)," (",e.reviewCount??0,")"]})]})]}),!t&&a.jsx("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:e.description}),!t&&e.categories.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 md:gap-2",children:e.categories.map(n=>a.jsx("span",{className:"inline-flex items-center px-1.5 md:px-2 py-0.5 md:py-1 rounded-full text-xs font-medium bg-indigo-50 text-indigo-700",children:n},n))})]})]})}const b7=()=>{const{t:e}=we(),{shops:t,loading:r}=qC(),n=Ze();Go();const s=t.slice(0,6);return a.jsx("div",{className:"bg-white py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-10",children:[a.jsx("div",{className:"mb-4 sm:mb-0",children:a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:e("featuredShops")})}),a.jsxs(ie,{variant:"outline",onClick:()=>n("/shops"),className:"flex items-center justify-center self-start sm:self-center",children:[e("viewAll"),a.jsx(ac,{className:"ml-2 h-4 w-4"})]})]}),r?a.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 md:gap-8",children:[...Array(6)].map((o,i)=>a.jsxs("div",{className:"bg-gray-100 rounded-lg animate-pulse h-48 sm:h-64",children:[a.jsx("div",{className:"h-24 sm:h-32 bg-gray-200"}),a.jsxs("div",{className:"p-3 sm:p-4",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]},i))}):a.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 md:gap-8",children:s.map(o=>a.jsx(Rf,{shop:o},o.id))})]})})};function YC(){const[e,t]=h.useState([]),[r,n]=h.useState([]),[s,o]=h.useState(!0),[i,l]=h.useState(null);h.useEffect(()=>{async function d(){try{const{data:f,error:m}=await J.from("products").select(`
            *,
            categories (name),
            product_car_models (
              car_models (
                make,
                model,
                year_start,
                year_end
              )
            )
          `).eq("status","active");if(m)throw m;const y=[...f].sort(()=>Math.random()-.5).map(w=>{var x,v,b;return{id:w.id,shopId:w.shop_id,name:w.name,description:w.description||"",price:w.price,image:w.image||"",category:((x=w.categories)==null?void 0:x.name)||"Uncategorized",compatibility:((v=w.product_car_models)==null?void 0:v.map(j=>{const S=j.car_models;return`${S.make} ${S.model} (${S.year_start}${S.year_end?`-${S.year_end}`:"+"})`}))||[],stock:w.stock,status:w.status||"active",type:w.type||c(((b=w.categories)==null?void 0:b.name)||""),productNumber:w.product_number||u(w.id),specifications:{}}});t(y);const p=Array.from(new Set(y.map(w=>w.category)));n(p)}catch(f){l(f instanceof Error?f:new Error("Failed to fetch products"))}finally{o(!1)}}d()},[]);const c=d=>{const f=d.toLowerCase();return f.includes("engine")?"Engine Parts":f.includes("brake")?"Brake System":f.includes("transmission")?"Transmission":f.includes("oil")||f.includes("fluid")?"Oil & Fluids":f.includes("tyre")||f.includes("tire")?"Tyres":f.includes("electric")?"Electrical":f.includes("body")?"Body Parts":f.includes("interior")?"Interior":f.includes("exhaust")?"Exhaust System":"Other"},u=d=>{const f="CP",m=d.replace(/[^0-9]/g,"").substring(0,5).padStart(5,"0");return`${f}-${m}`};return{products:e,categories:r,loading:s,error:i}}function iv({product:e}){const{items:t,addItem:r,removeItem:n,updateQuantity:s}=no(),{t:o,language:i}=we(),l=Ze(),c=t.find(p=>p.product.id===e.id),u=i==="ar",d=Go(),f=e.status==="inactive",m=()=>{l(`/products/${e.id}`)},g=()=>{if(f){K.error(o("outOfStock"));return}r(e)},y=()=>{if(c){if(f){K.error(o("outOfStock"));return}s(e.id,c.quantity+1)}};return a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 flex flex-col h-full",children:[a.jsxs("div",{className:"aspect-square w-full overflow-hidden bg-gray-200 cursor-pointer relative",onClick:m,children:[e.image?a.jsx("img",{src:e.image,alt:e.name,className:`w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 ${f?"opacity-70":""}`}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:a.jsx(ts,{className:"h-16 w-16 text-gray-400"})}),f&&a.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded",children:o("outOfStock")})]}),a.jsxs("div",{className:"p-3 md:p-4 flex flex-col flex-grow",children:[a.jsx("h3",{className:`text-sm md:text-lg font-semibold text-gray-900 line-clamp-2 ${d?"h-10":"h-14"}`,children:e.name}),!d&&a.jsx("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2 h-10",children:e.description}),a.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[a.jsxs("span",{className:`${d?"text-sm":"text-lg"} font-bold text-gray-900`,children:[e.price.toFixed(2)," EGP"]}),!d&&a.jsx("span",{className:`text-sm ${f?"text-red-600":"text-green-600"}`,children:o(f?"outOfStock":"inStock")})]}),a.jsx("div",{className:"mt-auto pt-2 md:pt-3",children:f?a.jsx("div",{className:"w-full text-center py-2 text-red-600 font-medium bg-red-50 rounded-md",children:o("outOfStock")}):c?a.jsxs("div",{className:"flex items-center justify-between gap-1 w-full",children:[a.jsx("button",{onClick:()=>s(e.id,Math.max(0,c.quantity-1)),className:"flex-1 flex items-center justify-center px-1 md:px-2 py-1 md:py-2 rounded-md text-xs md:text-sm font-medium bg-gray-100 text-gray-800 hover:bg-gray-200",children:a.jsx(F0,{className:"h-3 w-3 md:h-4 md:w-4"})}),a.jsx("span",{className:"text-sm md:text-lg font-medium text-gray-900 px-1 md:px-2",children:c.quantity}),a.jsx("button",{onClick:y,className:"flex-1 flex items-center justify-center px-1 md:px-2 py-1 md:py-2 rounded-md text-xs md:text-sm font-medium bg-gray-100 text-gray-800 hover:bg-gray-200",children:a.jsx(Ki,{className:"h-3 w-3 md:h-4 md:w-4"})}),a.jsx("button",{onClick:()=>n(e.id),className:"flex items-center justify-center px-2 md:px-3 py-1 md:py-2 rounded-md text-xs md:text-sm font-medium bg-red-100 text-red-600 hover:bg-red-200","aria-label":o("remove"),children:a.jsx(lc,{className:"h-3 w-3 md:h-4 md:w-4"})})]}):a.jsxs("button",{onClick:g,className:"w-full flex items-center justify-center px-2 md:px-4 py-1 md:py-2 rounded-md text-xs md:text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700",children:[a.jsx(Ki,{className:`h-3 w-3 md:h-5 md:w-5 ${u?"ml-1 md:ml-2":"mr-1 md:mr-2"}`}),o("addToCart")]})})]})]})}const j7=()=>{const{t:e}=we(),{products:t,loading:r}=YC(),n=Ze();Go();const s=t.slice(0,6);return a.jsx("div",{className:"bg-gray-50 py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-10",children:[a.jsx("div",{className:"mb-4 sm:mb-0",children:a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:e("featuredProducts")})}),a.jsxs(ie,{variant:"outline",onClick:()=>n("/products"),className:"flex items-center justify-center self-start sm:self-center",children:[e("viewAll"),a.jsx(ac,{className:"ml-2 h-4 w-4"})]})]}),r?a.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 md:gap-8",children:[...Array(6)].map((o,i)=>a.jsxs("div",{className:"bg-white rounded-lg animate-pulse h-64 sm:h-96",children:[a.jsx("div",{className:"h-32 sm:h-48 bg-gray-200"}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"h-4 sm:h-5 bg-gray-200 rounded mb-2 sm:mb-3"}),a.jsx("div",{className:"h-3 sm:h-4 bg-gray-200 rounded w-3/4 mb-2 sm:mb-3"}),a.jsx("div",{className:"h-6 sm:h-8 bg-gray-200 rounded mt-3 sm:mt-4"})]})]},i))}):a.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 md:gap-8",children:s.map(o=>a.jsx(iv,{product:o},o.id))})]})})},S7=()=>{const{t:e}=we(),[t,r]=h.useState(!1);h.useEffect(()=>{const s=setTimeout(()=>{r(!0)},200);return()=>clearTimeout(s)},[]);const n=[{id:1,name:"Toyota",logo:"https://gcejhxrwyftlzbztngug.supabase.co/storage/v1/object/public/Shops%20Photos/categories/cf8ycrxezas_1742816342123.jpeg"},{id:2,name:"Hyundai",logo:"https://gcejhxrwyftlzbztngug.supabase.co/storage/v1/object/sign/Categories%20Photos/Hyundai.png?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJDYXRlZ29yaWVzIFBob3Rvcy9IeXVuZGFpLnBuZyIsImlhdCI6MTczOTQwODc1NSwiZXhwIjoxNzcwOTQ0NzU1fQ.1gr5AU5uDvxZkS6Htl_d6atk2BAzAi5_MTfTVgNAmzI"},{id:3,name:"BMW",logo:"https://gcejhxrwyftlzbztngug.supabase.co/storage/v1/object/sign/Categories%20Photos/BMW-Logo.wine.png?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJDYXRlZ29yaWVzIFBob3Rvcy9CTVctTG9nby53aW5lLnBuZyIsImlhdCI6MTc0MDI1MTU4MiwiZXhwIjoxODk3OTMxNTgyfQ.XFsARDmo9aIdmi_hfQqIbcuGBDgMZCdhrQwfaRkwt0w"},{id:4,name:"Mercedes",logo:"https://gcejhxrwyftlzbztngug.supabase.co/storage/v1/object/public/Shops%20Photos/categories/24fp91d3j0a_1742816457792.png"},{id:5,name:"Skoda",logo:"https://gcejhxrwyftlzbztngug.supabase.co/storage/v1/object/public/Shops%20Photos/categories/q5g7a8a0aak_1742816502599.jpeg"},{id:6,name:"Volkswagen",logo:"https://gcejhxrwyftlzbztngug.supabase.co/storage/v1/object/public/Shops%20Photos/categories/hd49pj2b46o_1742816383774.png"},{id:7,name:"Audi",logo:"https://gcejhxrwyftlzbztngug.supabase.co/storage/v1/object/public/Shops%20Photos/categories/6c7glgl9rkf_1742816420944.jpeg"},{id:8,name:"Fiat",logo:"https://gcejhxrwyftlzbztngug.supabase.co/storage/v1/object/public/Shops%20Photos/categories/rmc2tvjvqo8_1742816301290.jpeg"}];return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[a.jsxs("div",{className:`transition-all duration-700 ease-out ${t?"opacity-100":"opacity-0"}`,children:[a.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:e("topBrands")}),a.jsx("p",{className:"text-gray-600 text-center mb-10 max-w-2xl mx-auto",children:e("findPartsByBrand")})]}),a.jsx("div",{className:"absolute top-10 left-10 w-16 h-16 bg-indigo-400/20 rounded-full blur-xl"}),a.jsx("div",{className:"absolute bottom-10 right-10 w-20 h-20 bg-blue-400/20 rounded-full blur-xl"}),a.jsx("div",{className:"flex items-center justify-center relative",children:a.jsxs("div",{className:"w-full overflow-hidden bg-white/40 backdrop-blur-sm py-8 px-4 rounded-2xl shadow-sm",children:[a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-20 bg-gradient-to-r from-white via-white/90 to-transparent z-10"}),a.jsx("div",{className:"flex space-x-8 lg:space-x-12 animate-carousel",children:n.concat(n).map((s,o)=>a.jsxs(_e,{to:`/products?brand=${encodeURIComponent(s.name.toLowerCase())}`,className:"flex-shrink-0 w-24 h-20 flex flex-col items-center justify-center group",children:[a.jsx("div",{className:"w-16 h-16 flex items-center justify-center grayscale hover:grayscale-0 transition-all duration-300 hover-lift",children:a.jsx("img",{src:s.logo,alt:s.name,className:"max-h-12 max-w-full object-contain"})}),a.jsx("span",{className:"mt-1 text-xs text-gray-600 font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:s.name})]},`${s.id}-${o}`))}),a.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-20 bg-gradient-to-l from-white via-white/90 to-transparent z-10"})]})})]})},N7=()=>{const e={root:null,rootMargin:"0px",threshold:.15},t=(r,n)=>{r.forEach(s=>{s.isIntersecting&&(s.target.classList.add("fade-in"),s.target.classList.contains("staggered-fade-in")&&s.target.classList.add("visible"),s.target.classList.contains("keep-observing")||n.unobserve(s.target))})};if(typeof IntersectionObserver<"u"){const r=new IntersectionObserver(t,e);return document.querySelectorAll(".reveal-on-scroll").forEach(o=>{r.observe(o)}),document.querySelectorAll(".staggered-fade-in").forEach(o=>{r.observe(o)}),r}return null};function C7(){const{t:e}=we();return h.useEffect(()=>{const t=N7();return()=>{t&&t.disconnect()}},[]),a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[a.jsx("div",{className:"relative",style:{position:"relative",zIndex:20},children:a.jsx(v7,{})}),a.jsxs("div",{className:"mt-16 lg:mt-24 relative",style:{zIndex:10},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-50 to-blue-50 -z-10 skew-y-3 transform origin-bottom-right"}),a.jsx(x7,{})]}),a.jsx("div",{className:"mt-20 lg:mt-28 reveal-on-scroll",children:a.jsx(j7,{})}),a.jsx("div",{className:"mt-20 lg:mt-28 py-12 bg-gradient-to-r from-gray-50 to-indigo-50 reveal-on-scroll",children:a.jsx(S7,{})}),a.jsx("div",{className:"mt-20 lg:mt-28 mb-28 reveal-on-scroll",children:a.jsx(b7,{})})]})}function k7(){const{t:e}=we(),{categories:t,loading:r}=Af(),[n,s]=h.useState(""),o=n?t.filter(i=>i.name.toLowerCase().includes(n.toLowerCase())):t;return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4 md:mb-0",children:e("allCategories")}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(qe,{type:"text",placeholder:e("searchCategories"),value:n,onChange:i=>s(i.target.value),className:"pl-10 pr-4 py-2 w-full"}),a.jsx(rD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})]}),r?a.jsx("div",{className:"text-center py-12",children:e("loadingShops")}):o.length>0?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:o.map(i=>a.jsx(BC,{category:i},i.id))}):a.jsx("div",{className:"text-center py-12 text-gray-500",children:e("noCategoriesFound")})]})}function _7(e){const[t,r]=h.useState([]),[n,s]=h.useState(null),[o,i]=h.useState(!0),[l,c]=h.useState(null);return h.useEffect(()=>{async function u(){try{const{data:d,error:f}=await J.from("categories").select("*").eq("id",e).single();if(f)throw f;s({id:d.id,name:d.name,icon:d.icon});const{data:m,error:g}=await J.from("shop_categories").select(`
            shops (
              id,
              name,
              description,
              logo,
              rating,
              review_count
            )
          `).eq("category_id",e);if(g)throw g;const y=m,p=Array.from(new Map(y.map(w=>w.shops).filter(w=>w!==null).map(w=>[w.id,{id:w.id,name:w.name,description:w.description||"",logo:w.logo||"https://via.placeholder.com/500",categories:[d.name],rating:w.rating||0,reviewCount:w.review_count||0}])).values());r(p)}catch(d){c(d instanceof Error?d:new Error("Failed to fetch shops"))}finally{i(!1)}}e&&u()},[e]),{shops:t,category:n,loading:o,error:l}}function E7(){const{categoryId:e}=ef(),{shops:t,category:r,loading:n,error:s}=_7(e);return n?a.jsx("div",{className:"text-center py-12",children:"Loading shops..."}):s?a.jsxs("div",{className:"text-center py-12 text-red-600",children:["Error loading shops: ",s.message]}):r?a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[r.name," Shops"]}),a.jsxs("p",{className:"text-gray-600 mb-8",children:["Find the best shops for ",r.name]}),t.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:"No shops found for this category"}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>a.jsx(Rf,{shop:o},o.id))})]}):a.jsx("div",{className:"text-center py-12",children:"Category not found"})}function P7(){const{t:e}=we(),{shops:t,loading:r}=qC(),{categories:n,loading:s}=Af(),[o,i]=h.useState(""),[l,c]=h.useState(""),u=t.filter(d=>o?d.categories.includes(o):!0).filter(d=>l?d.name.toLowerCase().includes(l.toLowerCase())||d.description.toLowerCase().includes(l.toLowerCase()):!0);return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4 sm:mb-0",children:e("allShops")}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"relative",children:a.jsx(qe,{type:"text",value:l,onChange:d=>c(d.target.value),placeholder:e("searchShops"),className:"pl-10",icon:a.jsx(Qt,{className:"h-4 w-4 text-gray-400"})})}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("label",{htmlFor:"category",className:"mr-2 text-sm font-medium text-gray-700",children:e("filterByModels")}),a.jsxs("select",{id:"category",value:o,onChange:d=>i(d.target.value),className:"rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:e("allModels")}),n.map(d=>a.jsx("option",{value:d.name,children:d.name},d.id))]})]})]})]}),r||s?a.jsx("div",{className:"text-center py-12",children:e("loadingShops")}):u.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e("noShopsFound")," ",o&&`${e("for")} ${o}`]}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(d=>a.jsx(Rf,{shop:d},d.id))})]})}function T7(e){const[t,r]=h.useState(null),[n,s]=h.useState([]),[o,i]=h.useState(!0),[l,c]=h.useState(null);return h.useEffect(()=>{async function u(){var d;try{const{data:f,error:m}=await J.from("shops").select(`
            *,
            shop_categories (
              categories (name)
            )
          `).eq("id",e).single();if(m)throw m;const g=Array.from(new Set((d=f.shop_categories)==null?void 0:d.map(w=>{var x;return(x=w.categories)==null?void 0:x.name}).filter(w=>!!w)));r({id:f.id,name:f.name,description:f.description||"",logo:f.logo||"",categories:g,rating:f.rating||0,reviewCount:f.review_count||0});const{data:y,error:p}=await J.from("products").select(`
            *,
            categories (name),
            product_car_models (
              car_models (
                make,
                model,
                year_start,
                year_end
              )
            )
          `).eq("shop_id",e).eq("status","active").order("created_at",{ascending:!1});if(p)throw p;s(y.map(w=>{var x,v;return{id:w.id,shopId:w.shop_id,name:w.name,description:w.description||"",price:w.price,image:w.image||"",category:((x=w.categories)==null?void 0:x.name)||"Uncategorized",compatibility:((v=w.product_car_models)==null?void 0:v.map(b=>{const j=b.car_models;return`${j.make} ${j.model} (${j.year_start}${j.year_end?`-${j.year_end}`:"+"})`}))||[],stock:w.stock}}))}catch(f){c(f instanceof Error?f:new Error("Failed to fetch shop details"))}finally{i(!1)}}u()},[e]),{shop:t,products:n,loading:o,error:l}}function A7(){const{user:e}=lt(),{t}=we(),[r,n]=h.useState(!1),[s,o]=h.useState(null);return{userRating:s,loading:r,fetchUserRating:async c=>{if(!e)return null;try{n(!0);const{data:u,error:d}=await J.from("product_ratings").select("rating").eq("product_id",c).eq("user_id",e.id).maybeSingle();return d&&d.code!=="PGRST116"?(console.error("Error fetching user rating:",d),null):(o((u==null?void 0:u.rating)||null),(u==null?void 0:u.rating)||null)}catch(u){return console.error("Error fetching user rating:",u),null}finally{n(!1)}},rateProduct:async(c,u)=>{if(!e)return K.error(t("pleaseLoginToRate")),!1;try{n(!0);const{data:d}=await J.from("product_ratings").select("id").eq("product_id",c).eq("user_id",e.id).maybeSingle();let f;if(d?f=await J.from("product_ratings").update({rating:u}).eq("product_id",c).eq("user_id",e.id):f=await J.from("product_ratings").insert({product_id:c,user_id:e.id,rating:u}),f.error)throw f.error;return o(u),K.success(t("thankYouForRating")),!0}catch(d){return console.error("Error rating product:",d),K.error(d.message||t("errorRatingProduct")),!1}finally{n(!1)}}}}function R7(){const{user:e}=lt(),{t}=we(),[r,n]=h.useState(!1),[s,o]=h.useState(null);return{userRating:s,loading:r,fetchUserRating:async c=>{if(!e)return null;try{n(!0);const{data:u,error:d}=await J.from("shop_ratings").select("rating").eq("shop_id",c).eq("user_id",e.id).maybeSingle();return d&&d.code!=="PGRST116"?(console.error("Error fetching user shop rating:",d),null):(o((u==null?void 0:u.rating)||null),(u==null?void 0:u.rating)||null)}catch(u){return console.error("Error fetching user shop rating:",u),null}finally{n(!1)}},rateShop:async(c,u)=>{if(!e)return K.error(t("pleaseLoginToRate")),!1;try{n(!0);const{data:d}=await J.from("shop_ratings").select("id").eq("shop_id",c).eq("user_id",e.id).maybeSingle();let f;if(d?f=await J.from("shop_ratings").update({rating:u}).eq("shop_id",c).eq("user_id",e.id):f=await J.from("shop_ratings").insert({shop_id:c,user_id:e.id,rating:u}),f.error)throw f.error;return o(u),K.success(t("thankYouForRatingShop")),!0}catch(d){return console.error("Error rating shop:",d),K.error(d.message||t("errorRatingShop")),!1}finally{n(!1)}}}}function D7(){var j;const{t:e}=we(),{user:t}=lt(),{shopId:r}=ef(),{shop:n,products:s,loading:o}=T7(r),{userRating:i,rateShop:l,fetchUserRating:c}=R7(),[u,d]=h.useState(""),[f,m]=h.useState("default"),[g,y]=h.useState(null),[p,w]=h.useState(null),x=(n==null?void 0:n.reviewCount)&&n.reviewCount>0;h.useEffect(()=>{t&&r&&c(r)},[t,r]),h.useEffect(()=>{w(i)},[i]);const v=h.useMemo(()=>{const S=(s==null?void 0:s.filter(N=>{var _,P,R;if(!u.trim())return!0;const C=u.toLowerCase().trim();return N.name.toLowerCase().includes(C)||((_=N.description)==null?void 0:_.toLowerCase().includes(C))||((P=N.category)==null?void 0:P.toLowerCase().includes(C))||((R=N.price)==null?void 0:R.toString().includes(C))}))||[];switch(f){case"priceAsc":return[...S].sort((N,C)=>N.price-C.price);case"priceDesc":return[...S].sort((N,C)=>C.price-N.price);case"nameAsc":return[...S].sort((N,C)=>N.name.localeCompare(C.name));case"nameDesc":return[...S].sort((N,C)=>C.name.localeCompare(N.name));default:return S}},[s,u,f]),b=async S=>{r&&await l(r,S)&&(w(S),K.success(e("thankYouForRatingShop")))};return o?a.jsx("div",{className:"text-center py-12",children:e("loadingShops")}):n?a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6",children:[n.logo?a.jsx("img",{src:n.logo,alt:n.name,className:"w-32 h-32 object-cover rounded-lg"}):a.jsx("div",{className:"w-32 h-32 flex items-center justify-center bg-gray-100 rounded-lg",children:a.jsx(ts,{className:"h-16 w-16 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n.name}),n.description&&a.jsx("p",{className:"text-gray-600 mt-2",children:n.description}),a.jsx("div",{className:"flex items-center mt-3",children:a.jsxs("div",{className:"flex items-center product-rating-stars",children:[[1,2,3,4,5].map(S=>a.jsx("button",{onClick:()=>b(S),onMouseEnter:()=>y(S),onMouseLeave:()=>y(null),className:"focus:outline-none","aria-label":`Rate ${S} star${S!==1?"s":""}`,children:a.jsx(Dp,{className:`h-5 w-5 ${(g?S<=g:p?S<=p:x&&S<=Math.round(n.rating||0))?"text-yellow-400 fill-yellow-400":"text-gray-300"} transition-colors`})},S)),x&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"ml-2 text-gray-700 font-medium",children:((j=n.rating)==null?void 0:j.toFixed(1))||"0.0"}),a.jsxs("span",{className:"ml-2 text-gray-500",children:["(",n.reviewCount||0,") ",e("ratings")]})]}),!x&&!p&&a.jsx("span",{className:"ml-2 text-gray-500",children:e("noRatingsYet")}),!x&&p&&a.jsxs("span",{className:"ml-2 text-gray-500",children:[e("yourRating"),": ",p]})]})}),n.categories&&n.categories.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:n.categories.map(S=>a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800",children:S},S))})]})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[e("products")," (",v.length,")"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-72",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Qt,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",placeholder:e("searchProducts"),value:u,onChange:S=>d(S.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),a.jsxs(br,{value:f,onValueChange:m,children:[a.jsx(or,{className:"w-full sm:w-48 bg-white",children:a.jsx(jr,{placeholder:e("sortBy")})}),a.jsxs(ir,{className:"bg-white",children:[a.jsx(He,{value:"default",children:e("sortBy")}),a.jsx(He,{value:"priceAsc",children:e("priceLowToHigh")}),a.jsx(He,{value:"priceDesc",children:e("priceHighToLow")}),a.jsx(He,{value:"nameAsc",children:e("nameAToZ")}),a.jsx(He,{value:"nameDesc",children:e("nameZToA")})]})]})]})]}),v.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:u.trim()?a.jsxs(a.Fragment,{children:[e("noProductsMatching"),' "',u,'" ',e("inThisShop")]}):a.jsx(a.Fragment,{children:e("noProductsAvailable")})}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:v.map(S=>a.jsx(iv,{product:S},S.id))})]}):a.jsx("div",{className:"text-center py-12 text-red-600",children:e("noShopsFound")})}function M7(){const{t:e}=we(),{items:t,removeItem:r,updateQuantity:n,total:s}=no();return Go(),t.length===0?a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:e("emptyCart")}),a.jsx("p",{className:"mt-2 text-sm md:text-base text-gray-600",children:e("startShopping")}),a.jsx(_e,{to:"/",className:"mt-4 md:mt-6 inline-flex items-center px-3 py-1.5 md:px-4 md:py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:e("continueShopping")})]})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-12",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4 md:mb-8",children:e("shoppingCart")}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(({product:o,quantity:i})=>a.jsxs("li",{className:"flex flex-col sm:flex-row py-4 px-3 sm:py-6 sm:px-6",children:[a.jsx(_e,{to:`/products/${o.id}`,className:"flex-shrink-0 w-full sm:w-24 h-32 sm:h-24 mb-3 sm:mb-0 mx-auto sm:mx-0 border border-gray-200 rounded-md overflow-hidden",children:a.jsx("img",{src:o.image,alt:o.name,className:"w-full h-full object-center object-cover"})}),a.jsxs("div",{className:"sm:ml-4 flex-1 flex flex-col",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between text-base font-medium text-gray-900",children:[a.jsx("h3",{className:"text-center sm:text-left",children:o.name}),a.jsx("p",{className:"text-center sm:text-right sm:ml-4 mt-1 sm:mt-0",children:(o.price*i).toFixed(2)})]}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 text-center sm:text-left",children:o.category})]}),a.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row items-center sm:items-end justify-between text-sm mt-3 sm:mt-0",children:[a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 mb-3 sm:mb-0",children:[a.jsxs("div",{className:"flex items-center border rounded-md",children:[a.jsx("button",{onClick:()=>n(o.id,Math.max(0,i-1)),className:"p-1.5 sm:p-2 hover:bg-gray-100","aria-label":"Decrease quantity",children:a.jsx(iD,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),a.jsx("span",{className:"px-2 sm:px-4 py-1 sm:py-2 text-gray-900",children:i}),a.jsx("button",{onClick:()=>n(o.id,i+1),className:"p-1.5 sm:p-2 hover:bg-gray-100","aria-label":"Increase quantity",children:a.jsx(fD,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),a.jsx("button",{type:"button",onClick:()=>r(o.id),className:"text-red-600 hover:text-red-500","aria-label":"Remove item",children:a.jsx(vD,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),a.jsxs("div",{className:"text-gray-500 text-sm",children:[o.price.toFixed(2)," ",e("each")]})]})]})]},o.id))}),a.jsxs("div",{className:"border-t border-gray-200 px-4 py-4 sm:py-6 sm:px-6",children:[a.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[a.jsx("p",{children:e("subtotal")}),a.jsxs("p",{children:[s.toFixed(2)," EGP "]})]}),a.jsx("p",{className:"mt-0.5 text-xs sm:text-sm text-gray-500",children:e("shippingTaxes")}),a.jsx(_e,{to:"/checkout",className:"mt-4 w-full flex justify-center items-center px-4 py-2 sm:py-3 border border-transparent rounded-md shadow-sm text-sm sm:text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:e("checkout")}),a.jsx("div",{className:"mt-4 sm:mt-6 flex justify-center text-xs sm:text-sm text-center text-gray-500",children:a.jsxs("p",{children:[e("or")," ",a.jsxs(_e,{to:"/",className:"text-indigo-600 font-medium hover:text-indigo-500",children:[e("continueShopping"),a.jsx("span",{"aria-hidden":"true",children:" "})]})]})})]})]})]})}function I7(){var v,b;const{t:e}=we(),t=Ze(),r=Dn(),{signIn:n,signInWithSocial:s}=lt(),[o,i]=h.useState(""),[l,c]=h.useState(""),[u,d]=h.useState(null),[f,m]=h.useState(!1),[g,y]=h.useState(null),p=((b=(v=r.state)==null?void 0:v.from)==null?void 0:b.pathname)||"/";async function w(j){j.preventDefault(),d(null),m(!0);try{await n(o,l),t(p,{replace:!0})}catch(S){S instanceof Error?d(S.message):d("Failed to sign in")}finally{m(!1)}}async function x(j){y(j);try{await s(j)}catch(S){S instanceof Error?d(S.message):d(`Failed to sign in with ${j}`),y(null)}}return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 auth-page",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[a.jsxs("div",{className:"flex items-center justify-center mb-4",children:[a.jsxs("svg",{width:"50",height:"50",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-2 brand-icon",children:[a.jsx("rect",{width:"40",height:"40",rx:"8",fill:"url(#paint0_linear)"}),a.jsx("path",{d:"M10 25C10 22.2386 12.2386 20 15 20H25C27.7614 20 30 22.2386 30 25V28C30 29.1046 29.1046 30 28 30H12C10.8954 30 10 29.1046 10 28V25Z",fill:"white"}),a.jsx("circle",{cx:"15",cy:"25",r:"2",fill:"#3B82F6"}),a.jsx("circle",{cx:"25",cy:"25",r:"2",fill:"#3B82F6"}),a.jsx("path",{d:"M11 18L15 10H25L29 18",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("defs",{children:a.jsxs("linearGradient",{id:"paint0_linear",x1:"0",y1:"0",x2:"40",y2:"40",gradientUnits:"userSpaceOnUse",children:[a.jsx("stop",{stopColor:"#3B82F6"}),a.jsx("stop",{offset:"1",stopColor:"#1E40AF"})]})})]}),a.jsx("span",{className:"text-4xl font-extrabold leading-tight py-1 bg-gradient-to-r from-indigo-600 to-blue-500 bg-clip-text text-transparent",children:e("brandName")})]}),a.jsx("h2",{className:"mt-2 text-center text-3xl font-bold tracking-tight text-gray-900",children:e("Sign in Your Account")}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[e("Dont Have Account?")," ",a.jsx(_e,{to:"/register",className:"font-medium text-indigo-600 hover:text-indigo-500",children:e("Create Account")})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[u&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 rounded-md p-4 text-sm",children:u}),a.jsxs("form",{className:"mt-6 space-y-6",onSubmit:w,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:e("emailAddress")}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm auth-input-group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none auth-input-icon",children:a.jsx(vf,{className:"h-5 w-5 text-gray-400 auth-icon"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o,onChange:j=>i(j.target.value),className:"block w-full pl-10 rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input",placeholder:"name@example.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:e("password")}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm auth-input-group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none auth-input-icon",children:a.jsx(Rp,{className:"h-5 w-5 text-gray-400 auth-icon"})}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:l,onChange:j=>c(j.target.value),className:"block w-full pl-10 rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input"})]})]}),a.jsx("div",{className:"flex items-center justify-end",children:a.jsx("div",{className:"text-sm",children:a.jsx(_e,{to:"/forgot-password",className:"font-medium text-indigo-600 hover:text-indigo-500",children:e("Forgot Password ?")})})}),a.jsxs("div",{className:"mt-6 relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:e("orContinueWith")})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ie,{type:"button",variant:"outline",className:"w-full justify-center text-gray-700 bg-white hover:bg-gray-50",disabled:!!g,onClick:()=>x("google"),children:[a.jsxs("svg",{className:"h-5 w-5 mr-2 social-icon","aria-hidden":"true",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M12.0003 4.75C13.7703 4.75 15.3553 5.36002 16.6053 6.54998L20.0353 3.12C17.9503 1.19 15.2353 0 12.0003 0C7.31028 0 3.25527 2.69 1.28027 6.60998L5.27028 9.70498C6.21528 6.86002 8.87028 4.75 12.0003 4.75Z",fill:"#EA4335"}),a.jsx("path",{d:"M23.49 12.275C23.49 11.49 23.415 10.73 23.3 10H12V14.51H18.47C18.18 15.99 17.34 17.25 16.08 18.1L19.945 21.1C22.2 19.01 23.49 15.92 23.49 12.275Z",fill:"#4285F4"}),a.jsx("path",{d:"M5.26498 14.2949C5.02498 13.5699 4.88501 12.7999 4.88501 11.9999C4.88501 11.1999 5.01998 10.4299 5.26498 9.7049L1.275 6.60986C0.46 8.22986 0 10.0599 0 11.9999C0 13.9399 0.46 15.7699 1.28 17.3899L5.26498 14.2949Z",fill:"#FBBC05"}),a.jsx("path",{d:"M12.0004 24.0001C15.2404 24.0001 17.9654 22.935 19.9454 21.095L16.0804 18.095C15.0054 18.82 13.6204 19.245 12.0004 19.245C8.8704 19.245 6.21537 17.135 5.2654 14.29L1.27539 17.385C3.25539 21.31 7.3104 24.0001 12.0004 24.0001Z",fill:"#34A853"})]}),e(g==="google"?"signingInWithGoogle":"Sign in With Google")]}),a.jsxs(ie,{type:"button",variant:"outline",className:"w-full justify-center text-gray-700 bg-white hover:bg-gray-50",disabled:!!g,onClick:()=>x("facebook"),children:[a.jsx(aN,{className:"h-5 w-5 mr-2 text-blue-600 social-icon"}),e(g==="facebook"?"signingInWithFacebook":"Sign in With Facebook")]})]}),a.jsx("div",{children:a.jsx(ie,{type:"submit",disabled:f,className:"flex w-full justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:e(f?"signingIn":"Sign in")})})]})]})})]})}function O7(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Nr=e=>{const{present:t,children:r}=e,n=L7(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=Ie(n.ref,F7(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:o}):null};Nr.displayName="Presence";function L7(e){const[t,r]=h.useState(),n=h.useRef({}),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=O7(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=su(n.current);o.current=l==="mounted"?u:"none"},[l]),Pt(()=>{const u=n.current,d=s.current;if(d!==e){const m=o.current,g=su(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Pt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const p=su(n.current).includes(g.animationName);if(g.target===t&&p&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=g=>{g.target===t&&(o.current=su(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function su(e){return(e==null?void 0:e.animationName)||"none"}function F7(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var av="Checkbox",[$7,hK]=Sr(av),[V7,B7]=$7(av),GC=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,g]=h.useState(null),y=Ie(t,j=>g(j)),p=h.useRef(!1),w=m?d||!!m.closest("form"):!0,[x=!1,v]=mn({prop:s,defaultProp:o,onChange:u}),b=h.useRef(x);return h.useEffect(()=>{const j=m==null?void 0:m.form;if(j){const S=()=>v(b.current);return j.addEventListener("reset",S),()=>j.removeEventListener("reset",S)}},[m,v]),a.jsxs(V7,{scope:r,state:x,disabled:l,children:[a.jsx(Ce.button,{type:"button",role:"checkbox","aria-checked":Ws(x)?"mixed":x,"aria-required":i,"data-state":XC(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onKeyDown:je(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:je(e.onClick,j=>{v(S=>Ws(S)?!0:!S),w&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),w&&a.jsx(U7,{control:m,bubbles:!p.current,name:n,value:c,checked:x,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Ws(o)?!1:o})]})});GC.displayName=av;var KC="CheckboxIndicator",QC=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,o=B7(KC,r);return a.jsx(Nr,{present:n||Ws(o.state)||o.state===!0,children:a.jsx(Ce.span,{"data-state":XC(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});QC.displayName=KC;var U7=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...o}=e,i=h.useRef(null),l=KN(r),c=$N(t);h.useEffect(()=>{const d=i.current,f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&g){const y=new Event("click",{bubbles:n});d.indeterminate=Ws(r),g.call(d,Ws(r)?!1:r),d.dispatchEvent(y)}},[l,r,n]);const u=h.useRef(Ws(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ws(e){return e==="indeterminate"}function XC(e){return Ws(e)?"indeterminate":e?"checked":"unchecked"}var ZC=GC,z7=QC;const lv=h.forwardRef(({className:e,...t},r)=>a.jsx(ZC,{ref:r,className:ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(z7,{className:ce("flex items-center justify-center text-current"),children:a.jsx(Ml,{className:"h-4 w-4"})})}));lv.displayName=ZC.displayName;function W7(){const{t:e}=we(),t=Ze(),{signUp:r,signInWithSocial:n}=lt(),[s,o]=h.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phoneNumber:""}),[i,l]=h.useState(!1),[c,u]=h.useState(null),[d,f]=h.useState(!1),[m,g]=h.useState(null);async function y(w){if(w.preventDefault(),u(null),s.password!==s.confirmPassword){u("Passwords do not match");return}if(!i){u("You must accept the terms and conditions");return}f(!0);try{await r(s.email,s.password,{data:{first_name:s.firstName,last_name:s.lastName,phone_number:s.phoneNumber}}),t("/")}catch(x){u(x instanceof Error?x.message:"Failed to create account")}finally{f(!1)}}async function p(w){g(w);try{await n(w)}catch(x){x instanceof Error?u(x.message):u(`Failed to sign up with ${w}`),g(null)}}return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 auth-page",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[a.jsxs("div",{className:"flex items-center justify-center mb-4",children:[a.jsxs("svg",{width:"50",height:"50",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-2 brand-icon",children:[a.jsx("rect",{width:"40",height:"40",rx:"8",fill:"url(#paint0_linear)"}),a.jsx("path",{d:"M10 25C10 22.2386 12.2386 20 15 20H25C27.7614 20 30 22.2386 30 25V28C30 29.1046 29.1046 30 28 30H12C10.8954 30 10 29.1046 10 28V25Z",fill:"white"}),a.jsx("circle",{cx:"15",cy:"25",r:"2",fill:"#3B82F6"}),a.jsx("circle",{cx:"25",cy:"25",r:"2",fill:"#3B82F6"}),a.jsx("path",{d:"M11 18L15 10H25L29 18",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("defs",{children:a.jsxs("linearGradient",{id:"paint0_linear",x1:"0",y1:"0",x2:"40",y2:"40",gradientUnits:"userSpaceOnUse",children:[a.jsx("stop",{stopColor:"#3B82F6"}),a.jsx("stop",{offset:"1",stopColor:"#1E40AF"})]})})]}),a.jsx("span",{className:"text-4xl font-extrabold leading-tight py-1 bg-gradient-to-r from-indigo-600 to-blue-500 bg-clip-text text-transparent",children:e("brandName")})]}),a.jsx("h2",{className:"text-center text-3xl font-bold tracking-tight text-gray-900",children:e("joinOurCommunity")}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[e("alreadyHaveAccount")," ",a.jsx(_e,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:e("signInToYourAccount")})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[c&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 rounded-md p-4 text-sm",children:c}),a.jsxs("form",{className:"mt-6 space-y-6",onSubmit:y,children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:e("firstName")}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm auth-input-group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none auth-input-icon",children:a.jsx(_w,{className:"h-5 w-5 text-gray-400 auth-icon"})}),a.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:s.firstName,onChange:w=>o(x=>({...x,firstName:w.target.value})),className:"block w-full pl-10 rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:e("lastName")}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm auth-input-group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none auth-input-icon",children:a.jsx(_w,{className:"h-5 w-5 text-gray-400 auth-icon"})}),a.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:s.lastName,onChange:w=>o(x=>({...x,lastName:w.target.value})),className:"block w-full pl-10 rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:e("emailAddress")}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm auth-input-group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none auth-input-icon",children:a.jsx(vf,{className:"h-5 w-5 text-gray-400 auth-icon"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:w=>o(x=>({...x,email:w.target.value})),className:"block w-full pl-10 rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:e("phoneNumber")}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm auth-input-group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none auth-input-icon",children:a.jsx(yf,{className:"h-5 w-5 text-gray-400 auth-icon"})}),a.jsx("input",{id:"phoneNumber",name:"phoneNumber",type:"tel",required:!0,value:s.phoneNumber,onChange:w=>o(x=>({...x,phoneNumber:w.target.value})),className:"block w-full pl-10 rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input",placeholder:"e.g., +20 1234567890"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:e("password")}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm auth-input-group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none auth-input-icon",children:a.jsx(Rp,{className:"h-5 w-5 text-gray-400 auth-icon"})}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:s.password,onChange:w=>o(x=>({...x,password:w.target.value})),className:"block w-full pl-10 rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:e("confirmPassword")}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm auth-input-group",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none auth-input-icon",children:a.jsx(Rp,{className:"h-5 w-5 text-gray-400 auth-icon"})}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:s.confirmPassword,onChange:w=>o(x=>({...x,confirmPassword:w.target.value})),className:"block w-full pl-10 rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input"})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx(lv,{id:"terms",checked:i,onCheckedChange:w=>{l(w)},className:"mr-2 mt-1"}),a.jsx("div",{className:"ml-2 text-sm",children:a.jsxs("label",{htmlFor:"terms",className:"text-gray-700",children:[e("Accept Terms")," ",a.jsx(_e,{to:"/terms",className:"text-indigo-600 hover:text-indigo-500",children:e("Terms and Conditions")})]})})]}),a.jsxs("div",{className:"mt-6 relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:e("Or Continue With")})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ie,{type:"button",variant:"outline",className:"w-full justify-center text-gray-700 bg-white hover:bg-gray-50",disabled:!!m,onClick:()=>p("google"),children:[a.jsxs("svg",{className:"h-5 w-5 mr-2 social-icon","aria-hidden":"true",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M12.0003 4.75C13.7703 4.75 15.3553 5.36002 16.6053 6.54998L20.0353 3.12C17.9503 1.19 15.2353 0 12.0003 0C7.31028 0 3.25527 2.69 1.28027 6.60998L5.27028 9.70498C6.21528 6.86002 8.87028 4.75 12.0003 4.75Z",fill:"#EA4335"}),a.jsx("path",{d:"M23.49 12.275C23.49 11.49 23.415 10.73 23.3 10H12V14.51H18.47C18.18 15.99 17.34 17.25 16.08 18.1L19.945 21.1C22.2 19.01 23.49 15.92 23.49 12.275Z",fill:"#4285F4"}),a.jsx("path",{d:"M5.26498 14.2949C5.02498 13.5699 4.88501 12.7999 4.88501 11.9999C4.88501 11.1999 5.01998 10.4299 5.26498 9.7049L1.275 6.60986C0.46 8.22986 0 10.0599 0 11.9999C0 13.9399 0.46 15.7699 1.28 17.3899L5.26498 14.2949Z",fill:"#FBBC05"}),a.jsx("path",{d:"M12.0004 24.0001C15.2404 24.0001 17.9654 22.935 19.9454 21.095L16.0804 18.095C15.0054 18.82 13.6204 19.245 12.0004 19.245C8.8704 19.245 6.21537 17.135 5.2654 14.29L1.27539 17.385C3.25539 21.31 7.3104 24.0001 12.0004 24.0001Z",fill:"#34A853"})]}),e(m==="google"?"signingUpWithGoogle":"signUpWithGoogle")]}),a.jsxs(ie,{type:"button",variant:"outline",className:"w-full justify-center text-gray-700 bg-white hover:bg-gray-50",disabled:!!m,onClick:()=>p("facebook"),children:[a.jsx(aN,{className:"h-5 w-5 mr-2 text-blue-600 social-icon"}),e(m==="facebook"?"signingUpWithFacebook":"signUpWithFacebook")]})]}),a.jsx("div",{children:a.jsx(ie,{type:"submit",disabled:d,className:"flex w-full justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:e(d?"creatingYourAccount":"Create Account")})})]})]})})]})}const H7=cc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Df=h.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:ce(H7({variant:t}),e),...r}));Df.displayName="Alert";const cv=h.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:ce("mb-1 font-medium leading-none tracking-tight",e),...t}));cv.displayName="AlertTitle";const JC=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ce("text-sm [&_p]:leading-relaxed",e),...t}));JC.displayName="AlertDescription";function q7(){const{t:e}=we(),{forgotPassword:t}=lt(),[r,n]=h.useState(""),[s,o]=h.useState(!1),[i,l]=h.useState(!1),[c,u]=h.useState(null);async function d(f){if(f.preventDefault(),o(!0),u(null),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){u(e("invalidEmailAddress")),o(!1);return}try{const g=await t(r);g.success?(l(!0),K.success(e("resetLinkSent"))):u(g.message)}catch(g){console.error("Password reset error:",g),u(e("errorSendingResetLink"))}finally{o(!1)}}return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 auth-page",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[a.jsxs("div",{className:"flex items-center justify-center mb-4",children:[a.jsxs("svg",{width:"50",height:"50",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-2 brand-icon",children:[a.jsx("rect",{width:"40",height:"40",rx:"8",fill:"url(#paint0_linear)"}),a.jsx("path",{d:"M10 25C10 22.2386 12.2386 20 15 20H25C27.7614 20 30 22.2386 30 25V28C30 29.1046 29.1046 30 28 30H12C10.8954 30 10 29.1046 10 28V25Z",fill:"white"}),a.jsx("circle",{cx:"15",cy:"25",r:"2",fill:"#3B82F6"}),a.jsx("circle",{cx:"25",cy:"25",r:"2",fill:"#3B82F6"}),a.jsx("path",{d:"M11 18L15 10H25L29 18",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("defs",{children:a.jsxs("linearGradient",{id:"paint0_linear",x1:"0",y1:"0",x2:"40",y2:"40",gradientUnits:"userSpaceOnUse",children:[a.jsx("stop",{stopColor:"#3B82F6"}),a.jsx("stop",{offset:"1",stopColor:"#1E40AF"})]})})]}),a.jsx("span",{className:"text-4xl font-extrabold leading-tight py-1 bg-gradient-to-r from-indigo-600 to-blue-500 bg-clip-text text-transparent",children:e("brandName")})]}),a.jsx("h2",{className:"mt-2 text-center text-3xl font-bold tracking-tight text-gray-900",children:e("resetYourPassword")}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:e("enterEmailInstructions")})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:i?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:a.jsx("svg",{className:"h-6 w-6 text-green-600 no-flip",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-2",children:e("checkYourEmail")}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e("resetLinkSent")}),a.jsxs(_e,{to:"/login",className:"inline-flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-500",children:[e("backToLogin")," "]})]}):a.jsxs("form",{className:"space-y-6",onSubmit:d,children:[c&&a.jsx(Df,{variant:"destructive",className:"mb-4",children:a.jsx(cv,{children:c})}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:e("emailAddress")}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:f=>n(f.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input",placeholder:"your@email.com"})]}),a.jsx("div",{children:a.jsx(ie,{type:"submit",disabled:s,className:"flex w-full justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:e(s?"sending":"sendResetLink")})}),a.jsx("div",{className:"text-center mt-4",children:a.jsxs(_e,{to:"/login",className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:[" ",e("backToLogin")]})})]})})})]})}function Y7(){const{t:e}=we(),t=Ze(),[r,n]=h.useState(""),[s,o]=h.useState(""),[i,l]=h.useState(!1),[c,u]=h.useState(null),[d,f]=h.useState(null);h.useEffect(()=>{const p=window.location.hash;(!p||!p.includes("type=recovery"))&&(t("/forgot-password"),K.error(e("invalidOrExpiredResetLink")))},[t,e]);const m=p=>{if(p.length<8)return"weak";const w=/[A-Z]/.test(p),x=/[a-z]/.test(p),v=/\d/.test(p),b=/[!@#$%^&*(),.?":{}|<>]/.test(p),j=[w,x,v,b].filter(Boolean).length;return j<3?"weak":j===3?"medium":"strong"},g=p=>{const w=p.target.value;n(w),f(w?m(w):null)};async function y(p){if(p.preventDefault(),u(null),r!==s){u(e("passwordsDontMatch"));return}if(r.length<8){u(e("passwordTooShort"));return}if(d==="weak"){u(e("passwordTooWeak"));return}l(!0);try{const{error:w}=await J.auth.updateUser({password:r});if(w)throw w;K.success(e("passwordResetSuccess")),setTimeout(()=>t("/login"),2e3)}catch(w){console.error("Password update error:",w),u(w.message||e("passwordResetFailed"))}finally{l(!1)}}return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 auth-page",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[a.jsxs("div",{className:"flex items-center justify-center mb-4",children:[a.jsxs("svg",{width:"50",height:"50",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-2 brand-icon",children:[a.jsx("rect",{width:"40",height:"40",rx:"8",fill:"url(#paint0_linear)"}),a.jsx("path",{d:"M10 25C10 22.2386 12.2386 20 15 20H25C27.7614 20 30 22.2386 30 25V28C30 29.1046 29.1046 30 28 30H12C10.8954 30 10 29.1046 10 28V25Z",fill:"white"}),a.jsx("circle",{cx:"15",cy:"25",r:"2",fill:"#3B82F6"}),a.jsx("circle",{cx:"25",cy:"25",r:"2",fill:"#3B82F6"}),a.jsx("path",{d:"M11 18L15 10H25L29 18",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("defs",{children:a.jsxs("linearGradient",{id:"paint0_linear",x1:"0",y1:"0",x2:"40",y2:"40",gradientUnits:"userSpaceOnUse",children:[a.jsx("stop",{stopColor:"#3B82F6"}),a.jsx("stop",{offset:"1",stopColor:"#1E40AF"})]})})]}),a.jsx("span",{className:"text-4xl font-extrabold leading-tight py-1 bg-gradient-to-r from-indigo-600 to-blue-500 bg-clip-text text-transparent",children:e("brandName")})]}),a.jsx("h2",{className:"mt-2 text-center text-3xl font-bold tracking-tight text-gray-900",children:e("createNewPassword")}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:e("enterNewPasswordBelow")})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:a.jsxs("form",{className:"space-y-6",onSubmit:y,children:[c&&a.jsx(Df,{variant:"destructive",children:a.jsx(cv,{children:c})}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:e("newPassword")}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:r,onChange:g,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input"}),d&&a.jsx("div",{className:"mt-2",children:a.jsxs("div",{className:"flex items-center",children:[a.jsxs("span",{className:"text-xs mr-2",children:[e("passwordStrength"),":"]}),a.jsx("div",{className:"h-1.5 w-full bg-gray-200 rounded-full overflow-hidden password-strength-meter",children:a.jsx("div",{className:`h-full ${d==="weak"?"w-1/3 bg-red-500":d==="medium"?"w-2/3 bg-yellow-500":"w-full bg-green-500"}`})}),a.jsx("span",{className:"text-xs ml-2",children:e(d==="weak"?"weak":d==="medium"?"medium":"strong")})]})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:e("confirmNewPassword")}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:s,onChange:p=>o(p.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 auth-input"})]}),a.jsx("div",{children:a.jsx(ie,{type:"submit",disabled:i,className:"flex w-full justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:e(i?"updating":"resetPassword")})})]})})})]})}function G7(){const{t:e,language:t}=we(),r=Ze(),[n]=hS(),s=n.get("q")||"",{products:o,shops:i,carModels:l,loading:c,error:u}=$0(s),d=(y,p)=>{r(`/products?make=${encodeURIComponent(y)}&model=${encodeURIComponent(p)}`)};if(c)return a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsx("div",{className:"text-center",children:e("searching")})});if(u)return a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsxs("div",{className:"text-center text-red-600",children:["Error: ",u.message]})});const f=o.length>0||i.length>0||l.length>0,m=t==="ar",g=()=>{r(-1)};return a.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 ${m?"rtl":"ltr"}`,children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(ie,{variant:"ghost",onClick:g,className:"flex items-center gap-2 hover:bg-gray-100 mr-2","aria-label":e("back"),children:[a.jsx(Yo,{className:"h-4 w-4"}),e("back")]})}),a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:[e("searchResults"),' "',s,'"']}),!f&&a.jsxs("div",{className:"text-center text-gray-500",children:[e("noResults"),' "',s,'"']}),l.length>0&&a.jsxs("div",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:e("carModels")}),a.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 md:gap-6",children:l.map(y=>a.jsxs("div",{onClick:()=>d(y.make,y.model),className:"flex flex-col items-center p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow bg-white cursor-pointer",children:[a.jsx("div",{className:"rounded-full p-3 sm:p-4 bg-indigo-100 mb-3 sm:mb-4",children:a.jsx(oc,{className:"h-6 w-6 sm:h-8 sm:w-8 text-indigo-600"})}),a.jsxs("h3",{className:"text-base sm:text-lg font-medium text-gray-900 text-center",children:[y.make," ",y.model]}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:[y.yearStart,y.yearEnd?` - ${y.yearEnd}`:"+"]})]},y.id))})]}),i.length>0&&a.jsxs("div",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:e("shops")}),a.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 md:gap-6",children:i.map(y=>a.jsx(Rf,{shop:y},y.id))})]}),o.length>0&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:e("products")}),a.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 md:gap-6",children:o.map(y=>a.jsx(iv,{product:y},y.id))})]})]})}function K7(){const{t:e,language:t}=we(),[r,n]=h.useState({name:"",email:"",subject:"",message:""}),[s,o]=h.useState(!1),[i,l]=h.useState(null),[c,u]=h.useState(t==="ar");h.useEffect(()=>{u(t==="ar")},[t]);const d=m=>{const{name:g,value:y}=m.target;n(p=>({...p,[g]:y}))},f=async m=>{m.preventDefault(),o(!0),l(null),setTimeout(()=>{o(!1),l({success:!0,message:e("messageSent")}),n({name:"",email:"",subject:"",message:""})},1500)};return a.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 ${c?"rtl":""}`,children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:e("contactUs")}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:e("getInTouch")})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 contact-info",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:e("getInTouch")}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(vf,{className:"h-6 w-6 text-indigo-600 no-flip"})}),a.jsxs("div",{className:`${c?"mr-4":"ml-4"}`,children:[a.jsx("h3",{className:"text-base font-medium text-gray-900",children:e("email")}),a.jsx("p",{className:"mt-1 text-gray-600",children:"Zabtteg@gmail.com"})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(yf,{className:"h-6 w-6 text-indigo-600 no-flip"})}),a.jsxs("div",{className:`${c?"mr-4":"ml-4"}`,children:[a.jsx("h3",{className:"text-base font-medium text-gray-900",children:e("phone")}),a.jsx("p",{className:"mt-1 text-gray-600",children:e("number")})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Do,{className:"h-6 w-6 text-indigo-600 no-flip"})}),a.jsxs("div",{className:`${c?"mr-4":"ml-4"}`,children:[a.jsx("h3",{className:"text-base font-medium text-gray-900",children:e("address")}),a.jsxs("p",{className:"mt-1 text-gray-600",children:["Tagamoa Elkhames",a.jsx("br",{}),"Cairo, Egypt"]})]})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h3",{className:"text-base font-medium text-gray-900 mb-4",children:e("followUs")}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("a",{href:"#",className:"text-gray-500 hover:text-indigo-600",children:[a.jsx("span",{className:"sr-only",children:"Facebook"}),a.jsx("svg",{className:"h-6 w-6 no-flip",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),a.jsxs("a",{href:"https://www.instagram.com/zabtt_eg/",className:"text-gray-500 hover:text-indigo-600",target:"_blank",rel:"noopener noreferrer",children:[a.jsx("span",{className:"sr-only",children:"Instagram"}),a.jsx("svg",{className:"h-6 w-6 no-flip",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),a.jsxs("a",{href:"#",className:"text-gray-500 hover:text-indigo-600",children:[a.jsx("span",{className:"sr-only",children:"Twitter"}),a.jsx("svg",{className:"h-6 w-6 no-flip",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:e("sendMessage")}),i&&a.jsx("div",{className:`p-4 mb-6 rounded-md ${i.success?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:i.message}),a.jsxs("form",{onSubmit:f,className:"space-y-6 contact-form",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:e("yourName")}),a.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:d,required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:e("yourName")})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:e("yourEmail")}),a.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:d,required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:e("yourEmail")})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:e("subject")}),a.jsx("input",{type:"text",id:"subject",name:"subject",value:r.subject,onChange:d,required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:e("subject")})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:e("message")}),a.jsx("textarea",{id:"message",name:"message",rows:4,value:r.message,onChange:d,required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:e("message")})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:s,className:"inline-flex justify-center items-center w-full sm:w-auto px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?e("sending"):a.jsxs(a.Fragment,{children:[e("sendMessage"),a.jsx(uN,{className:`${c?"mr-2":"ml-2"} h-4 w-4 no-flip`})]})})})]})]})})]})]})}function Q7({user:e,profile:t}){return a.jsx("div",{className:"bg-indigo-600 px-6 py-8",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-20 w-20 rounded-full bg-indigo-300 flex items-center justify-center",children:a.jsx(xD,{className:"h-10 w-10 text-indigo-700"})}),a.jsxs("div",{className:"ml-6 text-white",children:[a.jsxs("h1",{className:"text-2xl font-bold",children:[t.firstName||""," ",t.lastName||""]}),a.jsx("p",{className:"text-indigo-100",children:e.email}),a.jsx("p",{className:"text-indigo-100 mt-1",children:t.phoneNumber||""})]})]})})}function X7({user:e,profile:t}){const{t:r}=we(),[n,s]=h.useState(!1),[o,i]=h.useState(!1),[l,c]=h.useState((t==null?void 0:t.phoneNumber)||""),[u,d]=h.useState((t==null?void 0:t.firstName)||""),[f,m]=h.useState((t==null?void 0:t.lastName)||""),[g,y]=h.useState(!1),p=async()=>{if(e)try{y(!0);const{error:x}=await J.auth.updateUser({data:{phone_number:l,first_name:u,last_name:f}});if(x)throw x;K.success(r("profileUpdated")),s(!1),i(!1)}catch(x){console.error("Error updating profile:",x),K.error(r("profileUpdateError"))}finally{y(!1)}},w=()=>{s(!1),i(!1),c((t==null?void 0:t.phoneNumber)||""),d((t==null?void 0:t.firstName)||""),m((t==null?void 0:t.lastName)||"")};return a.jsxs("div",{className:"py-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:r("personalInformation")}),a.jsxs("div",{className:"mt-4 space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:r("firstName")}),o?a.jsx(qe,{type:"text",value:u,onChange:x=>d(x.target.value)}):a.jsx("p",{className:"mt-1 text-md text-gray-900",children:(t==null?void 0:t.firstName)||r("notProvided")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:r("lastName")}),o?a.jsx(qe,{type:"text",value:f,onChange:x=>m(x.target.value)}):a.jsx("p",{className:"mt-1 text-md text-gray-900",children:(t==null?void 0:t.lastName)||r("notProvided")})]})]}),!o&&a.jsxs("button",{onClick:()=>i(!0),className:"text-sm text-indigo-600 hover:text-indigo-800 flex items-center mt-2",children:[a.jsx(lD,{className:"h-4 w-4 mr-1"}),r("updateName")]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:r("emailAddress")}),a.jsx("p",{className:"mt-1 text-md text-gray-900",children:e.email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:r("phoneNumber")}),n?a.jsx(qe,{type:"tel",value:l,onChange:x=>c(x.target.value)}):a.jsx("p",{className:"mt-1 text-md text-gray-900",children:(t==null?void 0:t.phoneNumber)||r("notProvided")}),!n&&a.jsxs("button",{onClick:()=>s(!0),className:"text-sm text-indigo-600 hover:text-indigo-800 flex items-center mt-2",children:[a.jsx(uD,{className:"h-4 w-4 mr-1"}),r("updatePhoneNumber")]})]}),(n||o)&&a.jsxs("div",{className:"mt-4 flex gap-2",children:[a.jsx("button",{onClick:p,disabled:g,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:g?"...":r("saveChanges")}),a.jsx("button",{onClick:w,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:r("cancel")})]})]})]})}function Z7({navigate:e}){const{t}=we();return a.jsxs("div",{className:"py-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:t("quickActions")}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsxs("button",{onClick:()=>e("/cart"),className:"w-full flex justify-between items-center px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-md transition",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(mD,{className:"h-5 w-5 text-gray-500"}),a.jsx("span",{className:"ml-3 text-gray-900",children:t("myCart")})]}),a.jsx($h,{className:"h-4 w-4 text-gray-400"})]}),a.jsxs("button",{onClick:()=>e("/checkout"),className:"w-full flex justify-between items-center px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-md transition",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(eD,{className:"h-5 w-5 text-gray-500"}),a.jsx("span",{className:"ml-3 text-gray-900",children:t("checkout")})]}),a.jsx($h,{className:"h-4 w-4 text-gray-400"})]}),a.jsxs("button",{onClick:()=>e("/saved-addresses"),className:"w-full flex justify-between items-center px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-md transition",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(sD,{className:"h-5 w-5 text-gray-500"}),a.jsx("span",{className:"ml-3 text-gray-900",children:t("savedAddresses")})]}),a.jsx($h,{className:"h-4 w-4 text-gray-400"})]})]})]})}function J7({onLogout:e}){const{t}=we();return a.jsx("button",{onClick:e,className:"bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-md transition",children:t("logout")})}const io=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));io.displayName="Card";const uv=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ce("flex flex-col space-y-1.5 p-6",e),...t}));uv.displayName="CardHeader";const ek=h.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:ce("text-2xl font-semibold leading-none tracking-tight",e),...t}));ek.displayName="CardTitle";const e9=h.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));e9.displayName="CardDescription";const Ko=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ce("p-6 pt-0",e),...t}));Ko.displayName="CardContent";const tk=h.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ce("flex items-center p-6 pt-0",e),...t}));tk.displayName="CardFooter";function t9({balance:e,onRefresh:t}){const{t:r}=we(),[n,s]=h.useState(!1),o=async()=>{s(!0);try{await t(),K.success(r("balanceRefreshed"))}catch(i){console.error("Error refreshing balance:",i),K.error(r("failedToRefreshBalance")||"Failed to refresh balance")}finally{s(!1)}};return a.jsxs(io,{className:"bg-gradient-to-r from-violet-50 to-indigo-50 border-indigo-100",children:[a.jsx(uv,{className:"pb-2",children:a.jsxs(ek,{className:"text-lg text-indigo-700 flex items-center justify-between",children:[a.jsx("span",{children:r("balanceCredits")}),a.jsxs(ie,{variant:"ghost",size:"sm",onClick:o,disabled:n,className:"text-indigo-600 hover:text-indigo-800 hover:bg-indigo-100",children:[a.jsx(cN,{className:`h-4 w-4 mr-1 ${n?"animate-spin":""}`}),r("refresh")]})]})}),a.jsxs(Ko,{children:[a.jsx("div",{className:"text-3xl font-bold text-indigo-800",children:So(e||0)}),a.jsx("p",{className:"text-sm text-indigo-600 mt-1",children:r("creditsEarned")})]})]})}function r9({coupons:e,loading:t}){const{t:r}=we();return t?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-500"})}):e.length===0?a.jsx("div",{className:"text-center py-8 bg-white rounded-lg shadow-md",children:a.jsx("p",{className:"text-gray-500",children:r("noCouponsFound")})}):a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("couponCode")}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("discountPercentage")}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("ownerBenefit")}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("usageLimit")}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("timesUsed")}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("status")})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(n=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:n.code}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[n.discount_percentage,"%",n.discount_amount&&` + ${n.discount_amount}`]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.owner_benefit_type==="percentage"?`${n.owner_benefit_value}%`:`${n.owner_benefit_value}`}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.usage_limit===0?"":n.usage_limit}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.times_used}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.active?a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:r("active")}):a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:r("inactive")})})]},n.id))})]})})})}const n9=()=>{const{user:e}=lt(),[t,r]=h.useState(null),[n,s]=h.useState(!0),[o,i]=h.useState(null),[l,c]=h.useState([]),[u,d]=h.useState(!1),f=async()=>{var p,w,x,v,b,j,S;if(!e){r(null),s(!1);return}try{s(!0),console.log("Fetching profile for user:",e.id);const{data:N,error:C}=await J.from("profiles").select("*").eq("id",e.id).maybeSingle();if(C)throw C;if(N)console.log("Profile fetched successfully:",N),r({id:N.id,username:N.username,balanceCredits:N.balance_credits||0,firstName:((p=e.user_metadata)==null?void 0:p.first_name)||"",lastName:((w=e.user_metadata)==null?void 0:w.last_name)||"",phoneNumber:((x=e.user_metadata)==null?void 0:x.phone_number)||"",isAdmin:N.is_admin||!1,ownerId:N.owner_id}),console.log("Balance credits:",N.balance_credits);else{console.log("Profile not found, creating new one for user:",e.id);const{data:_,error:P}=await J.from("profiles").insert([{id:e.id,username:(v=e.email)==null?void 0:v.split("@")[0],balance_credits:0,created_at:new Date().toISOString()}]).select().single();if(P)throw P;_&&(r({id:_.id,username:_.username,balanceCredits:_.balance_credits||0,firstName:((b=e.user_metadata)==null?void 0:b.first_name)||"",lastName:((j=e.user_metadata)==null?void 0:j.last_name)||"",phoneNumber:((S=e.user_metadata)==null?void 0:S.phone_number)||"",isAdmin:_.is_admin||!1,ownerId:_.owner_id}),console.log("Created new profile for user:",_.id))}}catch(N){console.error("Error fetching profile:",N),i(N.message)}finally{s(!1)}};h.useEffect(()=>{f()},[e]);const m=async()=>{if(e)try{d(!0);const{data:p,error:w}=await J.from("coupons").select("*").eq("owner_id",e.id);if(w)throw w;const x=(p==null?void 0:p.map(v=>({...v,owner_benefit_type:g(v.owner_benefit_type)})))||[];c(x)}catch(p){console.error("Error fetching coupons:",p),K.error("Failed to load coupons")}finally{d(!1)}},g=p=>p==="percentage"?"percentage":p==="amount"?"amount":null;return{profile:t,loading:n,error:o,coupons:l,couponsLoading:u,fetchUserCoupons:m,refreshProfile:async()=>{console.log("Refreshing profile data..."),await f()}}};function s9(){const{t:e}=we(),t=Ze(),{user:r,signOut:n}=lt(),{profile:s,loading:o,coupons:i,couponsLoading:l,fetchUserCoupons:c,refreshProfile:u}=n9(),[d,f]=h.useState(!0);h.useEffect(()=>{!r&&!d&&t("/login");const y=setTimeout(()=>f(!1),500);return()=>clearTimeout(y)},[r,t,d]),h.useEffect(()=>{r&&c()},[r]);const m=async()=>{await n(),t("/login")},g=i&&i.length>0;return d||o?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):!r||!s?null:a.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-6",children:[a.jsx(Q7,{user:r,profile:s}),a.jsxs("div",{className:"p-6 space-y-6",children:[g&&a.jsx(t9,{balance:s.balanceCredits,onRefresh:u}),a.jsx(X7,{user:r,profile:s}),a.jsx(Z7,{navigate:t}),a.jsx("div",{className:"py-4 flex justify-end",children:a.jsx(J7,{onLogout:m})})]})]}),i.length>0&&a.jsxs("div",{className:"mt-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:e("coupons")}),a.jsx(r9,{coupons:i,loading:l})]})]})})}const o9=()=>{const{user:e}=lt(),[t,r]=h.useState([]),[n,s]=h.useState(!0),[o,i]=h.useState(null),l=h.useCallback(async()=>{if(!e){s(!1),r([]);return}try{s(!0),i(null);const{data:c,error:u}=await J.from("orders").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(u){console.error("Error fetching orders:",u),i("Failed to load your orders. Please try again later."),s(!1),K.error("Failed to load your orders. Please try again later.");return}if(!c||c.length===0){r([]),s(!1);return}try{const d=await Promise.all(c.map(async f=>{try{const{data:m,error:g}=await J.from("order_items").select("*").eq("order_id",f.id);if(g)return console.error("Error fetching order items:",g),{...f,status:f.status,items:[]};const y=f.status;return{...f,status:y,items:m||[]}}catch(m){return console.error("Unexpected error fetching order items:",m),{...f,status:f.status,items:[]}}}));r(d)}catch(d){console.error("Error processing orders batch:",d),r(c.map(f=>({...f,status:f.status,items:[]}))),K.error("Some order details could not be loaded. Please refresh the page.")}}catch(c){console.error("Error fetching orders:",c),i("Failed to load your orders. Please try again later."),K.error("Failed to load your orders. Please try again later.")}finally{s(!1)}},[e]);return h.useEffect(()=>{e?l():(r([]),s(!1))},[l,e]),{orders:t,loading:n,error:o,refetch:l}};function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function os(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ke(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ye(e){Ke(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||yd(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function i9(e,t){Ke(2,arguments);var r=Ye(e),n=os(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function rk(e,t){Ke(2,arguments);var r=Ye(e).getTime(),n=os(t);return new Date(r+n)}var a9={};function mc(){return a9}function Xp(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var l9=6e4;function rb(e,t){Ke(2,arguments);var r=os(t);return rk(e,r*l9)}function Pu(e,t){Ke(2,arguments);var r=Ye(e),n=Ye(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function c9(e){return Ke(1,arguments),e instanceof Date||yd(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function u9(e){if(Ke(1,arguments),!c9(e)&&typeof e!="number")return!1;var t=Ye(e);return!isNaN(Number(t))}function d9(e,t){Ke(2,arguments);var r=Ye(e),n=Ye(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function f9(e,t){return Ke(2,arguments),Ye(e).getTime()-Ye(t).getTime()}var h9={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},m9="trunc";function p9(e){return h9[m9]}function g9(e){Ke(1,arguments);var t=Ye(e);return t.setHours(23,59,59,999),t}function v9(e){Ke(1,arguments);var t=Ye(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function y9(e){Ke(1,arguments);var t=Ye(e);return g9(t).getTime()===v9(t).getTime()}function x9(e,t){Ke(2,arguments);var r=Ye(e),n=Ye(t),s=Pu(r,n),o=Math.abs(d9(r,n)),i;if(o<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);var l=Pu(r,n)===-s;y9(Ye(e))&&o===1&&Pu(e,n)===1&&(l=!1),i=s*(o-Number(l))}return i===0?0:i}function w9(e,t,r){Ke(2,arguments);var n=f9(e,t)/1e3;return p9()(n)}function b9(e,t){Ke(2,arguments);var r=os(t);return rk(e,-r)}var j9=864e5;function S9(e){Ke(1,arguments);var t=Ye(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),s=r-n;return Math.floor(s/j9)+1}function xd(e){Ke(1,arguments);var t=1,r=Ye(e),n=r.getUTCDay(),s=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-s),r.setUTCHours(0,0,0,0),r}function nk(e){Ke(1,arguments);var t=Ye(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var s=xd(n),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var i=xd(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function N9(e){Ke(1,arguments);var t=nk(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=xd(r);return n}var C9=6048e5;function k9(e){Ke(1,arguments);var t=Ye(e),r=xd(t).getTime()-N9(t).getTime();return Math.round(r/C9)+1}function wd(e,t){var r,n,s,o,i,l,c,u;Ke(1,arguments);var d=mc(),f=os((r=(n=(s=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Ye(e),g=m.getUTCDay(),y=(g<f?7:0)+g-f;return m.setUTCDate(m.getUTCDate()-y),m.setUTCHours(0,0,0,0),m}function sk(e,t){var r,n,s,o,i,l,c,u;Ke(1,arguments);var d=Ye(e),f=d.getUTCFullYear(),m=mc(),g=os((r=(n=(s=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&n!==void 0?n:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(f+1,0,g),y.setUTCHours(0,0,0,0);var p=wd(y,t),w=new Date(0);w.setUTCFullYear(f,0,g),w.setUTCHours(0,0,0,0);var x=wd(w,t);return d.getTime()>=p.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function _9(e,t){var r,n,s,o,i,l,c,u;Ke(1,arguments);var d=mc(),f=os((r=(n=(s=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),m=sk(e,t),g=new Date(0);g.setUTCFullYear(m,0,f),g.setUTCHours(0,0,0,0);var y=wd(g,t);return y}var E9=6048e5;function P9(e,t){Ke(1,arguments);var r=Ye(e),n=wd(r,t).getTime()-_9(r,t).getTime();return Math.round(n/E9)+1}function We(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var vs={y:function(t,r){var n=t.getUTCFullYear(),s=n>0?n:1-n;return We(r==="yy"?s%100:s,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):We(n+1,2)},d:function(t,r){return We(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return We(t.getUTCHours()%12||12,r.length)},H:function(t,r){return We(t.getUTCHours(),r.length)},m:function(t,r){return We(t.getUTCMinutes(),r.length)},s:function(t,r){return We(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,s=t.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,n-3));return We(o,r.length)}},ii={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},T9={G:function(t,r,n){var s=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var s=t.getUTCFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return vs.y(t,r)},Y:function(t,r,n,s){var o=sk(t,s),i=o>0?o:1-o;if(r==="YY"){var l=i%100;return We(l,2)}return r==="Yo"?n.ordinalNumber(i,{unit:"year"}):We(i,r.length)},R:function(t,r){var n=nk(t);return We(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return We(n,r.length)},Q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return We(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return We(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,r,n){var s=t.getUTCMonth();switch(r){case"M":case"MM":return vs.M(t,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,r,n){var s=t.getUTCMonth();switch(r){case"L":return String(s+1);case"LL":return We(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,r,n,s){var o=P9(t,s);return r==="wo"?n.ordinalNumber(o,{unit:"week"}):We(o,r.length)},I:function(t,r,n){var s=k9(t);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):We(s,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):vs.d(t,r)},D:function(t,r,n){var s=S9(t);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):We(s,r.length)},E:function(t,r,n){var s=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,r,n,s){var o=t.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return We(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,r,n,s){var o=t.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return We(i,r.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,r,n){var s=t.getUTCDay(),o=s===0?7:s;switch(r){case"i":return String(o);case"ii":return We(o,r.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,r,n){var s=t.getUTCHours(),o=s/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,r,n){var s=t.getUTCHours(),o;switch(s===12?o=ii.noon:s===0?o=ii.midnight:o=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,r,n){var s=t.getUTCHours(),o;switch(s>=17?o=ii.evening:s>=12?o=ii.afternoon:s>=4?o=ii.morning:o=ii.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return vs.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):vs.H(t,r)},K:function(t,r,n){var s=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):We(s,r.length)},k:function(t,r,n){var s=t.getUTCHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):We(s,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):vs.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):vs.s(t,r)},S:function(t,r){return vs.S(t,r)},X:function(t,r,n,s){var o=s._originalDate||t,i=o.getTimezoneOffset();if(i===0)return"Z";switch(r){case"X":return sb(i);case"XXXX":case"XX":return xo(i);case"XXXXX":case"XXX":default:return xo(i,":")}},x:function(t,r,n,s){var o=s._originalDate||t,i=o.getTimezoneOffset();switch(r){case"x":return sb(i);case"xxxx":case"xx":return xo(i);case"xxxxx":case"xxx":default:return xo(i,":")}},O:function(t,r,n,s){var o=s._originalDate||t,i=o.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+nb(i,":");case"OOOO":default:return"GMT"+xo(i,":")}},z:function(t,r,n,s){var o=s._originalDate||t,i=o.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+nb(i,":");case"zzzz":default:return"GMT"+xo(i,":")}},t:function(t,r,n,s){var o=s._originalDate||t,i=Math.floor(o.getTime()/1e3);return We(i,r.length)},T:function(t,r,n,s){var o=s._originalDate||t,i=o.getTime();return We(i,r.length)}};function nb(e,t){var r=e>0?"-":"+",n=Math.abs(e),s=Math.floor(n/60),o=n%60;if(o===0)return r+String(s);var i=t;return r+String(s)+i+We(o,2)}function sb(e,t){if(e%60===0){var r=e>0?"-":"+";return r+We(Math.abs(e)/60,2)}return xo(e,t)}function xo(e,t){var r=t||"",n=e>0?"-":"+",s=Math.abs(e),o=We(Math.floor(s/60),2),i=We(s%60,2);return n+o+r+i}var ob=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},ok=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},A9=function(t,r){var n=t.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return ob(t,r);var i;switch(s){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",ob(s,r)).replace("{{time}}",ok(o,r))},R9={p:ok,P:A9},D9=["D","DD"],M9=["YY","YYYY"];function I9(e){return D9.indexOf(e)!==-1}function O9(e){return M9.indexOf(e)!==-1}function ib(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var L9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},F9=function(t,r,n){var s,o=L9[t];return typeof o=="string"?s=o:r===1?s=o.one:s=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function sm(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var $9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},V9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},B9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},U9={date:sm({formats:$9,defaultWidth:"full"}),time:sm({formats:V9,defaultWidth:"full"}),dateTime:sm({formats:B9,defaultWidth:"full"})},z9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},W9=function(t,r,n,s){return z9[t]};function Ea(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",s;if(n==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=r!=null&&r.width?String(r.width):o;s=e.formattingValues[i]||e.formattingValues[o]}else{var l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var H9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},q9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Y9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},G9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},K9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Q9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},X9=function(t,r){var n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Z9={ordinalNumber:X9,era:Ea({values:H9,defaultWidth:"wide"}),quarter:Ea({values:q9,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Ea({values:Y9,defaultWidth:"wide"}),day:Ea({values:G9,defaultWidth:"wide"}),dayPeriod:Ea({values:K9,defaultWidth:"wide",formattingValues:Q9,defaultFormattingWidth:"wide"})};function Pa(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;var i=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?eV(l,function(f){return f.test(i)}):J9(l,function(f){return f.test(i)}),u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(i.length);return{value:u,rest:d}}}function J9(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function eV(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function tV(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var s=n[0],o=t.match(e.parsePattern);if(!o)return null;var i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;var l=t.slice(s.length);return{value:i,rest:l}}}var rV=/^(\d+)(th|st|nd|rd)?/i,nV=/\d+/i,sV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oV={any:[/^b/i,/^(a|c)/i]},iV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aV={any:[/1/i,/2/i,/3/i,/4/i]},lV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mV={ordinalNumber:tV({matchPattern:rV,parsePattern:nV,valueCallback:function(t){return parseInt(t,10)}}),era:Pa({matchPatterns:sV,defaultMatchWidth:"wide",parsePatterns:oV,defaultParseWidth:"any"}),quarter:Pa({matchPatterns:iV,defaultMatchWidth:"wide",parsePatterns:aV,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Pa({matchPatterns:lV,defaultMatchWidth:"wide",parsePatterns:cV,defaultParseWidth:"any"}),day:Pa({matchPatterns:uV,defaultMatchWidth:"wide",parsePatterns:dV,defaultParseWidth:"any"}),dayPeriod:Pa({matchPatterns:fV,defaultMatchWidth:"any",parsePatterns:hV,defaultParseWidth:"any"})},ik={code:"en-US",formatDistance:F9,formatLong:U9,formatRelative:W9,localize:Z9,match:mV,options:{weekStartsOn:0,firstWeekContainsDate:1}},pV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vV=/^'([^]*?)'?$/,yV=/''/g,xV=/[a-zA-Z]/;function wV(e,t,r){var n,s,o,i,l,c,u,d,f,m,g,y,p,w;Ke(2,arguments);var x=String(t),v=mc(),b=(n=(s=void 0)!==null&&s!==void 0?s:v.locale)!==null&&n!==void 0?n:ik,j=os((o=(i=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:v.firstWeekContainsDate)!==null&&i!==void 0?i:(u=v.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=os((f=(m=(g=(y=void 0)!==null&&y!==void 0?y:void 0)!==null&&g!==void 0?g:v.weekStartsOn)!==null&&m!==void 0?m:(p=v.locale)===null||p===void 0||(w=p.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&f!==void 0?f:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var N=Ye(e);if(!u9(N))throw new RangeError("Invalid time value");var C=Xp(N),_=b9(N,C),P={firstWeekContainsDate:j,weekStartsOn:S,locale:b,_originalDate:N},R=x.match(gV).map(function($){var A=$[0];if(A==="p"||A==="P"){var B=R9[A];return B($,b.formatLong)}return $}).join("").match(pV).map(function($){if($==="''")return"'";var A=$[0];if(A==="'")return bV($);var B=T9[A];if(B)return O9($)&&ib($,t,String(e)),I9($)&&ib($,t,String(e)),B(_,$,b.localize,P);if(A.match(xV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return $}).join("");return R}function bV(e){var t=e.match(vV);return t?t[1].replace(yV,"'"):e}function ak(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function jV(e){return ak({},e)}var ab=1440,SV=2520,om=43200,NV=86400;function CV(e,t,r){var n,s;Ke(2,arguments);var o=mc(),i=(n=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:o.locale)!==null&&n!==void 0?n:ik;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Pu(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var c=ak(jV(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:l}),u,d;l>0?(u=Ye(t),d=Ye(e)):(u=Ye(e),d=Ye(t));var f=w9(d,u),m=(Xp(d)-Xp(u))/1e3,g=Math.round((f-m)/60),y;if(g<2)return r!=null&&r.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,c):f<10?i.formatDistance("lessThanXSeconds",10,c):f<20?i.formatDistance("lessThanXSeconds",20,c):f<40?i.formatDistance("halfAMinute",0,c):f<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):g===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",g,c);if(g<45)return i.formatDistance("xMinutes",g,c);if(g<90)return i.formatDistance("aboutXHours",1,c);if(g<ab){var p=Math.round(g/60);return i.formatDistance("aboutXHours",p,c)}else{if(g<SV)return i.formatDistance("xDays",1,c);if(g<om){var w=Math.round(g/ab);return i.formatDistance("xDays",w,c)}else if(g<NV)return y=Math.round(g/om),i.formatDistance("aboutXMonths",y,c)}if(y=x9(d,u),y<12){var x=Math.round(g/om);return i.formatDistance("xMonths",x,c)}else{var v=y%12,b=Math.floor(y/12);return v<3?i.formatDistance("aboutXYears",b,c):v<9?i.formatDistance("overXYears",b,c):i.formatDistance("almostXYears",b+1,c)}}function kV(e,t){return Ke(1,arguments),CV(e,Date.now(),t)}function im(e,t){Ke(2,arguments);var r=Ye(e),n=Ye(t);return r.getTime()<n.getTime()}const _V=cc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function mr({className:e,variant:t,...r}){return a.jsx("div",{className:ce(_V({variant:t}),e),...r})}const lk=()=>{const{user:e}=lt(),[t,r]=h.useState(!1),[n,s]=h.useState([]),o=h.useCallback(async()=>{if(e)try{r(!0);const{data:l,error:c}=await J.from("refund_requests").select("*").eq("user_id",e.id);if(c)throw c;s((l||[]).map(u=>({...u,status:u.status})))}catch(l){console.error("Error fetching refund requests:",l),K.error("Failed to load refund requests")}finally{r(!1)}},[e]),i=h.useCallback(async(l,c)=>{if(!e)return K.error("You must be logged in to request a refund"),null;try{r(!0);const{data:u,error:d}=await J.from("refund_requests").select("id").eq("order_id",l).eq("user_id",e.id);if(d)throw d;if(u&&u.length>0)return K.error("You have already submitted a refund request for this order"),null;const{data:f,error:m}=await J.from("refund_requests").insert({order_id:l,user_id:e.id,reason:c}).select().single();if(m)throw m;return K.success("Refund request submitted successfully"),f}catch(u){return console.error("Error creating refund request:",u),K.error("Failed to submit refund request"),null}finally{r(!1)}},[e]);return{refundRequests:n,loading:t,fetchRefundRequests:o,createRefundRequest:i}};var dv="Dialog",[ck,uk]=Sr(dv),[EV,pn]=ck(dv),dk=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=h.useRef(null),c=h.useRef(null),[u=!1,d]=mn({prop:n,defaultProp:s,onChange:o});return a.jsx(EV,{scope:t,triggerRef:l,contentRef:c,contentId:zr(),titleId:zr(),descriptionId:zr(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};dk.displayName=dv;var fk="DialogTrigger",hk=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=pn(fk,r),o=Ie(t,s.triggerRef);return a.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":mv(s.open),...n,ref:o,onClick:je(e.onClick,s.onOpenToggle)})});hk.displayName=fk;var fv="DialogPortal",[PV,mk]=ck(fv,{forceMount:void 0}),pk=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=pn(fv,t);return a.jsx(PV,{scope:t,forceMount:r,children:h.Children.map(n,i=>a.jsx(Nr,{present:r||o.open,children:a.jsx(Cf,{asChild:!0,container:s,children:i})}))})};pk.displayName=fv;var bd="DialogOverlay",gk=h.forwardRef((e,t)=>{const r=mk(bd,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=pn(bd,e.__scopeDialog);return o.modal?a.jsx(Nr,{present:n||o.open,children:a.jsx(TV,{...s,ref:t})}):null});gk.displayName=bd;var TV=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=pn(bd,r);return a.jsx(_f,{as:rs,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Ce.div,{"data-state":mv(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Uo="DialogContent",vk=h.forwardRef((e,t)=>{const r=mk(Uo,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=pn(Uo,e.__scopeDialog);return a.jsx(Nr,{present:n||o.open,children:o.modal?a.jsx(AV,{...s,ref:t}):a.jsx(RV,{...s,ref:t})})});vk.displayName=Uo;var AV=h.forwardRef((e,t)=>{const r=pn(Uo,e.__scopeDialog),n=h.useRef(null),s=Ie(t,r.contentRef,n);return h.useEffect(()=>{const o=n.current;if(o)return sv(o)},[]),a.jsx(yk,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:je(e.onFocusOutside,o=>o.preventDefault())})}),RV=h.forwardRef((e,t)=>{const r=pn(Uo,e.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return a.jsx(yk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),yk=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=pn(Uo,r),c=h.useRef(null),u=Ie(t,c);return W0(),a.jsxs(a.Fragment,{children:[a.jsx(wf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(dc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":mv(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(MV,{titleId:l.titleId}),a.jsx(OV,{contentRef:c,descriptionId:l.descriptionId})]})]})}),hv="DialogTitle",xk=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=pn(hv,r);return a.jsx(Ce.h2,{id:s.titleId,...n,ref:t})});xk.displayName=hv;var wk="DialogDescription",bk=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=pn(wk,r);return a.jsx(Ce.p,{id:s.descriptionId,...n,ref:t})});bk.displayName=wk;var jk="DialogClose",Sk=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=pn(jk,r);return a.jsx(Ce.button,{type:"button",...n,ref:t,onClick:je(e.onClick,()=>s.onOpenChange(!1))})});Sk.displayName=jk;function mv(e){return e?"open":"closed"}var Nk="DialogTitleWarning",[DV,Ck]=kF(Nk,{contentName:Uo,titleName:hv,docsSlug:"dialog"}),MV=({titleId:e})=>{const t=Ck(Nk),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},IV="DialogDescriptionWarning",OV=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ck(IV).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},pv=dk,kk=hk,gv=pk,pc=gk,gc=vk,vc=xk,yc=bk,Mf=Sk,_k="AlertDialog",[LV,mK]=Sr(_k,[uk]),us=uk(),Ek=e=>{const{__scopeAlertDialog:t,...r}=e,n=us(t);return a.jsx(pv,{...n,...r,modal:!0})};Ek.displayName=_k;var FV="AlertDialogTrigger",Pk=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=us(r);return a.jsx(kk,{...s,...n,ref:t})});Pk.displayName=FV;var $V="AlertDialogPortal",Tk=e=>{const{__scopeAlertDialog:t,...r}=e,n=us(t);return a.jsx(gv,{...n,...r})};Tk.displayName=$V;var VV="AlertDialogOverlay",Ak=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=us(r);return a.jsx(pc,{...s,...n,ref:t})});Ak.displayName=VV;var Li="AlertDialogContent",[BV,UV]=LV(Li),Rk=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=us(r),i=h.useRef(null),l=Ie(t,i),c=h.useRef(null);return a.jsx(DV,{contentName:Li,titleName:Dk,docsSlug:"alert-dialog",children:a.jsx(BV,{scope:r,cancelRef:c,children:a.jsxs(gc,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:je(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(V0,{children:n}),a.jsx(WV,{contentRef:i})]})})})});Rk.displayName=Li;var Dk="AlertDialogTitle",Mk=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=us(r);return a.jsx(vc,{...s,...n,ref:t})});Mk.displayName=Dk;var Ik="AlertDialogDescription",Ok=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=us(r);return a.jsx(yc,{...s,...n,ref:t})});Ok.displayName=Ik;var zV="AlertDialogAction",Lk=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=us(r);return a.jsx(Mf,{...s,...n,ref:t})});Lk.displayName=zV;var Fk="AlertDialogCancel",$k=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=UV(Fk,r),o=us(r),i=Ie(t,s);return a.jsx(Mf,{...o,...n,ref:i})});$k.displayName=Fk;var WV=({contentRef:e})=>{const t=`\`${Li}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Li}\` by passing a \`${Ik}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Li}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},HV=Ek,qV=Pk,YV=Tk,Vk=Ak,Bk=Rk,Uk=Lk,zk=$k,Wk=Mk,Hk=Ok;const GV=HV,KV=qV,QV=YV,qk=h.forwardRef(({className:e,...t},r)=>a.jsx(Vk,{className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));qk.displayName=Vk.displayName;const Yk=h.forwardRef(({className:e,...t},r)=>a.jsxs(QV,{children:[a.jsx(qk,{}),a.jsx(Bk,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Yk.displayName=Bk.displayName;const Gk=({className:e,...t})=>a.jsx("div",{className:ce("flex flex-col space-y-2 text-center sm:text-left",e),...t});Gk.displayName="AlertDialogHeader";const Kk=({className:e,...t})=>a.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Kk.displayName="AlertDialogFooter";const Qk=h.forwardRef(({className:e,...t},r)=>a.jsx(Wk,{ref:r,className:ce("text-lg font-semibold",e),...t}));Qk.displayName=Wk.displayName;const Xk=h.forwardRef(({className:e,...t},r)=>a.jsx(Hk,{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));Xk.displayName=Hk.displayName;const Zk=h.forwardRef(({className:e,...t},r)=>a.jsx(Uk,{ref:r,className:ce(xf(),e),...t}));Zk.displayName=Uk.displayName;const Jk=h.forwardRef(({className:e,...t},r)=>a.jsx(zk,{ref:r,className:ce(xf({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Jk.displayName=zk.displayName;const vv=h.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));vv.displayName="Textarea";function XV({orderId:e,onSuccess:t,disabled:r=!1}){const{t:n}=we(),{createRefundRequest:s}=lk(),[o,i]=h.useState(""),[l,c]=h.useState(!1),[u,d]=h.useState(!1),f=async()=>{if(o.trim()){c(!0);try{await s(e,o)&&(d(!1),i(""),t&&t())}finally{c(!1)}}};return a.jsxs(GV,{open:u,onOpenChange:d,children:[a.jsx(KV,{asChild:!0,children:a.jsx(ie,{variant:"outline",size:"sm",className:"border-red-200 text-red-700 hover:bg-red-50 hover:border-red-300 shadow-sm",disabled:r,children:n("requestRefund")})}),a.jsxs(Yk,{className:"bg-white",children:[a.jsxs(Gk,{children:[a.jsx(Qk,{children:n("requestRefund")}),a.jsx(Xk,{children:n("refundRequestDescription")})]}),a.jsx("div",{className:"py-4",children:a.jsx(vv,{placeholder:n("refundReasonPlaceholder"),value:o,onChange:m=>i(m.target.value),rows:4,className:"w-full focus:border-red-300 focus:ring-red-200"})}),a.jsxs(Kk,{children:[a.jsx(Jk,{className:"hover:bg-gray-100",children:n("cancel")}),a.jsx(Zk,{onClick:m=>{m.preventDefault(),f()},disabled:l||!o.trim(),className:"bg-red-600 hover:bg-red-700 text-white shadow-sm",children:l?a.jsxs(a.Fragment,{children:[a.jsx(gf,{className:"mr-2 h-4 w-4 animate-spin"}),n("submitting")]}):n("submitRequest")})]})]})]})}function ZV(){const{orders:e,loading:t,error:r,refetch:n}=o9(),{t:s,language:o}=we(),[i,l]=h.useState(null),c=o==="ar",{refundRequests:u,fetchRefundRequests:d}=lk(),[f,m]=h.useState(new Set);h.useEffect(()=>{d()},[d]),h.useEffect(()=>{if(u.length>0){const j=new Set(u.map(S=>S.order_id));m(j)}},[u]);const g=j=>{switch(j){case"pending":return a.jsx(SL,{className:"h-5 w-5 text-orange-500"});case"processing":return a.jsx(Mp,{className:"h-5 w-5 text-blue-500"});case"shipped":return a.jsx(Mp,{className:"h-5 w-5 text-purple-500"});case"delivered":return a.jsx(xL,{className:"h-5 w-5 text-green-500"});case"cancelled":return a.jsx(bL,{className:"h-5 w-5 text-red-500"});default:return a.jsx(fN,{className:"h-5 w-5 text-gray-500"})}},y=j=>{switch(j){case"pending":return"bg-orange-100 text-orange-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=j=>{if(j.status!=="pending"&&j.status!=="processing")return!1;const S=new Date(j.created_at),N=rb(S,30);return im(new Date,N)},w=j=>{const S=new Date(j.created_at),N=rb(S,30);return im(new Date,N)?kV(N,{addSuffix:!0}):null},x=async j=>{try{l(j);const{error:S}=await J.from("orders").update({status:"cancelled"}).eq("id",j);if(S)throw S;K.success(s("orderCancelled")),n()}catch(S){console.error("Error cancelling order:",S),K.error(s("errorCancellingOrder"))}finally{l(null)}},v=j=>{if(j.status==="pending"||j.status==="cancelled")return!1;const S=new Date(j.created_at),N=i9(S,14),C=new Date;return f.has(j.id)?!1:im(C,N)},b=()=>{d(),K.success(s("refundRequestSubmitted"))};return t?a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-500"}),a.jsx("p",{className:"mt-2 text-gray-500",children:s("loadingOrders")})]})}):r?a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsxs("div",{className:"text-center text-red-500",children:[a.jsx("p",{children:s("errorLoadingOrders")}),a.jsx("p",{className:"text-sm",children:r})]})}):a.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-12 ${c?"rtl":"ltr"}`,children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:s("myOrders")}),a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>n(),className:"flex items-center gap-2",children:[a.jsx(cN,{className:"h-4 w-4"}),s("refresh")]})]}),e.length===0?a.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[a.jsx(e6,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-1",children:s("noOrdersYet")}),a.jsx("p",{className:"text-gray-500",children:s("startShoppingToSeeOrders")}),a.jsx(ie,{className:"mt-4",onClick:()=>window.location.href="/products",children:s("browseProducts")})]}):a.jsx("div",{className:"space-y-8",children:e.map((j,S)=>{var N;return a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("div",{className:"px-4 sm:px-6 py-4 border-b bg-gray-100 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm text-gray-700",children:[s("orderId"),":"]}),a.jsx("span",{className:"font-medium",children:j.id.substring(0,8)})]}),a.jsx("div",{className:"text-sm text-gray-500",children:wV(new Date(j.created_at),"PPP p")})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[a.jsxs(mr,{className:`flex items-center gap-1 px-3 py-1 flex-wrap ${y(j.status)}`,children:[g(j.status),s(j.status)]}),a.jsxs("div",{className:"flex flex-col gap-1 sm:gap-0",children:[p(j)&&j.status!=="cancelled"&&a.jsx(ie,{variant:"destructive",size:"sm",onClick:()=>x(j.id),disabled:i===j.id,children:i===j.id?s("cancelling"):s("cancelOrder")}),v(j)&&a.jsx(XV,{orderId:j.id,onSuccess:b,disabled:f.has(j.id)}),f.has(j.id)&&a.jsx("span",{className:"text-xs text-amber-600 font-medium",children:s("refundRequested")}),p(j)&&j.status!=="cancelled"&&a.jsxs("span",{className:"text-xs text-gray-500",children:[s("cancelAvailable")," ",w(j)]})]})]})]}),a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-base sm:text-lg font-medium mb-2",children:s("shippingDetails")}),a.jsxs("p",{className:"text-gray-700",children:[j.first_name," ",j.last_name]}),a.jsx("p",{className:"text-gray-700",children:j.address}),a.jsxs("p",{className:"text-gray-700",children:[j.city,", ",j.postal_code]}),a.jsx("p",{className:"text-gray-700",children:j.email}),a.jsx("p",{className:"text-gray-700",children:j.phone})]}),a.jsx("h3",{className:"text-base sm:text-lg font-medium mb-2",children:s("orderedItems")}),a.jsx("div",{className:"overflow-x-auto border rounded-lg",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("product")}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("quantity")}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("price")})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(N=j.items)==null?void 0:N.map(C=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.product_name}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:C.quantity}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:[C.price.toFixed(2)," EGP"]})]},C.id))}),a.jsx("tfoot",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsxs("td",{colSpan:2,className:"px-4 py-4 text-sm font-medium text-gray-900 text-right",children:[s("total"),":"]}),a.jsxs("td",{className:"px-4 py-4 text-sm font-bold text-gray-900 text-right",children:[j.total_amount.toFixed(2)," EGP"]})]})})]})})]}),S!==e.length-1&&a.jsx("div",{className:"border-t border-gray-200 my-8"})]},j.id)})})]})}function e_({product:e}){const{items:t,addItem:r,removeItem:n,updateQuantity:s}=no(),{t:o,language:i}=we(),l=t.find(v=>v.product.id===e.id),c=Ze(),[u,d]=h.useState(""),f=i==="ar",m=Go(),g=e.status==="inactive";h.useEffect(()=>{(async()=>{const{data:b,error:j}=await J.from("shops").select("name").eq("id",e.shopId).single();!j&&b&&d(b.name)})()},[e.shopId]);const y=()=>{c(`/products/${e.id}`)},p=(v,b)=>{b.stopPropagation(),c(`/products/${e.id}`)},w=()=>{if(g){K.error(o("outOfStock"));return}r(e)},x=()=>{if(l){if(g){K.error(o("outOfStock"));return}s(e.id,l.quantity+1)}};return a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 flex flex-col h-auto md:h-[420px]",children:[a.jsxs("div",{className:"aspect-square w-full overflow-hidden bg-gray-200 cursor-pointer relative",onClick:y,children:[e.image?a.jsx("img",{src:e.image,alt:e.name,className:`w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 ${g?"opacity-70":""}`}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:a.jsx(ts,{className:"h-16 w-16 text-gray-400"})}),a.jsx("button",{className:"absolute top-2 right-2 bg-white p-1.5 md:p-2 rounded-full shadow-md hover:bg-gray-100",onClick:v=>{v.stopPropagation(),y()},children:a.jsx(TL,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-700"})}),g&&a.jsx("div",{className:"absolute top-2 left-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded",children:o("outOfStock")})]}),a.jsxs("div",{className:"p-3 md:p-4 flex flex-col flex-grow",children:[a.jsxs("h3",{className:`text-sm md:text-lg font-semibold text-gray-900 line-clamp-2 ${m?"h-10":"h-14"}`,children:[e.name," ",u&&a.jsxs("span",{className:"text-gray-600",children:["(",u,")"]})]}),!m&&a.jsx("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2 h-10",children:e.description}),a.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[a.jsxs("span",{className:`${m?"text-sm":"text-lg"} font-bold text-gray-900`,children:[e.price.toFixed(2)," EGP"]}),a.jsx("span",{className:`text-xs md:text-sm ${g?"text-red-600":"text-green-600"}`,children:o(g?"outOfStock":"inStock")})]}),!m&&e.compatibility&&e.compatibility.length>0&&a.jsx("div",{className:"mt-2 overflow-y-auto max-h-16 scrollbar-thin scrollbar-thumb-gray-300",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:e.compatibility.map(v=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 cursor-pointer hover:bg-indigo-100",onClick:b=>p(v,b),children:v},v))})}),a.jsx("div",{className:"mt-auto pt-2 md:pt-3",children:g?a.jsx("div",{className:"w-full text-center py-2 text-red-600 font-medium bg-red-50 rounded-md",children:o("outOfStock")}):l?a.jsxs("div",{className:"flex items-center justify-between gap-1 md:gap-2",children:[a.jsx("button",{onClick:()=>s(e.id,Math.max(0,l.quantity-1)),className:"flex-1 flex items-center justify-center px-2 py-1 md:py-2 rounded-md text-xs md:text-sm font-medium bg-gray-100 text-gray-800 hover:bg-gray-200",children:a.jsx(F0,{className:"h-3 w-3 md:h-5 md:w-5"})}),a.jsx("span",{className:"text-sm md:text-lg font-medium text-gray-900",children:l.quantity}),a.jsx("button",{onClick:x,className:"flex-1 flex items-center justify-center px-2 py-1 md:py-2 rounded-md text-xs md:text-sm font-medium bg-gray-100 text-gray-800 hover:bg-gray-200",children:a.jsx(Ki,{className:"h-3 w-3 md:h-5 md:w-5"})}),a.jsx("button",{onClick:()=>n(e.id),className:"flex items-center justify-center px-2 md:px-4 py-1 md:py-2 rounded-md text-xs md:text-sm font-medium bg-red-100 text-red-600 hover:bg-red-200","aria-label":o("remove"),children:a.jsx(lc,{className:"h-3 w-3 md:h-5 md:w-5"})})]}):a.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center px-2 md:px-4 py-1 md:py-2 rounded-md text-xs md:text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700",children:[a.jsx(Ki,{className:`h-3 w-3 md:h-5 md:w-5 ${f?"ml-1 md:ml-2":"mr-1 md:mr-2"}`}),o("addToCart")]})})]})]})}var yv="Popover",[t_,pK]=Sr(yv,[ma]),xc=ma(),[JV,ao]=t_(yv),r_=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,l=xc(t),c=h.useRef(null),[u,d]=h.useState(!1),[f=!1,m]=mn({prop:n,defaultProp:s,onChange:o});return a.jsx(ev,{...l,children:a.jsx(JV,{scope:t,contentId:zr(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:u,onCustomAnchorAdd:h.useCallback(()=>d(!0),[]),onCustomAnchorRemove:h.useCallback(()=>d(!1),[]),modal:i,children:r})})};r_.displayName=yv;var n_="PopoverAnchor",eB=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=ao(n_,r),o=xc(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return h.useEffect(()=>(i(),()=>l()),[i,l]),a.jsx(Nf,{...o,...n,ref:t})});eB.displayName=n_;var s_="PopoverTrigger",o_=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=ao(s_,r),o=xc(r),i=Ie(t,s.triggerRef),l=a.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":u_(s.open),...n,ref:i,onClick:je(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(Nf,{asChild:!0,...o,children:l})});o_.displayName=s_;var xv="PopoverPortal",[tB,rB]=t_(xv,{forceMount:void 0}),i_=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=ao(xv,t);return a.jsx(tB,{scope:t,forceMount:r,children:a.jsx(Nr,{present:r||o.open,children:a.jsx(Cf,{asChild:!0,container:s,children:n})})})};i_.displayName=xv;var Xi="PopoverContent",a_=h.forwardRef((e,t)=>{const r=rB(Xi,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=ao(Xi,e.__scopePopover);return a.jsx(Nr,{present:n||o.open,children:o.modal?a.jsx(nB,{...s,ref:t}):a.jsx(sB,{...s,ref:t})})});a_.displayName=Xi;var nB=h.forwardRef((e,t)=>{const r=ao(Xi,e.__scopePopover),n=h.useRef(null),s=Ie(t,n),o=h.useRef(!1);return h.useEffect(()=>{const i=n.current;if(i)return sv(i)},[]),a.jsx(_f,{as:rs,allowPinchZoom:!0,children:a.jsx(l_,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:je(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),sB=h.forwardRef((e,t)=>{const r=ao(Xi,e.__scopePopover),n=h.useRef(!1),s=h.useRef(!1);return a.jsx(l_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),l_=h.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,m=ao(Xi,r),g=xc(r);return W0(),a.jsx(wf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(dc,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:a.jsx(tv,{"data-state":u_(m.open),role:"dialog",id:m.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),c_="PopoverClose",oB=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=ao(c_,r);return a.jsx(Ce.button,{type:"button",...n,ref:t,onClick:je(e.onClick,()=>s.onOpenChange(!1))})});oB.displayName=c_;var iB="PopoverArrow",aB=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=xc(r);return a.jsx(rv,{...s,...n,ref:t})});aB.displayName=iB;function u_(e){return e?"open":"closed"}var lB=r_,cB=o_,uB=i_,d_=a_;const dB=lB,fB=cB,f_=h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>a.jsx(uB,{children:a.jsx(d_,{ref:s,align:t,sideOffset:r,className:ce("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));f_.displayName=d_.displayName;function hB(){const{t:e,language:t}=we(),{products:r,loading:n}=YC(),{categories:s,loading:o}=Af(),[i,l]=hS(),c=Ze(),u=i.get("category"),d=i.get("make"),f=i.get("model"),m=i.get("type"),g=i.get("year"),[y,p]=h.useState(u?[u]:[]),[w,x]=h.useState(m?[m]:[]),[v,b]=h.useState(""),[j,S]=h.useState(1),[N,C]=h.useState(12),[_,P]=h.useState("default"),[R,$]=h.useState(t==="ar"),[A,B]=h.useState({}),[Y,ee]=h.useState(!1),[L,U]=h.useState([]),T=["Engine Parts","Brake System","Transmission","Oil & Fluids","Tyres","Electrical","Body Parts","Interior","Exhaust System","Other"];h.useEffect(()=>{const k={};u&&u!=="all"&&(k.category=u,p([u])),d&&(k.make=d),f&&(k.model=f),m&&m!=="all"&&(k.type=m,x([m])),g&&(k.year=g),Object.keys(k).length>0&&B(k)},[u,d,f,m,g]),h.useEffect(()=>{const k=new URLSearchParams(i);y.length===1?k.set("category",y[0]):y.length===0&&k.delete("category"),w.length===1?k.set("type",w[0]):w.length===0&&k.delete("type"),l(k,{replace:!0})},[y,w,i,l]),h.useEffect(()=>($(t==="ar"),document.body.classList.toggle("rtl",t==="ar"),()=>{document.body.classList.remove("rtl")}),[t]),h.useEffect(()=>{if(n)return;const k=r.filter(M=>y.length===0||y.includes(M.category)).filter(M=>w.length===0||w.includes(M.type||"")).filter(M=>!v||M.name.toLowerCase().includes(v.toLowerCase())||M.productNumber&&M.productNumber.toLowerCase().includes(v.toLowerCase())||M.description.toLowerCase().includes(v.toLowerCase())).filter(M=>!A.make&&!A.model&&!A.year?!0:!M.compatibility||M.compatibility.length===0?!1:M.compatibility.some(Z=>{console.log(`Checking compatibility: "${Z}" against filters:`,A);let W=!0;if(A.make){const ae=Z.toLowerCase().includes(A.make.toLowerCase());console.log(`Make filter: ${A.make}, matches: ${ae}`),W=W&&ae}if(W&&A.model){const ae=Z.toLowerCase().includes(A.model.toLowerCase());console.log(`Model filter: ${A.model}, matches: ${ae}`),W=W&&ae}if(W&&A.year){const ae=Number.parseInt(A.year),q=NN(Z,ae);console.log(`Year filter: ${A.year}, matches: ${q}`),W=W&&q}return console.log(`Final compatibility result: ${W}`),W}));console.log("Filtered products count:",k.length),U(k)},[r,y,w,v,A,n]);const D=[...L].sort((k,M)=>{switch(_){case"priceAsc":return k.price-M.price;case"priceDesc":return M.price-k.price;case"nameAsc":return k.name.localeCompare(M.name);case"nameDesc":return M.name.localeCompare(k.name);default:return 0}}),H=D.slice(0,j*N),V=H.length<D.length;h.useEffect(()=>{S(1)},[y,w,v,A,_]);const Q=k=>{p(M=>M.includes(k)?M.filter(Z=>Z!==k):[...M,k])},X=k=>{x(M=>M.includes(k)?M.filter(Z=>Z!==k):[...M,k])},se=()=>{S(k=>k+1)},ge=()=>{B({}),p([]),x([]),P("default"),l({})},le=()=>{c(-1)};return a.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 ${R?"rtl":""}`,children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ie,{variant:"ghost",onClick:le,className:"flex items-center gap-2 hover:bg-gray-100 mr-2","aria-label":e("back"),children:[a.jsx(Yo,{className:"h-4 w-4"}),e("back")]}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e("products")})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(qe,{type:"text",placeholder:e("searchProducts"),value:v,onChange:k=>b(k.target.value),className:`pl-10 pr-4 py-2 ${R?"text-right pr-10 pl-4":""}`}),a.jsx(Qt,{className:`absolute ${R?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400`})]}),a.jsxs(dB,{children:[a.jsx(fB,{asChild:!0,children:a.jsxs(ie,{variant:"outline",className:"flex items-center gap-2",children:[a.jsx(lN,{className:"h-4 w-4"}),e("filters"),(y.length>0||w.length>0)&&a.jsx(mr,{className:"ml-2 h-5 w-5 p-0 flex items-center justify-center bg-indigo-600",children:y.length+w.length})]})}),a.jsx(f_,{className:"w-80 bg-white shadow-lg rounded-lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:e("category")}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(k=>a.jsxs(mr,{variant:y.includes(k.name)?"default":"outline",className:"cursor-pointer",onClick:()=>Q(k.name),children:[y.includes(k.name)&&a.jsx(Ml,{className:"mr-1 h-3 w-3"}),k.name]},k.id))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:e("productType")}),a.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(k=>a.jsxs(mr,{variant:w.includes(k)?"default":"outline",className:"cursor-pointer",onClick:()=>X(k),children:[w.includes(k)&&a.jsx(Ml,{className:"mr-1 h-3 w-3"}),k]},k))})]}),a.jsxs("div",{className:"pt-2 flex justify-between",children:[a.jsx(ie,{variant:"outline",size:"sm",onClick:ge,children:e("clearFilters")}),a.jsx(ie,{size:"sm",onClick:()=>document.body.click(),children:e("applyFilters")})]})]})})]}),a.jsxs(br,{value:_,onValueChange:P,children:[a.jsx(or,{className:"bg-white w-full sm:w-48",children:a.jsx(jr,{placeholder:e("sortBy")})}),a.jsxs(ir,{className:"bg-white",children:[a.jsx(He,{value:"default",children:e("default")}),a.jsx(He,{value:"priceAsc",children:e("priceLowToHigh")}),a.jsx(He,{value:"priceDesc",children:e("priceHighToLow")}),a.jsx(He,{value:"nameAsc",children:e("nameAToZ")}),a.jsx(He,{value:"nameDesc",children:e("nameZToA")})]})]})]})]}),(y.length>0||w.length>0||_!=="default"||A.make||A.model||A.year)&&a.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-2",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e("activeFilters"),":"]}),y.map(k=>a.jsxs(mr,{className:"bg-indigo-100 text-indigo-800 hover:bg-indigo-200 flex items-center gap-1",children:[k,a.jsx("button",{onClick:()=>Q(k),className:"ml-1",children:a.jsx(rr,{className:"h-3 w-3"})})]},k)),w.map(k=>a.jsxs(mr,{className:"bg-indigo-100 text-indigo-800 hover:bg-indigo-200 flex items-center gap-1",children:[k,a.jsx("button",{onClick:()=>X(k),className:"ml-1",children:a.jsx(rr,{className:"h-3 w-3"})})]},k)),A.make&&a.jsxs(mr,{className:"bg-indigo-100 text-indigo-800 hover:bg-indigo-200 flex items-center gap-1",children:[A.make,a.jsx("button",{onClick:()=>{const k=new URLSearchParams(i);k.delete("make"),l(k),B(M=>({...M,make:void 0}))},className:"ml-1",children:a.jsx(rr,{className:"h-3 w-3"})})]}),A.model&&a.jsxs(mr,{className:"bg-indigo-100 text-indigo-800 hover:bg-indigo-200 flex items-center gap-1",children:[A.model,a.jsx("button",{onClick:()=>{const k=new URLSearchParams(i);k.delete("model"),l(k),B(M=>({...M,model:void 0}))},className:"ml-1",children:a.jsx(rr,{className:"h-3 w-3"})})]}),A.year&&a.jsxs(mr,{className:"bg-indigo-100 text-indigo-800 hover:bg-indigo-200 flex items-center gap-1",children:[e("year"),": ",A.year,a.jsx("button",{onClick:()=>{const k=new URLSearchParams(i);k.delete("year"),l(k),B(M=>({...M,year:void 0}))},className:"ml-1",children:a.jsx(rr,{className:"h-3 w-3"})})]}),_!=="default"&&a.jsxs(mr,{className:"bg-indigo-100 text-indigo-800 hover:bg-indigo-200 flex items-center gap-1",children:[_==="priceAsc"&&e("priceLowToHigh"),_==="priceDesc"&&e("priceHighToLow"),_==="nameAsc"&&e("nameAToZ"),_==="nameDesc"&&e("nameZToA"),a.jsx("button",{onClick:()=>P("default"),className:"ml-1",children:a.jsx(rr,{className:"h-3 w-3"})})]}),a.jsx(ie,{variant:"outline",size:"sm",className:"text-xs",onClick:ge,children:e("clearFilters")})]}),n||o?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:e("loadingProducts")})]}):L.length===0?a.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg shadow-sm",children:[a.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),a.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:e("noProductsFound")}),a.jsxs("p",{className:"text-gray-500",children:[y.length>0&&`${e("for")} ${y.join(", ")}`,(A.make||A.model||A.year)&&` ${e("matching")} ${A.make||""} ${A.model||""} ${A.year?`(${A.year})`:""}`]}),(y.length>0||w.length>0||A.make||A.model||A.year||_!=="default")&&a.jsx(ie,{onClick:ge,variant:"outline",className:"mt-4",children:e("clearFilters")})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:H.map(k=>a.jsx(e_,{product:k},k.id))}),a.jsx("div",{className:"mt-8 flex justify-center",children:V&&a.jsx(ie,{onClick:se,variant:"outline",className:"px-6",children:e("loadMore")})})]})]})}function h_(){const{user:e}=lt(),[t,r]=h.useState([]),[n,s]=h.useState(!0),[o,i]=h.useState(null),l=h.useCallback(async()=>{if(!e){r([]),s(!1);return}try{s(!0),i(null);const{data:f,error:m}=await J.from("wishlists").select("product_id").eq("user_id",e.id);if(m)throw console.error("Error fetching wishlist data:",m),m;if(!f||f.length===0){r([]),s(!1);return}const g=f.map(w=>w.product_id),{data:y,error:p}=await J.from("products").select(`
          *,
          category:category_id(name),
          product_car_models(
            car_model:car_model_id(
              make,
              model,
              year_start,
              year_end
            )
          )
        `).in("id",g);if(p)throw console.error("Error fetching product data:",p),p;if(!y)r([]);else{const w=y.map(x=>{var v,b;return{id:x.id,shopId:x.shop_id,name:x.name,description:x.description||"",price:x.price,image:x.image||"https://via.placeholder.com/500",category:((v=x.category)==null?void 0:v.name)||"Uncategorized",compatibility:((b=x.product_car_models)==null?void 0:b.map(j=>{const S=j.car_model;return`${S.make} ${S.model} (${S.year_start}${S.year_end?`-${S.year_end}`:"+"})`}))||[],stock:x.stock}});r(w)}}catch(f){const m=f instanceof Error?f.message:"Failed to fetch wishlist";i(f instanceof Error?f:new Error(m)),console.error("Error fetching wishlist:",f)}finally{s(!1)}},[e]);return h.useEffect(()=>{e?l():(r([]),s(!1))},[e,l]),{wishlistItems:t,loading:n,error:o,addToWishlist:async f=>{if(!e)return K.error("Please log in to add items to your wishlist"),!1;try{const{error:m}=await J.from("wishlists").insert([{user_id:e.id,product_id:f}]);if(m){if(m.code==="23505")return K.info("This item is already in your wishlist"),!0;throw m}return K.success("Added to wishlist"),l(),!0}catch(m){return console.error("Error adding to wishlist:",m),K.error("Failed to add to wishlist"),!1}},removeFromWishlist:async f=>{if(!e)return!1;try{const{error:m}=await J.from("wishlists").delete().eq("user_id",e.id).eq("product_id",f);if(m)throw m;return r(t.filter(g=>g.id!==f)),K.success("Removed from wishlist"),!0}catch(m){return console.error("Error removing from wishlist:",m),K.error("Failed to remove from wishlist"),!1}},isInWishlist:async f=>{if(!e)return!1;try{const{data:m,error:g}=await J.from("wishlists").select("*").eq("user_id",e.id).eq("product_id",f).maybeSingle();if(g)throw g;return!!m}catch(m){return console.error("Error checking wishlist:",m),!1}},refreshWishlist:l}}function mB(e){return Object.prototype.toString.call(e)==="[object Object]"}function lb(e){return mB(e)||Array.isArray(e)}function pB(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function wv(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),o=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==o?!1:r.every(i=>{const l=e[i],c=t[i];return typeof l=="function"?`${l}`==`${c}`:!lb(l)||!lb(c)?l===c:wv(l,c)})}function cb(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function gB(e,t){if(e.length!==t.length)return!1;const r=cb(e),n=cb(t);return r.every((s,o)=>{const i=n[o];return wv(s,i)})}function bv(e){return typeof e=="number"}function Zp(e){return typeof e=="string"}function If(e){return typeof e=="boolean"}function ub(e){return Object.prototype.toString.call(e)==="[object Object]"}function dt(e){return Math.abs(e)}function jv(e){return Math.sign(e)}function il(e,t){return dt(e-t)}function vB(e,t){if(e===0||t===0||dt(e)<=dt(t))return 0;const r=il(dt(e),dt(t));return dt(r/e)}function yB(e){return Math.round(e*100)/100}function Fl(e){return $l(e).map(Number)}function un(e){return e[wc(e)]}function wc(e){return Math.max(0,e.length-1)}function Sv(e,t){return t===wc(e)}function db(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function $l(e){return Object.keys(e)}function m_(e,t){return[e,t].reduce((r,n)=>($l(n).forEach(s=>{const o=r[s],i=n[s],l=ub(o)&&ub(i);r[s]=l?m_(o,i):i}),r),{})}function Jp(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function xB(e,t){const r={start:n,center:s,end:o};function n(){return 0}function s(c){return o(c)/2}function o(c){return t-c}function i(c,u){return Zp(e)?r[e](c):e(t,c,u)}return{measure:i}}function Vl(){let e=[];function t(s,o,i,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(o,i,l),c=()=>s.removeEventListener(o,i,l);else{const u=s;u.addListener(i),c=()=>u.removeListener(i)}return e.push(c),n}function r(){e=e.filter(s=>s())}const n={add:t,clear:r};return n}function wB(e,t,r,n){const s=Vl(),o=1e3/60;let i=null,l=0,c=0;function u(){s.add(e,"visibilitychange",()=>{e.hidden&&y()})}function d(){g(),s.clear()}function f(w){if(!c)return;i||(i=w,r(),r());const x=w-i;for(i=w,l+=x;l>=o;)r(),l-=o;const v=l/o;n(v),c&&(c=t.requestAnimationFrame(f))}function m(){c||(c=t.requestAnimationFrame(f))}function g(){t.cancelAnimationFrame(c),i=null,l=0,c=0}function y(){i=null,l=0}return{init:u,destroy:d,start:m,stop:g,update:r,render:n}}function bB(e,t){const r=t==="rtl",n=e==="y",s=n?"y":"x",o=n?"x":"y",i=!n&&r?-1:1,l=d(),c=f();function u(y){const{height:p,width:w}=y;return n?p:w}function d(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function m(y){return y*i}return{scroll:s,cross:o,startEdge:l,endEdge:c,measureSize:u,direction:m}}function zo(e=0,t=0){const r=dt(e-t);function n(u){return u<e}function s(u){return u>t}function o(u){return n(u)||s(u)}function i(u){return o(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:i,reachedAny:o,reachedMax:s,reachedMin:n,removeOffset:l}}function p_(e,t,r){const{constrain:n}=zo(0,e),s=e+1;let o=i(t);function i(m){return r?dt((s+m)%s):n(m)}function l(){return o}function c(m){return o=i(m),f}function u(m){return d().set(l()+m)}function d(){return p_(e,l(),r)}const f={get:l,set:c,add:u,clone:d};return f}function jB(e,t,r,n,s,o,i,l,c,u,d,f,m,g,y,p,w,x,v){const{cross:b,direction:j}=e,S=["INPUT","SELECT","TEXTAREA"],N={passive:!1},C=Vl(),_=Vl(),P=zo(50,225).constrain(g.measure(20)),R={mouse:300,touch:400},$={mouse:500,touch:600},A=y?43:25;let B=!1,Y=0,ee=0,L=!1,U=!1,T=!1,D=!1;function H(q){if(!v)return;function ve(Re){(If(v)||v(q,Re))&&le(Re)}const ue=t;C.add(ue,"dragstart",Re=>Re.preventDefault(),N).add(ue,"touchmove",()=>{},N).add(ue,"touchend",()=>{}).add(ue,"touchstart",ve).add(ue,"mousedown",ve).add(ue,"touchcancel",M).add(ue,"contextmenu",M).add(ue,"click",Z,!0)}function V(){C.clear(),_.clear()}function Q(){const q=D?r:t;_.add(q,"touchmove",k,N).add(q,"touchend",M).add(q,"mousemove",k,N).add(q,"mouseup",M)}function X(q){const ve=q.nodeName||"";return S.includes(ve)}function se(){return(y?$:R)[D?"mouse":"touch"]}function ge(q,ve){const ue=f.add(jv(q)*-1),Re=d.byDistance(q,!y).distance;return y||dt(q)<P?Re:w&&ve?Re*.5:d.byIndex(ue.get(),0).distance}function le(q){const ve=Jp(q,n);D=ve,T=y&&ve&&!q.buttons&&B,B=il(s.get(),i.get())>=2,!(ve&&q.button!==0)&&(X(q.target)||(L=!0,o.pointerDown(q),u.useFriction(0).useDuration(0),s.set(i),Q(),Y=o.readPoint(q),ee=o.readPoint(q,b),m.emit("pointerDown")))}function k(q){if(!Jp(q,n)&&q.touches.length>=2)return M(q);const ue=o.readPoint(q),Re=o.readPoint(q,b),Ne=il(ue,Y),Me=il(Re,ee);if(!U&&!D&&(!q.cancelable||(U=Ne>Me,!U)))return M(q);const Ve=o.pointerMove(q);Ne>p&&(T=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(j(Ve)),q.preventDefault()}function M(q){const ue=d.byDistance(0,!1).index!==f.get(),Re=o.pointerUp(q)*se(),Ne=ge(j(Re),ue),Me=vB(Re,Ne),Ve=A-10*Me,Be=x+Me/50;U=!1,L=!1,_.clear(),u.useDuration(Ve).useFriction(Be),c.distance(Ne,!y),D=!1,m.emit("pointerUp")}function Z(q){T&&(q.stopPropagation(),q.preventDefault(),T=!1)}function W(){return L}return{init:H,destroy:V,pointerDown:W}}function SB(e,t){let n,s;function o(f){return f.timeStamp}function i(f,m){const y=`client${(m||e.scroll)==="x"?"X":"Y"}`;return(Jp(f,t)?f:f.touches[0])[y]}function l(f){return n=f,s=f,i(f)}function c(f){const m=i(f)-i(s),g=o(f)-o(n)>170;return s=f,g&&(n=f),m}function u(f){if(!n||!s)return 0;const m=i(s)-i(n),g=o(f)-o(n),y=o(f)-o(s)>170,p=m/g;return g&&!y&&dt(p)>.1?p:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:i}}function NB(){function e(r){const{offsetTop:n,offsetLeft:s,offsetWidth:o,offsetHeight:i}=r;return{top:n,right:s+o,bottom:n+i,left:s,width:o,height:i}}return{measure:e}}function CB(e){function t(n){return e*(n/100)}return{measure:t}}function kB(e,t,r,n,s,o,i){const l=[e].concat(n);let c,u,d=[],f=!1;function m(w){return s.measureSize(i.measure(w))}function g(w){if(!o)return;u=m(e),d=n.map(m);function x(v){for(const b of v){if(f)return;const j=b.target===e,S=n.indexOf(b.target),N=j?u:d[S],C=m(j?e:n[S]);if(dt(C-N)>=.5){w.reInit(),t.emit("resize");break}}}c=new ResizeObserver(v=>{(If(o)||o(w,v))&&x(v)}),r.requestAnimationFrame(()=>{l.forEach(v=>c.observe(v))})}function y(){f=!0,c&&c.disconnect()}return{init:g,destroy:y}}function _B(e,t,r,n,s,o){let i=0,l=0,c=s,u=o,d=e.get(),f=0;function m(){const N=n.get()-e.get(),C=!c;let _=0;return C?(i=0,r.set(n),e.set(n),_=N):(r.set(e),i+=N/c,i*=u,d+=i,e.add(i),_=d-f),l=jv(_),f=d,S}function g(){const N=n.get()-t.get();return dt(N)<.001}function y(){return c}function p(){return l}function w(){return i}function x(){return b(s)}function v(){return j(o)}function b(N){return c=N,S}function j(N){return u=N,S}const S={direction:p,duration:y,velocity:w,seek:m,settled:g,useBaseFriction:v,useBaseDuration:x,useFriction:j,useDuration:b};return S}function EB(e,t,r,n,s){const o=s.measure(10),i=s.measure(50),l=zo(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(g){if(!u())return;const y=e.reachedMin(t.get())?"min":"max",p=dt(e[y]-t.get()),w=r.get()-t.get(),x=l.constrain(p/i);r.subtract(w*x),!g&&dt(w)<o&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(g){c=!g}return{shouldConstrain:u,constrain:d,toggleActive:f}}function PB(e,t,r,n,s){const o=zo(-t+e,0),i=f(),l=d(),c=m();function u(y,p){return il(y,p)<=1}function d(){const y=i[0],p=un(i),w=i.lastIndexOf(y),x=i.indexOf(p)+1;return zo(w,x)}function f(){return r.map((y,p)=>{const{min:w,max:x}=o,v=o.constrain(y),b=!p,j=Sv(r,p);return b?x:j||u(w,v)?w:u(x,v)?x:v}).map(y=>parseFloat(y.toFixed(3)))}function m(){if(t<=e+s)return[o.max];if(n==="keepSnaps")return i;const{min:y,max:p}=l;return i.slice(y,p)}return{snapsContained:c,scrollContainLimit:l}}function TB(e,t,r){const n=t[0],s=r?n-e:un(t);return{limit:zo(s,n)}}function AB(e,t,r,n){const o=t.min+.1,i=t.max+.1,{reachedMin:l,reachedMax:c}=zo(o,i);function u(m){return m===1?c(r.get()):m===-1?l(r.get()):!1}function d(m){if(!u(m))return;const g=e*(m*-1);n.forEach(y=>y.add(g))}return{loop:d}}function RB(e){const{max:t,length:r}=e;function n(o){const i=o-t;return r?i/-r:0}return{get:n}}function DB(e,t,r,n,s){const{startEdge:o,endEdge:i}=e,{groupSlides:l}=s,c=f().map(t.measure),u=m(),d=g();function f(){return l(n).map(p=>un(p)[i]-p[0][o]).map(dt)}function m(){return n.map(p=>r[o]-p[o]).map(p=>-dt(p))}function g(){return l(u).map(p=>p[0]).map((p,w)=>p+c[w])}return{snaps:u,snapsAligned:d}}function MB(e,t,r,n,s,o){const{groupSlides:i}=s,{min:l,max:c}=n,u=d();function d(){const m=i(o),g=!e||t==="keepSnaps";return r.length===1?[o]:g?m:m.slice(l,c).map((y,p,w)=>{const x=!p,v=Sv(w,p);if(x){const b=un(w[0])+1;return db(b)}if(v){const b=wc(o)-un(w)[0]+1;return db(b,un(w)[0])}return y})}return{slideRegistry:u}}function IB(e,t,r,n,s){const{reachedAny:o,removeOffset:i,constrain:l}=n;function c(y){return y.concat().sort((p,w)=>dt(p)-dt(w))[0]}function u(y){const p=e?i(y):l(y),w=t.map((v,b)=>({diff:d(v-p,0),index:b})).sort((v,b)=>dt(v.diff)-dt(b.diff)),{index:x}=w[0];return{index:x,distance:p}}function d(y,p){const w=[y,y+r,y-r];if(!e)return y;if(!p)return c(w);const x=w.filter(v=>jv(v)===p);return x.length?c(x):un(w)-r}function f(y,p){const w=t[y]-s.get(),x=d(w,p);return{index:y,distance:x}}function m(y,p){const w=s.get()+y,{index:x,distance:v}=u(w),b=!e&&o(w);if(!p||b)return{index:x,distance:y};const j=t[x]-v,S=y+d(j,0);return{index:x,distance:S}}return{byDistance:m,byIndex:f,shortcut:d}}function OB(e,t,r,n,s,o,i){function l(f){const m=f.distance,g=f.index!==t.get();o.add(m),m&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),g&&(r.set(t.get()),t.set(f.index),i.emit("select"))}function c(f,m){const g=s.byDistance(f,m);l(g)}function u(f,m){const g=t.clone().set(f),y=s.byIndex(g.get(),m);l(y)}return{distance:c,index:u}}function LB(e,t,r,n,s,o,i,l){const c={passive:!0,capture:!0};let u=0;function d(g){if(!l)return;function y(p){if(new Date().getTime()-u>10)return;i.emit("slideFocusStart"),e.scrollLeft=0;const v=r.findIndex(b=>b.includes(p));bv(v)&&(s.useDuration(0),n.index(v,0),i.emit("slideFocus"))}o.add(document,"keydown",f,!1),t.forEach((p,w)=>{o.add(p,"focus",x=>{(If(l)||l(g,x))&&y(w)},c)})}function f(g){g.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function $a(e){let t=e;function r(){return t}function n(c){t=i(c)}function s(c){t+=i(c)}function o(c){t-=i(c)}function i(c){return bv(c)?c:c.get()}return{get:r,set:n,add:s,subtract:o}}function g_(e,t){const r=e.scroll==="x"?i:l,n=t.style;let s=null,o=!1;function i(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(o)return;const g=yB(e.direction(m));g!==s&&(n.transform=r(g),s=g)}function u(m){o=!m}function d(){o||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function FB(e,t,r,n,s,o,i,l,c){const d=Fl(s),f=Fl(s).reverse(),m=x().concat(v());function g(C,_){return C.reduce((P,R)=>P-s[R],_)}function y(C,_){return C.reduce((P,R)=>g(P,_)>0?P.concat([R]):P,[])}function p(C){return o.map((_,P)=>({start:_-n[P]+.5+C,end:_+t-.5+C}))}function w(C,_,P){const R=p(_);return C.map($=>{const A=P?0:-r,B=P?r:0,Y=P?"end":"start",ee=R[$][Y];return{index:$,loopPoint:ee,slideLocation:$a(-1),translate:g_(e,c[$]),target:()=>l.get()>ee?A:B}})}function x(){const C=i[0],_=y(f,C);return w(_,r,!1)}function v(){const C=t-i[0]-1,_=y(d,C);return w(_,-r,!0)}function b(){return m.every(({index:C})=>{const _=d.filter(P=>P!==C);return g(_,t)<=.1})}function j(){m.forEach(C=>{const{target:_,translate:P,slideLocation:R}=C,$=_();$!==R.get()&&(P.to($),R.set($))})}function S(){m.forEach(C=>C.translate.clear())}return{canLoop:b,clear:S,loop:j,loopPoints:m}}function $B(e,t,r){let n,s=!1;function o(c){if(!r)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{s||(If(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function i(){n&&n.disconnect(),s=!0}return{init:o,destroy:i}}function VB(e,t,r,n){const s={};let o=null,i=null,l,c=!1;function u(){l=new IntersectionObserver(y=>{c||(y.forEach(p=>{const w=t.indexOf(p.target);s[w]=p}),o=null,i=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(y=>l.observe(y))}function d(){l&&l.disconnect(),c=!0}function f(y){return $l(s).reduce((p,w)=>{const x=parseInt(w),{isIntersecting:v}=s[x];return(y&&v||!y&&!v)&&p.push(x),p},[])}function m(y=!0){if(y&&o)return o;if(!y&&i)return i;const p=f(y);return y&&(o=p),y||(i=p),p}return{init:u,destroy:d,get:m}}function BB(e,t,r,n,s,o){const{measureSize:i,startEdge:l,endEdge:c}=e,u=r[0]&&s,d=y(),f=p(),m=r.map(i),g=w();function y(){if(!u)return 0;const v=r[0];return dt(t[l]-v[l])}function p(){if(!u)return 0;const v=o.getComputedStyle(un(n));return parseFloat(v.getPropertyValue(`margin-${c}`))}function w(){return r.map((v,b,j)=>{const S=!b,N=Sv(j,b);return S?m[b]+d:N?m[b]+f:j[b+1][l]-v[l]}).map(dt)}return{slideSizes:m,slideSizesWithGaps:g,startGap:d,endGap:f}}function UB(e,t,r,n,s,o,i,l,c){const{startEdge:u,endEdge:d,direction:f}=e,m=bv(r);function g(x,v){return Fl(x).filter(b=>b%v===0).map(b=>x.slice(b,b+v))}function y(x){return x.length?Fl(x).reduce((v,b,j)=>{const S=un(v)||0,N=S===0,C=b===wc(x),_=s[u]-o[S][u],P=s[u]-o[b][d],R=!n&&N?f(i):0,$=!n&&C?f(l):0,A=dt(P-$-(_+R));return j&&A>t+c&&v.push(b),C&&v.push(x.length),v},[]).map((v,b,j)=>{const S=Math.max(j[b-1]||0);return x.slice(S,v)}):[]}function p(x){return m?g(x,r):y(x)}return{groupSlides:p}}function zB(e,t,r,n,s,o,i){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:m,dragFree:g,dragThreshold:y,inViewThreshold:p,slidesToScroll:w,skipSnaps:x,containScroll:v,watchResize:b,watchSlides:j,watchDrag:S,watchFocus:N}=o,C=2,_=NB(),P=_.measure(t),R=r.map(_.measure),$=bB(c,u),A=$.measureSize(P),B=CB(A),Y=xB(l,A),ee=!f&&!!v,L=f||!!v,{slideSizes:U,slideSizesWithGaps:T,startGap:D,endGap:H}=BB($,P,R,r,L,s),V=UB($,A,w,f,P,R,D,H,C),{snaps:Q,snapsAligned:X}=DB($,Y,P,R,V),se=-un(Q)+un(T),{snapsContained:ge,scrollContainLimit:le}=PB(A,se,X,v,C),k=ee?ge:X,{limit:M}=TB(se,k,f),Z=p_(wc(k),d,f),W=Z.clone(),ae=Fl(r),q=({dragHandler:Le,scrollBody:Qe,scrollBounds:ur,options:{loop:dr}})=>{dr||ur.constrain(Le.pointerDown()),Qe.seek()},ve=({scrollBody:Le,translate:Qe,location:ur,offsetLocation:dr,previousLocation:Ln,scrollLooper:Fn,slideLooper:$n,dragHandler:co,animation:Kr,eventHandler:Cr,scrollBounds:ya,options:{loop:Xo}},fs)=>{const uo=Le.settled(),F=!ya.shouldConstrain(),ne=Xo?uo:uo&&F;ne&&!co.pointerDown()&&(Kr.stop(),Cr.emit("settle")),ne||Cr.emit("scroll");const G=ur.get()*fs+Ln.get()*(1-fs);dr.set(G),Xo&&(Fn.loop(Le.direction()),$n.loop()),Qe.to(dr.get())},ue=wB(n,s,()=>q(Pe),Le=>ve(Pe,Le)),Re=.68,Ne=k[Z.get()],Me=$a(Ne),Ve=$a(Ne),Be=$a(Ne),It=$a(Ne),cr=_B(Me,Be,Ve,It,m,Re),E=IB(f,k,se,M,It),I=OB(ue,Z,W,cr,E,It,i),z=RB(M),de=Vl(),oe=VB(t,r,i,p),{slideRegistry:te}=MB(ee,v,k,le,V,ae),me=LB(e,r,te,I,cr,de,i,N),Pe={ownerDocument:n,ownerWindow:s,eventHandler:i,containerRect:P,slideRects:R,animation:ue,axis:$,dragHandler:jB($,e,n,s,It,SB($,s),Me,ue,I,cr,E,Z,i,B,g,y,x,Re,S),eventStore:de,percentOfView:B,index:Z,indexPrevious:W,limit:M,location:Me,offsetLocation:Be,previousLocation:Ve,options:o,resizeHandler:kB(t,i,s,r,$,b,_),scrollBody:cr,scrollBounds:EB(M,Be,It,cr,B),scrollLooper:AB(se,M,Be,[Me,Be,Ve,It]),scrollProgress:z,scrollSnapList:k.map(z.get),scrollSnaps:k,scrollTarget:E,scrollTo:I,slideLooper:FB($,A,se,U,T,Q,k,Be,r),slideFocus:me,slidesHandler:$B(t,i,j),slidesInView:oe,slideIndexes:ae,slideRegistry:te,slidesToScroll:V,target:It,translate:g_($,t)};return Pe}function WB(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function s(u){return n(u).forEach(d=>d(t,u)),c}function o(u,d){return e[u]=n(u).concat([d]),c}function i(u,d){return e[u]=n(u).filter(f=>f!==d),c}function l(){e={}}const c={init:r,emit:s,off:i,on:o,clear:l};return c}const HB={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function qB(e){function t(o,i){return m_(o,i||{})}function r(o){const i=o.breakpoints||{},l=$l(i).filter(c=>e.matchMedia(c).matches).map(c=>i[c]).reduce((c,u)=>t(c,u),{});return t(o,l)}function n(o){return o.map(i=>$l(i.breakpoints||{})).reduce((i,l)=>i.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function YB(e){let t=[];function r(o,i){return t=i.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(o,e)),i.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(o=>o.destroy())}return{init:r,destroy:n}}function jd(e,t,r){const n=e.ownerDocument,s=n.defaultView,o=qB(s),i=YB(o),l=Vl(),c=WB(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=o,{on:m,off:g,emit:y}=c,p=$;let w=!1,x,v=u(HB,jd.globalOptions),b=u(v),j=[],S,N,C;function _(){const{container:ae,slides:q}=b;N=(Zp(ae)?e.querySelector(ae):ae)||e.children[0];const ue=Zp(q)?N.querySelectorAll(q):q;C=[].slice.call(ue||N.children)}function P(ae){const q=zB(e,N,C,n,s,ae,c);if(ae.loop&&!q.slideLooper.canLoop()){const ve=Object.assign({},ae,{loop:!1});return P(ve)}return q}function R(ae,q){w||(v=u(v,ae),b=d(v),j=q||j,_(),x=P(b),f([v,...j.map(({options:ve})=>ve)]).forEach(ve=>l.add(ve,"change",$)),b.active&&(x.translate.to(x.location.get()),x.animation.init(),x.slidesInView.init(),x.slideFocus.init(W),x.eventHandler.init(W),x.resizeHandler.init(W),x.slidesHandler.init(W),x.options.loop&&x.slideLooper.loop(),N.offsetParent&&C.length&&x.dragHandler.init(W),S=i.init(W,j)))}function $(ae,q){const ve=V();A(),R(u({startIndex:ve},ae),q),c.emit("reInit")}function A(){x.dragHandler.destroy(),x.eventStore.clear(),x.translate.clear(),x.slideLooper.clear(),x.resizeHandler.destroy(),x.slidesHandler.destroy(),x.slidesInView.destroy(),x.animation.destroy(),i.destroy(),l.clear()}function B(){w||(w=!0,l.clear(),A(),c.emit("destroy"),c.clear())}function Y(ae,q,ve){!b.active||w||(x.scrollBody.useBaseFriction().useDuration(q===!0?0:b.duration),x.scrollTo.index(ae,ve||0))}function ee(ae){const q=x.index.add(1).get();Y(q,ae,-1)}function L(ae){const q=x.index.add(-1).get();Y(q,ae,1)}function U(){return x.index.add(1).get()!==V()}function T(){return x.index.add(-1).get()!==V()}function D(){return x.scrollSnapList}function H(){return x.scrollProgress.get(x.location.get())}function V(){return x.index.get()}function Q(){return x.indexPrevious.get()}function X(){return x.slidesInView.get()}function se(){return x.slidesInView.get(!1)}function ge(){return S}function le(){return x}function k(){return e}function M(){return N}function Z(){return C}const W={canScrollNext:U,canScrollPrev:T,containerNode:M,internalEngine:le,destroy:B,off:g,on:m,emit:y,plugins:ge,previousScrollSnap:Q,reInit:p,rootNode:k,scrollNext:ee,scrollPrev:L,scrollProgress:H,scrollSnapList:D,scrollTo:Y,selectedScrollSnap:V,slideNodes:Z,slidesInView:X,slidesNotInView:se};return R(t,r),setTimeout(()=>c.emit("init"),0),W}jd.globalOptions=void 0;function Nv(e={},t=[]){const r=h.useRef(e),n=h.useRef(t),[s,o]=h.useState(),[i,l]=h.useState(),c=h.useCallback(()=>{s&&s.reInit(r.current,n.current)},[s]);return h.useEffect(()=>{wv(r.current,e)||(r.current=e,c())},[e,c]),h.useEffect(()=>{gB(n.current,t)||(n.current=t,c())},[t,c]),h.useEffect(()=>{if(pB()&&i){jd.globalOptions=Nv.globalOptions;const u=jd(i,r.current,n.current);return o(u),()=>u.destroy()}else o(void 0)},[i,o]),[l,s]}Nv.globalOptions=void 0;const v_=h.createContext(null);function Of(){const e=h.useContext(v_);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const y_=h.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:s,children:o,...i},l)=>{const[c,u]=Nv({...t,axis:e==="horizontal"?"x":"y"},n),[d,f]=h.useState(!1),[m,g]=h.useState(!1),y=h.useCallback(v=>{v&&(f(v.canScrollPrev()),g(v.canScrollNext()))},[]),p=h.useCallback(()=>{u==null||u.scrollPrev()},[u]),w=h.useCallback(()=>{u==null||u.scrollNext()},[u]),x=h.useCallback(v=>{v.key==="ArrowLeft"?(v.preventDefault(),p()):v.key==="ArrowRight"&&(v.preventDefault(),w())},[p,w]);return h.useEffect(()=>{!u||!r||r(u)},[u,r]),h.useEffect(()=>{if(u)return y(u),u.on("reInit",y),u.on("select",y),()=>{u==null||u.off("select",y)}},[u,y]),a.jsx(v_.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:p,scrollNext:w,canScrollPrev:d,canScrollNext:m},children:a.jsx("div",{ref:l,onKeyDownCapture:x,className:ce("relative",s),role:"region","aria-roledescription":"carousel",...i,children:o})})});y_.displayName="Carousel";const x_=h.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:s}=Of();return a.jsx("div",{ref:n,className:"overflow-hidden",children:a.jsx("div",{ref:r,className:ce("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});x_.displayName="CarouselContent";const w_=h.forwardRef(({className:e,...t},r)=>{const{orientation:n}=Of();return a.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:ce("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});w_.displayName="CarouselItem";const b_=h.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:o,scrollPrev:i,canScrollPrev:l}=Of();return a.jsxs(ie,{ref:s,variant:t,size:r,className:ce("absolute  h-8 w-8 rounded-full",o==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:i,...n,children:[a.jsx(Yo,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Previous slide"})]})});b_.displayName="CarouselPrevious";const j_=h.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:o,scrollNext:i,canScrollNext:l}=Of();return a.jsxs(ie,{ref:s,variant:t,size:r,className:ce("absolute h-8 w-8 rounded-full",o==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:i,...n,children:[a.jsx(aL,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Next slide"})]})});j_.displayName="CarouselNext";function GB({productId:e,categoryId:t,shopId:r}){const[n,s]=h.useState([]),[o,i]=h.useState(!0),{t:l}=we(),[c,u]=h.useState(!1);return h.useEffect(()=>{e&&r&&(async()=>{try{i(!0);let{data:f,error:m}=await J.from("order_items").select("order_id, product_id").eq("product_id",e),g=[];if(!m&&f&&f.length>0){const x=f.map(j=>j.order_id),{data:v,error:b}=await J.from("order_items").select("product_id").in("order_id",x).neq("product_id",e);if(!b&&v&&v.length>0){const j=v.reduce((S,N)=>(S[N.product_id]=(S[N.product_id]||0)+1,S),{});g=Object.entries(j).sort((S,N)=>N[1]-S[1]).slice(0,8).map(([S])=>S)}}let y=J.from("products").select(`
            *,
            categories (name),
            product_car_models (
              car_models (
                make,
                model,
                year_start,
                year_end
              )
            )
          `).eq("status","active").neq("id",e).limit(8);g.length>0?y=y.in("id",g):t?y=y.eq("category_id",t):y=y.eq("shop_id",r);const{data:p,error:w}=await y;if(w)throw w;if(p&&p.length>0){const x=p.map(v=>{var b,j;return{id:v.id,shopId:v.shop_id,name:v.name,description:v.description||"",price:v.price,image:v.image||"",category:((b=v.categories)==null?void 0:b.name)||"Uncategorized",compatibility:((j=v.product_car_models)==null?void 0:j.map(S=>{const N=S.car_models;return`${N.make} ${N.model} (${N.year_start}${N.year_end?`-${N.year_end}`:"+"})`}))||[],stock:v.stock}});s(x)}}catch(f){console.error("Error fetching similar products:",f)}finally{i(!1)}})()},[e,t,r]),h.useEffect(()=>{const d=()=>{const f=window.innerWidth,m=f<640?2:f<768?3:f<1024?4:f<1280?5:6;u(n.length>m)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[n.length]),o?a.jsx("div",{className:"text-center py-4",children:l("loading")}):n.length===0?null:a.jsxs("div",{className:"mt-16",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:l("youMayAlsoLike")}),a.jsx("div",{className:"relative",children:a.jsxs(y_,{className:"w-full",children:[a.jsx(x_,{className:"-ml-2 md:-ml-4",children:n.map(d=>a.jsx(w_,{className:"pl-2 md:pl-4 basis-1/2 xs:basis-1/3 sm:basis-1/4 md:basis-1/5 lg:basis-1/6",children:a.jsx("div",{className:"h-full",children:a.jsx(KB,{product:d})})},d.id))}),c&&a.jsxs(a.Fragment,{children:[a.jsx(b_,{className:"absolute left-0 -translate-x-1/2 z-10 bg-white/90 border border-gray-200 hover:bg-white"}),a.jsx(j_,{className:"absolute right-0 translate-x-1/2 z-10 bg-white/90 border border-gray-200 hover:bg-white"})]})]})})]})}function KB({product:e}){const t=Ze(),{t:r}=we();return a.jsxs(io,{className:"h-full overflow-hidden hover:shadow-md transition-shadow cursor-pointer bg-white",onClick:()=>t(`/products/${e.id}`),children:[a.jsx("div",{className:"aspect-square w-full bg-gray-100 overflow-hidden",children:e.image?a.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(ts,{className:"h-8 w-8 text-gray-400"})})}),a.jsxs(Ko,{className:"p-2 md:p-3",children:[a.jsx("h3",{className:"text-xs md:text-sm font-medium line-clamp-2 mb-1",children:e.name}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs md:text-sm font-semibold text-indigo-600",children:[e.price.toFixed(2)," EGP"]}),e.stock<=0&&a.jsx("span",{className:"text-xs text-red-500",children:r("outOfStock")})]})]})]})}var QB="AspectRatio",S_=h.forwardRef((e,t)=>{const{ratio:r=1/1,style:n,...s}=e;return a.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/r}%`},"data-radix-aspect-ratio-wrapper":"",children:a.jsx(Ce.div,{...s,ref:t,style:{...n,position:"absolute",top:0,right:0,bottom:0,left:0}})})});S_.displayName=QB;var XB=S_;const fb=XB;function ZB(){var ve;const{productId:e}=ef(),t=Ze(),{t:r,language:n}=we(),{user:s}=lt(),{items:o,addItem:i,removeItem:l,updateQuantity:c}=no(),{isInWishlist:u,addToWishlist:d,removeFromWishlist:f}=h_(),{userRating:m,fetchUserRating:g,rateProduct:y}=A7(),[p,w]=h.useState(null),[x,v]=h.useState(""),[b,j]=h.useState(!0),[S,N]=h.useState([]),[C,_]=h.useState(0),[P,R]=h.useState(!1),[$,A]=h.useState(!1),[B,Y]=h.useState(null),[ee,L]=h.useState(null),[U,T]=h.useState(null),[D,H]=h.useState(null),[V,Q]=h.useState(null),X=o.find(ue=>ue.product.id===e),se=n==="ar";h.useEffect(()=>{ge(),s&&le()},[e,s]),h.useEffect(()=>{s&&e&&g(e)},[s,e]);async function ge(){var ue,Re;try{j(!0);const{data:Ne,error:Me}=await J.from("products").select(`
          *,
          categories (name),
          product_car_models (
            car_models (
              make,
              model,
              year_start,
              year_end
            )
          ),
          product_images (
            image_url,
            is_primary
          )
        `).eq("id",e).single();if(Me)throw Me;const{data:Ve,error:Be}=await J.from("shops").select("id, name, rating, review_count").eq("id",Ne.shop_id).single();if(Be)throw Be;let It=[];if(Ne.image&&It.push(Ne.image),Ne.product_images&&Ne.product_images.length>0){const E=Ne.product_images.filter(I=>I.image_url!==Ne.image).map(I=>I.image_url);It=[...It,...E]}N(It),v(Ve.name),T(Ve.id),L(Ve.rating||0),Ve.review_count&&Ve.review_count>0?H(Math.round(Ve.review_count/(Ve.review_count+5)*100)):H(null),Y(Ne.category_id);const cr={id:Ne.id,shopId:Ne.shop_id,name:Ne.name,description:Ne.description||"",price:Ne.price,image:Ne.image||"",category:((ue=Ne.categories)==null?void 0:ue.name)||"Type",compatibility:((Re=Ne.product_car_models)==null?void 0:Re.map(E=>{const I=E.car_models;return`${I.make} ${I.model} (${I.year_start}${I.year_end?`-${I.year_end}`:"+"})`}))||[],stock:Ne.stock,status:Ne.status,productNumber:Ne.product_number,rating:Ne.rating||0,reviewCount:Ne.review_count||0,type:Ne.type||"Other",specifications:{},compare_at_price:null};w(cr)}catch(Ne){console.error("Error fetching product details:",Ne),K.error(r("errorFetchingProduct"))}finally{j(!1)}}async function le(){if(s)try{const ue=await u(e||"");R(ue)}catch(ue){console.error("Error checking wishlist:",ue)}}async function k(){if(!s){K.error(r("pleaseLoginToAddToWishlist")),t("/login");return}A(!0);try{P?(await f(e||""),R(!1),K.success(r("removedFromWishlist"))):(await d(e||""),R(!0),K.success(r("addedToWishlist")))}catch(ue){console.error("Error updating wishlist:",ue),K.error(r("errorUpdatingWishlist"))}finally{A(!1)}}function M(){navigator.share?navigator.share({title:(p==null?void 0:p.name)||"Product",text:(p==null?void 0:p.description)||"Check out this product",url:window.location.href}).catch(ue=>console.error("Error sharing:",ue)):navigator.clipboard.writeText(window.location.href).then(()=>K.success(r("linkCopiedToClipboard"))).catch(ue=>{console.error("Error copying to clipboard:",ue),K.error(r("errorCopyingToClipboard"))})}function Z(ue){const Re=/(\w+)\s+(\w+)\s+\((\d+)(?:-(\d+))?\)/,Ne=ue.match(Re);if(Ne){const[Me,Ve,Be]=Ne;t(`/products?make=${Ve}&model=${Be}`)}}const W=async ue=>{await y(e||"",ue)&&ge()},ae=()=>{p&&p.status==="active"?(X||i(p),t("/checkout")):K.error(r("outOfStock"))};if(b)return a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-96 bg-gray-200 rounded-lg mb-8"}),a.jsx("div",{className:"h-10 bg-gray-200 rounded-lg w-3/4 mb-4"}),a.jsx("div",{className:"h-6 bg-gray-200 rounded-lg w-1/2 mb-2"}),a.jsx("div",{className:"h-6 bg-gray-200 rounded-lg w-1/4 mb-8"}),a.jsx("div",{className:"h-32 bg-gray-200 rounded-lg mb-8"}),a.jsx("div",{className:"h-12 bg-gray-200 rounded-lg w-full"})]})});if(!p)return a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r("productNotFound")}),a.jsx("p",{className:"mt-2 text-gray-600",children:r("productDoesNotExist")}),a.jsx(ie,{className:"mt-6",onClick:()=>t("/products"),children:r("backToProducts")})]})});const q=(p==null?void 0:p.status)==="inactive";return a.jsxs("div",{className:`max-w-6xl mx-auto px-4 pb-16 ${se?"rtl":"ltr"}`,children:[a.jsxs(ie,{variant:"ghost",className:"mb-4 flex items-center gap-2 hover:bg-gray-100",onClick:()=>t(-1),children:[a.jsx(Yo,{className:"h-4 w-4"}),r("back")]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"lg:sticky lg:top-24",children:[a.jsx("div",{className:"relative overflow-hidden rounded-lg mb-4 border border-gray-200 bg-white shadow-md",children:a.jsxs(fb,{ratio:1/1,className:"bg-white",children:[S.length>0?a.jsx("img",{src:S[C],alt:p==null?void 0:p.name,className:"w-full h-full object-contain p-6"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:a.jsx(ts,{className:"h-32 w-32 text-gray-400"})}),a.jsx("button",{onClick:k,disabled:$,className:`absolute top-3 right-3 p-2 rounded-full transition-colors ${P?"bg-pink-100 text-pink-600 hover:bg-pink-200":"bg-white/90 shadow-sm text-gray-700 hover:bg-gray-100"}`,"aria-label":r(P?"removeFromWishlist":"addToWishlist"),children:a.jsx(Il,{className:`h-6 w-6 ${P?"fill-current":""}`})})]})}),a.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2",children:S.map((ue,Re)=>a.jsx("button",{onClick:()=>_(Re),className:`relative rounded-md overflow-hidden transition-all duration-200 ${C===Re?"border-2 border-indigo-600 shadow-md":"border border-gray-200 hover:border-indigo-300"}`,children:a.jsx(fb,{ratio:1/1,children:a.jsx("img",{src:ue,alt:`${p==null?void 0:p.name} thumbnail ${Re+1}`,className:"w-full h-full object-cover"})})},Re))}),a.jsxs(ie,{variant:"outline",className:"mt-4 w-full hidden sm:flex justify-center items-center gap-2",onClick:M,children:[a.jsx(kw,{className:"h-4 w-4"}),r("shareProduct")]})]}),a.jsxs("div",{className:"flex flex-col space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 break-words",children:p==null?void 0:p.name}),a.jsx("div",{className:"flex items-center mt-3",children:a.jsxs("div",{className:"flex items-center product-rating-stars",children:[[1,2,3,4,5].map(ue=>a.jsx("button",{onClick:()=>W(ue),onMouseEnter:()=>Q(ue),onMouseLeave:()=>Q(null),className:"focus:outline-none","aria-label":`Rate ${ue} star${ue!==1?"s":""}`,children:a.jsx(Dp,{className:`h-5 w-5 sm:h-6 sm:w-6 ${(V?ue<=V:m?ue<=m:ue<=Math.round(p.rating||0))?"text-yellow-400 fill-yellow-400":"text-gray-300"} transition-colors`})},ue)),a.jsx("span",{className:"ml-2 text-gray-700 font-medium",children:((ve=p.rating)==null?void 0:ve.toFixed(1))||"0.0"}),a.jsxs("span",{className:"ml-2 text-gray-500",children:["(",p.reviewCount||0,") ",r("ratings")]})]})}),a.jsxs("div",{className:"flex items-center mt-4",children:[a.jsxs("span",{className:"text-gray-600",children:[r("soldBy"),":"]}),a.jsx(_e,{to:`/shops/${p==null?void 0:p.shopId}`,className:"ml-2 flex items-center text-indigo-600 hover:text-indigo-700 transition-colors font-medium",children:x})]}),a.jsx("div",{className:"flex items-center mt-1",children:a.jsxs("div",{className:"flex items-center",children:[[1,2,3,4,5].map(ue=>a.jsx(Dp,{className:`h-3 w-3 sm:h-4 sm:w-4 ${ue<=Math.round(ee||0)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},ue)),D!==null&&a.jsxs("span",{className:"ml-2 text-xs sm:text-sm text-gray-600",children:[D,"% ",r("positive feedback")]})]})})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:So((p==null?void 0:p.price)||0)}),a.jsx("div",{className:"text-sm px-3 py-1 rounded-full bg-gray-200 text-gray-700",children:r(q?"outOfStock":"inStock")})]}),a.jsxs("div",{className:"mt-3 flex items-center",children:[a.jsxs("span",{className:"text-gray-600 text-sm",children:[r("condition"),":"]}),a.jsx("span",{className:"ml-2 text-gray-800 font-medium",children:r(q?"unavailable":"new")})]})]}),a.jsxs("div",{className:"space-y-3",children:[q?a.jsx(ie,{disabled:!0,variant:"outline",className:"w-full h-10 sm:h-12 bg-gray-100 text-gray-400 cursor-not-allowed rounded-lg",children:r("outOfStock")}):a.jsxs(a.Fragment,{children:[a.jsx(ie,{onClick:ae,className:"w-full h-10 sm:h-12 flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700 rounded-lg",children:r("buyItNow")}),X?a.jsxs("div",{className:"flex items-center border rounded-lg bg-gray-50 p-2",children:[a.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>c(p.id,Math.max(0,X.quantity-1)),className:"h-9 w-9 sm:h-10 sm:w-10 rounded-full",children:a.jsx(F0,{className:"h-4 w-4"})}),a.jsx("span",{className:"mx-3 sm:mx-4 font-medium text-base sm:text-lg",children:X.quantity}),a.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>c(p.id,X.quantity+1),className:"h-9 w-9 sm:h-10 sm:w-10 rounded-full",children:a.jsx(Ki,{className:"h-4 w-4"})}),a.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>l((p==null?void 0:p.id)||""),className:"h-9 w-9 sm:h-10 sm:w-10 rounded-full ml-auto text-red-500 hover:text-red-700 hover:bg-red-50",children:a.jsx(lc,{className:"h-4 w-4"})})]}):a.jsxs(ie,{variant:"outline",onClick:()=>{i(p),K.success(r("addedToCart"))},className:"w-full h-10 sm:h-12 border-gray-300 hover:bg-gray-50 rounded-lg",children:[a.jsx(dN,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),r("addToCart")]})]}),a.jsxs(ie,{variant:"outline",className:"w-full sm:hidden flex justify-center items-center gap-2",onClick:M,children:[a.jsx(kw,{className:"h-4 w-4"}),r("shareProduct")]})]}),a.jsxs("div",{className:"p-4 sm:p-5 border border-gray-200 rounded-lg bg-white shadow-sm",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3",children:r("description")}),a.jsx("p",{className:"text-sm sm:text-base text-gray-700 whitespace-pre-line break-words",children:p==null?void 0:p.description})]}),(p==null?void 0:p.compatibility)&&p.compatibility.length>0&&a.jsxs("div",{className:"p-4 sm:p-5 border border-gray-200 rounded-lg bg-white shadow-sm",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3",children:r("compatibleWith")}),a.jsx("div",{className:"flex flex-wrap gap-2",children:p.compatibility.map((ue,Re)=>a.jsx(mr,{variant:"outline",className:"bg-gray-100 text-gray-800 py-1 text-xs sm:text-sm cursor-pointer hover:bg-indigo-50",onClick:()=>Z(ue),children:ue},Re))})]}),a.jsxs("div",{className:"p-4 sm:p-5 border border-gray-200 rounded-lg bg-white shadow-sm",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3",children:r("specifications")}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-2 text-sm sm:text-base",children:[a.jsx("div",{className:"text-gray-600",children:r("brand")}),a.jsx("div",{className:"col-span-1 sm:col-span-2 font-medium",children:p.name.split(" ")[0]}),p.productNumber&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-gray-600",children:"MPN"}),a.jsx("div",{className:"col-span-1 sm:col-span-2 font-medium",children:p.productNumber})]}),a.jsx("div",{className:"text-gray-600",children:r("productType")}),a.jsx("div",{className:"col-span-1 sm:col-span-2 font-medium",children:a.jsx(_e,{to:`/products?type=${encodeURIComponent(p.type||"")}`,className:"text-indigo-600 hover:text-indigo-800 hover:underline",children:p.type||r("other")})})]})]})]})]}),p&&e&&a.jsx("div",{className:"mt-10 sm:mt-16",children:a.jsx(GB,{productId:e,categoryId:B,shopId:p.shopId})})]})}function JB(){const{modelId:e}=ef(),t=Ze(),{t:r,language:n}=we(),[s,o]=h.useState(null),[i,l]=h.useState([]),[c,u]=h.useState([]),[d,f]=h.useState(!0),[m,g]=h.useState(null),[y,p]=h.useState([]),[w,x]=h.useState(""),[v,b]=h.useState(""),[j,S]=h.useState("newest"),[N,C]=h.useState(1),[_,P]=h.useState(12),[R,$]=h.useState([]),[A,B]=h.useState(""),Y=n==="ar";h.useEffect(()=>{ee()},[e]),h.useEffect(()=>{if(s){const D=[],H=s.year_start,V=s.year_end||new Date().getFullYear();for(let Q=H;Q<=V;Q++)D.push(Q);$(D.sort((Q,X)=>X-Q))}},[s]),h.useEffect(()=>{let D=[...i];if(w&&w!=="all"&&(D=D.filter(H=>H.category===w)),A&&A!=="all"){const H=parseInt(A);D=D.filter(V=>V.compatibility.some(Q=>NN(Q,H)))}if(v){const H=v.toLowerCase();D=D.filter(V=>V.name.toLowerCase().includes(H)||V.description.toLowerCase().includes(H))}switch(j){case"price-low-high":D.sort((H,V)=>H.price-V.price);break;case"price-high-low":D.sort((H,V)=>V.price-H.price);break}u(D),C(1)},[i,w,v,j,A]);async function ee(){try{f(!0);const{data:D,error:H}=await J.from("car_models").select("*").eq("id",e).single();if(H)throw H;o(D);const{data:V,error:Q}=await J.from("product_car_models").select(`
          product_id,
          products (
            *,
            categories (name),
            product_car_models (
              car_models (
                make,
                model,
                year_start,
                year_end
              )
            )
          )
        `).eq("car_model_id",e);if(Q)throw Q;const X=new Map,se=new Set;V.forEach(le=>{var k;le.products&&!X.has(le.products.id)&&(X.set(le.products.id,le.products),(k=le.products.categories)!=null&&k.name&&se.add(le.products.categories.name))});const ge=Array.from(X.values()).map(le=>{var k,M;return{id:le.id,shopId:le.shop_id,name:le.name,description:le.description||"",price:le.price,image:le.image||"https://via.placeholder.com/500",category:((k=le.categories)==null?void 0:k.name)||"Uncategorized",compatibility:((M=le.product_car_models)==null?void 0:M.map(Z=>{const W=Z.car_models;return`${W.make} ${W.model} (${W.year_start}${W.year_end?`-${W.year_end}`:"+"})`}))||[],stock:le.stock,status:le.status||"active"}});l(ge),u(ge),p(Array.from(se))}catch(D){console.error("Error fetching products:",D),g(D instanceof Error?D:new Error("Failed to fetch products for this car model"))}finally{f(!1)}}const L=c.slice(0,N*_),U=L.length<c.length,T=()=>{C(D=>D+1)};return d?a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-500"}),a.jsx("p",{className:"mt-2 text-gray-500",children:r("loadingProducts")})]})}):m?a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsxs("div",{className:"text-center text-red-500",children:[a.jsx("p",{children:r("errorLoadingProducts")}),a.jsx("p",{className:"text-sm",children:m.message})]})}):s?a.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 ${Y?"rtl":"ltr"}`,children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(ie,{variant:"outline",className:"mb-4 flex items-center gap-2",onClick:()=>t(-1),children:[a.jsx(oN,{className:"h-4 w-4"}),r("back")]}),a.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[s.make," ",s.model," (",s.year_start,s.year_end?`-${s.year_end}`:"+",")"]}),a.jsxs("p",{className:"mt-2 text-gray-600",children:[r("productsCompatibleWith")," ",s.make," ",s.model]})]}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(qe,{type:"text",placeholder:r("searchProducts"),value:v,onChange:D=>b(D.target.value),className:"pl-10"}),a.jsx(Qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),a.jsxs("div",{className:"relative flex items-center",children:[a.jsx(lN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsxs(br,{value:w,onValueChange:x,children:[a.jsx(or,{className:"pl-10",children:a.jsx(jr,{placeholder:r("allCategories")})}),a.jsxs(ir,{children:[a.jsx(He,{value:"all",children:r("allCategories")}),y.map(D=>a.jsx(He,{value:D,children:D},D))]})]})]}),a.jsxs("div",{className:"relative flex items-center",children:[a.jsx(Ap,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsxs(br,{value:A,onValueChange:B,children:[a.jsx(or,{className:"pl-10",children:a.jsx(jr,{placeholder:r("selectYear")})}),a.jsxs(ir,{children:[a.jsx(He,{value:"all",children:r("allYears")}),R.map(D=>a.jsx(He,{value:D.toString(),children:D},D))]})]})]}),a.jsx("div",{children:a.jsxs(br,{value:j,onValueChange:S,children:[a.jsx(or,{children:a.jsx(jr,{placeholder:r("sortBy")})}),a.jsxs(ir,{children:[a.jsx(He,{value:"newest",children:r("newest")}),a.jsx(He,{value:"oldest",children:r("oldest")}),a.jsx(He,{value:"price-low-high",children:r("priceLowToHigh")}),a.jsx(He,{value:"price-high-low",children:r("priceHighToLow")})]})]})})]})}),c.length===0?a.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg shadow-sm",children:[a.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),a.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:r("noProductsFound")}),a.jsx("p",{className:"text-gray-500",children:r("noProductsForThisModelAndFilters")}),a.jsx(ie,{className:"mt-4",onClick:()=>{x(""),b(""),B(""),S("newest")},children:r("clearFilters")})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.map(D=>a.jsx(e_,{product:D},D.id))}),a.jsx("div",{className:"mt-8 flex justify-center",children:U&&a.jsx(ie,{onClick:T,variant:"outline",className:"px-6",children:r("loadMore")})})]})]}):a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r("carModelNotFound")}),a.jsx(ie,{className:"mt-4",onClick:()=>t("/products"),children:r("browseAllProducts")})]})})}var eU="Separator",hb="horizontal",tU=["horizontal","vertical"],N_=h.forwardRef((e,t)=>{const{decorative:r,orientation:n=hb,...s}=e,o=rU(n)?n:hb,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(Ce.div,{"data-orientation":o,...l,...s,ref:t})});N_.displayName=eU;function rU(e){return tU.includes(e)}var C_=N_;const k_=h.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(C_,{ref:s,decorative:r,orientation:t,className:ce("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));k_.displayName=C_.displayName;function nU(){const{wishlistItems:e,loading:t,error:r,removeFromWishlist:n,refreshWishlist:s}=h_(),{user:o}=lt(),i=Ze(),{t:l,language:c}=we(),{addItem:u}=no(),d=c==="ar",[f,m]=h.useState(0);return h.useEffect(()=>{o?(console.log("User is logged in, refreshing wishlist"),s()):(i("/login"),K.error(l("pleaseLoginToViewWishlist")))},[o,s,i,l]),h.useEffect(()=>{let g;return t&&f<3&&(g=window.setTimeout(()=>{console.log(`Retry attempt ${f+1} for wishlist`),s(),m(y=>y+1)},3e3)),()=>{clearTimeout(g)}},[t,f,s]),t&&f<3?a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-500"}),a.jsx("p",{className:"mt-2 text-gray-500",children:l("loadingWishlist")})]})}):r?(console.error("Wishlist error:",r),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsxs("div",{className:"text-center text-red-500",children:[a.jsx("p",{children:l("errorLoadingWishlist")}),a.jsx("p",{className:"text-sm",children:r.message}),a.jsx(ie,{className:"mt-4",onClick:()=>{m(0),s()},children:l("tryAgain")})]})})):a.jsxs("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 ${d?"rtl":"ltr"}`,children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{children:[a.jsxs(ie,{variant:"outline",className:"mb-4 flex items-center gap-2",onClick:()=>i(-1),children:[a.jsx(Yo,{className:"h-4 w-4"}),l("back")]}),a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(Il,{className:"h-6 w-6 text-pink-500"}),l("myWishlist")]}),a.jsx("p",{className:"mt-2 text-gray-600",children:e.length===0?l("emptyWishlist"):l("wishlistItemsCount",{count:e.length})})]})}),a.jsx(k_,{className:"mb-8"}),e.length===0?a.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-lg",children:[a.jsx(Il,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:l("noItemsInWishlist")}),a.jsx("p",{className:"text-gray-500 mb-6",children:l("startAddingToWishlist")}),a.jsx(ie,{onClick:()=>i("/products"),children:l("browseProducts")})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(g=>a.jsxs(io,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[a.jsx("div",{className:"aspect-square overflow-hidden relative",children:a.jsx("img",{src:g.image,alt:g.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onClick:()=>i(`/products/${g.id}`)})}),a.jsxs(Ko,{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 cursor-pointer hover:text-indigo-600 transition-colors",onClick:()=>i(`/products/${g.id}`),children:g.name}),a.jsx("p",{className:"text-gray-500 mb-2 line-clamp-2 text-sm",children:g.description}),a.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[a.jsxs("p",{className:"text-xl font-bold text-indigo-600",children:[g.price.toFixed(2)," EGP"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ie,{variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50 hover:text-red-700",onClick:()=>n(g.id),children:a.jsx(lc,{className:"h-4 w-4"})}),a.jsxs(ie,{size:"sm",onClick:()=>{u(g),K.success(l("addedToCart"))},children:[a.jsx(dN,{className:"h-4 w-4 mr-1"}),l("addToCart")]})]})]})]})]},g.id))})]})}const Ft=[];for(let e=0;e<256;++e)Ft.push((e+256).toString(16).slice(1));function sU(e,t=0){return(Ft[e[t+0]]+Ft[e[t+1]]+Ft[e[t+2]]+Ft[e[t+3]]+"-"+Ft[e[t+4]]+Ft[e[t+5]]+"-"+Ft[e[t+6]]+Ft[e[t+7]]+"-"+Ft[e[t+8]]+Ft[e[t+9]]+"-"+Ft[e[t+10]]+Ft[e[t+11]]+Ft[e[t+12]]+Ft[e[t+13]]+Ft[e[t+14]]+Ft[e[t+15]]).toLowerCase()}let am;const oU=new Uint8Array(16);function iU(){if(!am){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");am=crypto.getRandomValues.bind(crypto)}return am(oU)}const aU=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mb={randomUUID:aU};function lU(e,t,r){var s;if(mb.randomUUID&&!e)return mb.randomUUID();e=e||{};const n=e.random??((s=e.rng)==null?void 0:s.call(e))??iU();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,sU(n)}const cU=()=>{const{user:e}=lt(),{items:t,clearCart:r}=no(),n=Ze(),{t:s}=we(),[o,i]=h.useState([]),[l,c]=h.useState(!0),[u,d]=h.useState(null),[f,m]=h.useState(!1),g=h.useCallback(async()=>{if(!e){c(!1),i([]);return}try{c(!0),d(null);const{data:p,error:w}=await J.from("orders").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(w){console.error("Error fetching orders:",w),d("Failed to load your orders. Please try again later."),c(!1),K.error("Failed to load your orders. Please try again later.");return}if(!p||p.length===0){i([]),c(!1);return}const x=await Promise.all(p.map(async v=>{try{const{data:b,error:j}=await J.from("order_items").select("*").eq("order_id",v.id);if(j)return console.error("Error fetching order items:",j),{...v,status:v.status,items:[]};const S=v.status;return{...v,status:S,items:b||[]}}catch(b){return console.error("Unexpected error fetching order items:",b),{...v,status:v.status,items:[]}}}));i(x)}catch(p){console.error("Error fetching orders:",p),d("Failed to load your orders. Please try again later."),K.error("Failed to load your orders. Please try again later.")}finally{c(!1)}},[e]),y=async(p,w,x,v={},b="",j="",S="")=>{if(!e)return K.error(s("loginToOrder")),n("/login"),null;if(t.length===0)return K.error(s("cartEmpty")),null;if(!p)return K.error(s("selectAddress")),null;if(!w)return K.error(s("selectPaymentMethod")),null;m(!0);try{const N=t.map(async X=>{const{data:se,error:ge}=await J.from("products").select("status").eq("id",X.product.id).single();if(ge)throw ge;if(!se||se.status!=="active")throw new Error(`The product "${X.product.name}" is not available for purchase.`);return!0});await Promise.all(N);const C=t.reduce((X,se)=>X+se.product.price*se.quantity,0);let _=0;v.percentage?_=Iw(v.percentage,"percentage",C,0):v.amount?_=v.amount:_=0;const P=C+x-_,R=lU(),$=b&&b.trim()!==""?b:p.phone||"",A=j&&j.trim()!==""?j:p.recipient_name.split(" ")[0]||"",B=S&&S.trim()!==""?S:p.recipient_name.split(" ").slice(1).join(" ")||"",Y=[];p.building&&Y.push(p.building),p.street&&Y.push(p.street),p.apartment&&Y.push(`Apt: ${p.apartment}`),p.floor&&Y.push(`Floor: ${p.floor}`),p.district&&Y.push(p.district);const ee=Y.join(", ");let L=p.city,U=p.area||"";const T=U?`${L} - ${U}`:L,{data:D,error:H}=await J.from("orders").insert({id:R,user_id:e.id,status:"pending",payment_method:w,subtotal:C,shipping_cost:x,discount_amount:_,total_amount:P,coupon_id:v.couponId||null,coupon_code:v.couponCode||null,first_name:A,last_name:B,email:e.email||"",phone:$,address:ee,city:T,postal_code:p.postal_code||""}).select("id").single();if(H)throw console.error("Order creation error:",H),new Error(s("orderCreationFailed"));const V=t.map(X=>({order_id:R,product_id:X.product.id,product_name:X.product.name,quantity:X.quantity,price:X.product.price})),{error:Q}=await J.from("order_items").insert(V);if(Q)throw console.error("Order items creation error:",Q),new Error(s("orderItemsCreationFailed"));if(v.couponId){const{data:X,error:se}=await J.from("coupons").select("times_used").eq("id",v.couponId).single();if(!se&&X&&(await J.from("coupons").update({times_used:X.times_used+1}).eq("id",v.couponId),v.ownerId&&v.ownerBenefitValue>0)){let ge=v.ownerBenefitValue;v.ownerBenefitType==="percentage"&&(ge=Iw(v.ownerBenefitValue,v.ownerBenefitType,C,0)),await J.rpc("increment_balance",{row_id:v.ownerId,amount:ge})}}return r(),K.success(s("orderPlaced")),n(`/orders/${R}`),R}catch(N){return console.error("Order placement error:",N),K.error(N.message||s("orderFailed")),null}finally{m(!1)}};return h.useEffect(()=>{e?g():(i([]),c(!1))},[g,e]),{orders:o,loading:l,error:u,refetch:g,placeOrder:y,isSubmitting:f}};var uU="Label",__=h.forwardRef((e,t)=>a.jsx(Ce.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));__.displayName=uU;var E_=__;const dU=cc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ot=h.forwardRef(({className:e,...t},r)=>a.jsx(E_,{ref:r,className:ce(dU(),e),...t}));ot.displayName=E_.displayName;function fU({onApply:e}){const{t}=we(),[r,n]=h.useState(""),[s,o]=h.useState(!1),[i,l]=h.useState(!1),c=async()=>{if(!r.trim()){K.error(t("enterCouponCode"));return}o(!0);try{const{data:d,error:f}=await J.from("coupons").select("*").eq("code",r.trim()).eq("active",!0).maybeSingle();if(f){console.error("Coupon validation error:",f),K.error(t("invalidCoupon")),o(!1);return}if(!d){K.error(t("invalidCoupon")),o(!1);return}if(d.usage_limit>0&&d.times_used>=d.usage_limit){K.error(t("couponMaxUsed")),o(!1);return}const m={percentage:d.discount_percentage,amount:d.discount_amount,couponId:d.id,couponCode:d.code,ownerId:d.owner_id,ownerBenefitValue:d.owner_benefit_value,ownerBenefitType:d.owner_benefit_type};e(m),l(!0),K.success(t("couponApplied"))}catch(d){console.error("Error applying coupon:",d),K.error(t("couponError"))}finally{o(!1)}},u=()=>{e({}),l(!1),n(""),K.success(t("couponRemoved"))};return a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:t("haveCoupon")}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(qe,{type:"text",placeholder:t("enterCoupon"),value:r,onChange:d=>n(d.target.value),disabled:i||s,className:"flex-grow"}),i?a.jsx(ie,{variant:"outline",onClick:u,className:"whitespace-nowrap",children:t("remove")}):a.jsx(ie,{onClick:c,disabled:s||!r.trim(),className:"whitespace-nowrap",children:s?a.jsxs(a.Fragment,{children:[a.jsx(gf,{className:"mr-2 h-4 w-4 animate-spin"}),t("validating")]}):t("apply")})]})]})}function hU(){const[e,t]=h.useState(!1),[r,n]=h.useState(null);return h.useEffect(()=>{if(window.google&&window.google.maps){t(!0);return}const s=document.getElementById("google-maps-script");if(s){const l=()=>t(!0),c=()=>n("Failed to load Google Maps API");return s.addEventListener("load",l),s.addEventListener("error",c),()=>{s.removeEventListener("load",l),s.removeEventListener("error",c)}}const o="",i=document.createElement("script");return i.id="google-maps-script",i.src=`https://maps.googleapis.com/maps/api/js?key=${o}&libraries=places`,i.async=!0,i.defer=!0,i.onload=()=>t(!0),i.onerror=()=>n("Failed to load Google Maps API"),document.head.appendChild(i),()=>{i&&(i.removeEventListener("load",()=>t(!0)),i.removeEventListener("error",()=>n("Failed to load Google Maps API")))}},[]),{isLoaded:e,loadError:r}}function mU({results:e,onSelect:t}){return e.length===0?null:a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white shadow-lg rounded-md max-h-48 overflow-y-auto",children:e.map((r,n)=>a.jsxs("div",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>t(r),children:[a.jsx("div",{className:"font-medium",children:r.name}),a.jsx("div",{className:"text-sm text-gray-600",children:r.formatted_address})]},n))})}function pU({initialLocation:e,onLocationSelect:t}){const{t:r,language:n}=we(),s=n==="ar",o=h.useRef(null),[i,l]=h.useState(null),[c,u]=h.useState(null),[d,f]=h.useState(""),[m,g]=h.useState([]),{isLoaded:y,loadError:p}=hU();h.useEffect(()=>{!o.current||!y||p||w()},[o.current,y,p]);const w=()=>{if(!o.current||!window.google)return;const S=e||{lat:30.0444,lng:31.2357},N=new window.google.maps.Map(o.current,{center:S,zoom:15,streetViewControl:!1});l(N),e&&x(e,N),N.addListener("click",C=>{const _=C.latLng;x({lat:_.lat(),lng:_.lng()},N),t(_.lat(),_.lng())})},x=(S,N)=>{if(c)c.setPosition(S);else{const C=new window.google.maps.Marker({position:S,map:N,draggable:!0,animation:window.google.maps.Animation.DROP});C.addListener("dragend",()=>{const _=C.getPosition();t(_.lat(),_.lng())}),u(C)}},v=()=>{if(!i||!d||!window.google)return;new window.google.maps.places.PlacesService(i).textSearch({query:d},(N,C)=>{C===window.google.maps.places.PlacesServiceStatus.OK&&g(N.slice(0,5))})},b=S=>{!i||!window.google||(i.setCenter(S.geometry.location),x({lat:S.geometry.location.lat(),lng:S.geometry.location.lng()},i),t(S.geometry.location.lat(),S.geometry.location.lng()),g([]),f(""))},j=()=>{!navigator.geolocation||!i||navigator.geolocation.getCurrentPosition(S=>{const N={lat:S.coords.latitude,lng:S.coords.longitude};i.setCenter(N),x(N,i),t(N.lat,N.lng)},()=>{alert("Error: The Geolocation service failed.")})};return p?a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 rounded-lg",children:a.jsxs("div",{className:"text-center p-4",children:[a.jsx("p",{className:"text-red-500 mb-2",children:r("googleMapsError")}),a.jsx("p",{className:"text-sm text-gray-600",children:p})]})}):y?a.jsxs("div",{className:"relative w-full h-full",children:[a.jsxs("div",{className:"absolute top-2 left-2 right-2 z-10 flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(qe,{className:"pr-10",placeholder:r("searchLocation"),value:d,onChange:S=>f(S.target.value),onKeyDown:S=>S.key==="Enter"&&v()}),a.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:v,children:a.jsx(Qt,{className:"h-4 w-4"})}),a.jsx(mU,{results:m,onSelect:b})]}),a.jsx(ie,{variant:"outline",size:"icon",onClick:j,title:r("useMyLocation"),children:a.jsx(Do,{className:"h-4 w-4"})})]}),a.jsx("div",{ref:o,className:`w-full h-full ${s?"rtl":"ltr"}`}),a.jsx("div",{className:"absolute bottom-2 left-2 right-2 z-10 flex justify-center",children:a.jsx("div",{className:"bg-black/70 text-white px-3 py-1 rounded-full text-sm",children:r("clickOnMapOrDragMarker")})})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 rounded-lg",children:a.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-indigo-500 border-t-transparent rounded-full"})})}function gU({onAddressSelect:e,selectedAddress:t,hidePhoneField:r=!1,onShippingCostChange:n,onAddressSaved:s}){const{user:o}=lt(),{t:i,language:l}=we(),c=l==="ar",[u,d]=h.useState([]),[f,m]=h.useState([]),[g,y]=h.useState([]),[p,w]=h.useState([]),[x,v]=h.useState(null),[b,j]=h.useState(!1),[S,N]=h.useState(null),[C,_]=h.useState({recipient_name:"",street:"",building:"",floor:"",apartment:"",district:"",city:"",area:"",postal_code:"",phone:""}),[P,R]=h.useState(!0),[$,A]=h.useState(!1),[B,Y]=h.useState(""),[ee,L]=h.useState(!1),U=async M=>{try{const{data:Z,error:W}=await J.from("cities").select("shipping_cost").eq("name",M).single();return W?(console.error("Error fetching shipping cost:",W),null):Z!=null&&Z.shipping_cost?Number(Z.shipping_cost):null}catch(Z){return console.error("Error fetching shipping cost:",Z),null}};h.useEffect(()=>{async function M(){if(o)try{R(!0);const{data:W,error:ae}=await J.from("addresses").select("*").eq("user_id",o.id).order("is_default",{ascending:!1});if(ae)throw ae;if(d(W||[]),W&&W.length>0&&!t){const q=W.find(ve=>ve.is_default)||W[0];if(v(q.id),e(q),q.city&&n){const ve=await U(q.city);ve!==null&&n(ve)}}else t&&v(t.id)}catch(W){console.error("Error fetching addresses:",W)}finally{R(!1)}}async function Z(){try{const{data:W,error:ae}=await J.from("cities").select("*").order("name");if(ae)throw ae;m(W||[]);const{data:q,error:ve}=await J.from("areas").select("*").order("name");if(ve)throw ve;y(q||[])}catch(W){console.error("Error fetching cities and areas:",W)}}M(),Z()},[o,t,n]),h.useEffect(()=>{if(C.city){const M=f.find(Z=>Z.name===C.city);if(M){const Z=g.filter(W=>W.city_id===M.id);w(Z)}}else w([])},[C.city,f,g]);const T=async M=>{const Z=u.find(W=>W.id===M);if(Z){if(v(M),e(Z),Z.city&&n){const W=await U(Z.city);W!==null&&n(W)}L(!1)}},D=(M,Z)=>{_(W=>({...W,[M]:Z}))},H=async M=>{if(_(Z=>({...Z,city:M,area:""})),n){const Z=await U(M);Z!==null&&n(Z)}},V=async()=>{if(o){A(!0);try{const Z=(r?["recipient_name","street","building","district","city"]:["recipient_name","phone","street","building","district","city"]).filter(ve=>!C[ve]);if(Z.length>0)throw new Error(`Please fill in all required fields: ${Z.join(", ")}`);const W=S?{latitude:S.lat,longitude:S.lng}:{},{data:ae,error:q}=await J.from("addresses").insert([{user_id:o.id,recipient_name:C.recipient_name,street:C.street,building:C.building,floor:C.floor||"",apartment:C.apartment||"",district:C.district,city:C.city,area:C.area||"",postal_code:C.postal_code||"",phone:C.phone||"",is_default:u.length===0,...W}]).select().single();if(q)throw q;if(d([...u,ae]),v(ae.id),e(ae),ae.city&&n){const ve=await U(ae.city);ve!==null&&n(ve)}K.success(i("addressSaved")),s&&s(ae),Q()}catch(M){console.error("Error saving address:",M),K.error(M instanceof Error?M.message:"Error saving address")}finally{A(!1)}}},Q=()=>{_({recipient_name:"",street:"",building:"",floor:"",apartment:"",district:"",city:"",area:"",postal_code:"",phone:""}),Y(""),N(null),j(!1),L(!1)},X=()=>{if(Q(),x&&u.length>0){const M=u.find(Z=>Z.id===x);M&&n&&U(M.city).then(Z=>{Z!==null&&n(Z)})}},se=(M,Z)=>{N({lat:M,lng:Z}),K.success(i("locationSelected"))},ge=async M=>{if(o)try{await J.from("addresses").update({is_default:!1}).eq("user_id",o.id);const{error:Z}=await J.from("addresses").update({is_default:!0}).eq("id",M);if(Z)throw Z;d(u.map(W=>({...W,is_default:W.id===M}))),K.success(i("defaultAddressUpdated"))}catch(Z){console.error("Error setting default address:",Z),K.error(i("defaultAddressError"))}},le=()=>{L(!0)},k=()=>f.map(M=>a.jsx(He,{value:M.name,children:M.name},M.id));return P?a.jsx("div",{className:"animate-pulse h-64 bg-gray-100 rounded-lg"}):a.jsxs("div",{className:`space-y-6 ${c?"rtl":"ltr"}`,children:[u.length>0&&!ee&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0",children:[a.jsx("h3",{className:"text-lg font-medium",children:i("savedAddresses")}),a.jsx(ie,{variant:"outline",size:"sm",onClick:le,className:"text-sm hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-300 w-full sm:w-auto",children:i("addNewAddress")})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:u.map(M=>a.jsxs("div",{className:`
                  p-4 border rounded-lg cursor-pointer transition-all duration-200
                  ${x===M.id?"border-indigo-600 bg-indigo-50 shadow-md":"border-gray-200 hover:bg-gray-50"}
                `,onClick:()=>T(M.id),children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",checked:x===M.id,onChange:()=>T(M.id),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500"}),a.jsx("div",{className:"font-medium",children:M.recipient_name})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[M.is_default&&a.jsx("span",{className:"text-xs bg-indigo-100 text-indigo-800 px-2 py-1 rounded-full",children:i("default")}),!M.is_default&&a.jsx(ie,{variant:"ghost",size:"sm",className:"text-xs text-indigo-600 hover:text-indigo-800",onClick:Z=>{Z.stopPropagation(),ge(M.id)},children:i("default")})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-3 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Nw,{className:"h-4 w-4 mt-0.5 text-gray-400 flex-shrink-0"}),a.jsxs("span",{children:[M.building," ",M.street,", ",M.district,", ",M.city,M.area&&`, ${M.area}`]})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(jw,{className:"h-4 w-4 mt-0.5 text-gray-400 flex-shrink-0"}),a.jsxs("span",{children:[M.floor&&`${i("floor")}: ${M.floor}`,M.apartment&&`, ${i("apartment")}: ${M.apartment}`]})]})]}),!r&&M.phone&&a.jsxs("div",{className:"flex items-center mt-2 text-sm text-gray-600",children:[a.jsx(Do,{className:"h-4 w-4 mr-1 text-gray-400"}),a.jsx("span",{children:M.phone})]}),M.latitude&&M.longitude&&a.jsxs("div",{className:"flex items-center mt-2 text-xs text-green-600",children:[a.jsx(HL,{className:"h-3 w-3 mr-1"}),i("locationSaved")]})]},M.id))})]}),(ee||u.length===0)&&a.jsxs("div",{className:u.length>0?"border-t pt-6":"",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:u.length>0?i("addNewAddress"):i("addAddress")}),a.jsx(io,{className:"bg-white border-gray-200 shadow-sm",children:a.jsx(Ko,{className:"pt-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsxs(ot,{htmlFor:"recipient_name",children:[i("recipientName")," *"]}),a.jsx(qe,{id:"recipient_name",value:C.recipient_name,onChange:M=>D("recipient_name",M.target.value),placeholder:i("fullName"),className:"bg-white",icon:a.jsx("span",{className:"text-gray-400",children:""})})]}),!r&&a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(ot,{htmlFor:"phone",children:i("phoneNumber")}),a.jsx(qe,{id:"phone",value:C.phone,onChange:M=>D("phone",M.target.value),placeholder:"01XXXXXXXXX",className:"bg-white",icon:a.jsx("span",{className:"text-gray-400",children:""})})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsxs(ot,{htmlFor:"street",children:[i("streetName")," *"]}),a.jsx(qe,{id:"street",value:C.street,onChange:M=>D("street",M.target.value),placeholder:i("streetNamePlaceholder"),className:"bg-white",icon:a.jsx(Nw,{className:"h-4 w-4 text-gray-400"})})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsxs(ot,{htmlFor:"district",children:[i("district")," *"]}),a.jsx(qe,{id:"district",value:C.district,onChange:M=>D("district",M.target.value),placeholder:i("districtPlaceholder"),className:"bg-white",icon:a.jsx(Do,{className:"h-4 w-4 text-gray-400"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ot,{htmlFor:"building",children:[i("buildingNumber")," *"]}),a.jsx(qe,{id:"building",value:C.building,onChange:M=>D("building",M.target.value),placeholder:i("buildingNumberPlaceholder"),className:"bg-white",icon:a.jsx(jw,{className:"h-4 w-4 text-gray-400"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"floor",children:i("floorNumber")}),a.jsx(qe,{id:"floor",value:C.floor,onChange:M=>D("floor",M.target.value),placeholder:i("floorNumberPlaceholder"),className:"bg-white",icon:a.jsx($L,{className:"h-4 w-4 text-gray-400"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ot,{htmlFor:"apartment",children:[i("apartmentNumber")," ",a.jsx("span",{className:"text-gray-400 text-xs",children:i("optional")})]}),a.jsx(qe,{id:"apartment",value:C.apartment,onChange:M=>D("apartment",M.target.value),placeholder:i("apartmentNumberPlaceholder"),className:"bg-white",icon:a.jsx(kL,{className:"h-4 w-4 text-gray-400"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ot,{htmlFor:"postal_code",children:[i("postalCode")," ",a.jsx("span",{className:"text-gray-400 text-xs",children:i("optional")})]}),a.jsx(qe,{id:"postal_code",value:C.postal_code,onChange:M=>D("postal_code",M.target.value),placeholder:i("postalCodePlaceholder"),className:"bg-white"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ot,{htmlFor:"city",children:[i("city")," *"]}),a.jsxs(br,{value:C.city,onValueChange:H,children:[a.jsx(or,{id:"city",className:"bg-white border-gray-300 hover:border-gray-400 shadow-sm",children:a.jsx(jr,{placeholder:i("selectCity")})}),a.jsx(ir,{className:"bg-white border-gray-200 shadow-lg",children:k()})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"area",children:i("area")}),a.jsxs(br,{value:C.area,onValueChange:M=>D("area",M),disabled:!C.city,children:[a.jsx(or,{id:"area",className:"bg-white border-gray-300 hover:border-gray-400 shadow-sm",children:a.jsx(jr,{placeholder:i("selectArea")})}),a.jsx(ir,{className:"bg-white border-gray-200 shadow-lg",children:p.map(M=>a.jsx(He,{value:M.name,children:M.name},M.id))})]})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsxs(ot,{htmlFor:"additional_details",children:[i("additionalDetails")," ",a.jsx("span",{className:"text-gray-400 text-xs",children:i("optional")})]}),a.jsx(vv,{id:"additional_details",value:B,onChange:M=>Y(M.target.value),placeholder:i("additionalDetailsPlaceholder"),className:"bg-white",rows:3})]})]})})}),a.jsxs("div",{className:"mt-6",children:[a.jsxs(ie,{type:"button",variant:"outline",className:"flex items-center gap-2 w-full justify-center hover:bg-gray-50",onClick:()=>j(!b),children:[a.jsx(Do,{className:"h-4 w-4"}),i(b?"hideMap":"pickLocationOnMap")]}),b&&a.jsx("div",{className:"mt-4 h-[400px] rounded-lg overflow-hidden border shadow-md",children:a.jsx(pU,{onLocationSelect:se,initialLocation:S})}),S&&a.jsxs("div",{className:"mt-2 text-sm text-green-600 flex items-center gap-1",children:[a.jsx(ZL,{className:"h-4 w-4"}),i("locationSelected")]})]}),a.jsxs("div",{className:"mt-6 flex gap-4",children:[u.length>0&&a.jsx(ie,{type:"button",variant:"outline",className:"flex-1 hover:bg-gray-50",onClick:X,children:i("cancel")}),a.jsx(ie,{type:"button",className:`${u.length>0?"flex-1":"w-full"} bg-indigo-600 hover:bg-indigo-700 shadow-sm flex items-center justify-center gap-2`,onClick:V,disabled:$,children:$?a.jsxs(a.Fragment,{children:[a.jsx(gf,{className:"h-4 w-4 animate-spin"}),i("saving")]}):a.jsxs(a.Fragment,{children:[a.jsx(i6,{className:"h-4 w-4"}),i("saveAddress")]})})]})]})]})}function vU(){const{t:e,language:t}=we(),{items:r,total:n,clearCart:s}=no(),o=Ze(),{user:i,getUserProfile:l}=lt(),c=l(),{placeOrder:u,isSubmitting:d}=cU(),[f,m]=h.useState({email:"",phone:"",firstName:"",lastName:""}),[g,y]=h.useState(null),[p,w]=h.useState("cash_on_delivery"),[x,v]=h.useState(!1),[b,j]=h.useState(!1),[S,N]=h.useState({}),[C,_]=h.useState(70),[P,R]=h.useState({cardNumber:"",expiryDate:"",cvv:""});h.useEffect(()=>{if(!i){o("/login?redirect=checkout");return}i&&c&&!b&&(m(U=>({...U,email:i.email||"",phone:c.phoneNumber||"",firstName:c.firstName||"",lastName:c.lastName||""})),j(!0))},[i,c,o,b]),h.useEffect(()=>{g&&!f.phone&&m(U=>({...U,phone:c.phoneNumber}))},[g,f.phone]);const $=U=>{const{name:T,value:D}=U.target;m(H=>({...H,[T]:D}))},A=U=>{y(U)},B=U=>{N(U)},Y=()=>S.amount?S.amount:S.percentage?n*S.percentage/100:0,ee=()=>{const U=Y();return n+C-U},L=async U=>{if(U.preventDefault(),r.length===0){K.error(e("cartEmpty"));return}if(!i){K.error(e("loginRequired")),o("/login?redirect=checkout");return}if(!g){K.error(e("pleaseSelectAddress"));return}v(!0);try{const T=r.map(async X=>{const{data:se,error:ge}=await J.from("products").select("status").eq("id",X.product.id).single();if(ge)throw ge;return!se||se.status!=="active"?{product:X.product.name,status:se?se.status:"unknown",hasEnough:!1}:{hasEnough:!0}}),H=(await Promise.all(T)).filter(X=>!X.hasEnough);if(H.length>0){const X=H[0];K.error(`"${X.product}" is currently not available for purchase.`),v(!1);return}const V=f.phone&&f.phone.trim()!==""?f.phone:(c==null?void 0:c.phoneNumber)||"";await u(g,p,C,S,V,f.firstName,f.lastName)&&(s(),K.success(e("orderSuccess")),o("/orders"))}catch(T){console.error("Error placing order:",T),K.error(e("orderError")+(T instanceof Error?`: ${T.message}`:""))}finally{v(!1)}};return r.length===0?(o("/"),null):a.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 gap-x-8 gap-y-8 lg:grid-cols-5",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow sticky top-8",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-6",children:e("orderItems")}),a.jsx("div",{className:"flow-root",children:a.jsx("ul",{className:"-my-4 divide-y divide-gray-200",children:r.map(({product:U,quantity:T})=>a.jsxs("li",{className:"flex py-4",children:[a.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:U.image?a.jsx("img",{src:U.image,alt:U.name,className:"h-full w-full object-cover object-center"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-100",children:a.jsx(ts,{className:"h-6 w-6 text-gray-400"})})}),a.jsxs("div",{className:"ml-4 flex flex-1 flex-col",children:[a.jsx("div",{children:a.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[a.jsx("h3",{children:U.name}),a.jsx("p",{className:"ml-4",children:So(U.price*T)})]})}),a.jsx("div",{className:"flex flex-1 items-end justify-between text-sm",children:a.jsxs("p",{className:"text-gray-500",children:["Qty ",T]})})]})]},U.id))})}),a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsx("div",{className:"border-t border-gray-200 pt-4",children:a.jsx(fU,{onApply:B})}),a.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[a.jsx("div",{className:"text-base font-medium text-gray-900",children:e("subtotal")}),a.jsx("div",{className:"text-base font-medium text-gray-900",children:So(n)})]}),(S.percentage||S.amount)&&a.jsxs("div",{className:"flex items-center justify-between text-green-600",children:[a.jsxs("div",{className:"text-base font-medium",children:[e("discount")," ",S.percentage?`(${S.percentage}%)`:""]}),a.jsxs("div",{className:"text-base font-medium",children:["-",So(Y())]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-base font-medium text-gray-900",children:e("shipping")}),a.jsx("div",{className:"text-base font-medium text-gray-900",children:So(C)})]}),a.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[a.jsx("div",{className:"text-lg font-semibold text-gray-900",children:e("total")}),a.jsx("div",{className:"text-lg font-semibold text-gray-900",children:So(ee())})]})]}),a.jsxs("div",{className:"mt-8 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[a.jsx(f6,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{children:"Secure checkout with SSL encryption"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[a.jsx(Sw,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{children:"All major credit cards accepted"})]})]})]})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsxs("form",{onSubmit:L,className:"space-y-8",children:[a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-6 border-b pb-2",children:e("contactInformation")}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[a.jsxs("div",{children:[a.jsx(ot,{htmlFor:"firstName",className:"text-gray-700 font-medium block mb-1.5",children:e("firstName")}),a.jsx(qe,{type:"text",id:"firstName",name:"firstName",value:f.firstName,onChange:$,className:"w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx(ot,{htmlFor:"lastName",className:"text-gray-700 font-medium block mb-1.5",children:e("lastName")}),a.jsx(qe,{type:"text",id:"lastName",name:"lastName",value:f.lastName,onChange:$,className:"w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx(ot,{htmlFor:"email",className:"text-gray-700 font-medium block mb-1.5",children:e("emailAddress")}),a.jsx(qe,{type:"email",id:"email",name:"email",value:f.email,onChange:$,className:"w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx(ot,{htmlFor:"phone",className:"text-gray-700 font-medium block mb-1.5",children:e("phoneNumber")}),a.jsx(qe,{type:"tel",id:"phone",name:"phone",placeholder:"0100000000",value:f.phone,onChange:$,className:"w-full",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-6 border-b pb-2",children:e("shippingInformation")}),a.jsx(gU,{onAddressSelect:A,selectedAddress:g,hidePhoneField:!0,onShippingCostChange:_})]}),a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-6 border-b pb-2",children:e("paymentMethod")}),a.jsxs("div",{className:"space-y-4 mt-4",children:[a.jsxs("div",{className:`relative flex items-center space-x-3 border p-4 rounded-md hover:bg-gray-50 cursor-pointer ${p==="credit_card"?"border-indigo-500 bg-indigo-50":"opacity-60"}`,onClick:()=>K.info(e("creditCardComingSoon")),children:[a.jsx("input",{type:"radio",id:"credit_card",name:"paymentMethod",value:"credit_card",checked:p==="credit_card",onChange:()=>{},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500",disabled:!0}),a.jsxs(ot,{htmlFor:"credit_card",className:"flex items-center gap-3 cursor-pointer",children:[a.jsx(Sw,{className:"h-5 w-5 text-indigo-600"}),a.jsx("span",{className:"font-medium",children:e("creditCard")})]}),a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 bg-amber-500 text-white text-xs font-bold px-2 py-1 rounded",children:e("creditCardComingSoon")})]}),a.jsxs("div",{className:`flex items-center space-x-3 border p-4 rounded-md hover:bg-gray-50 cursor-pointer ${p==="cash_on_delivery"?"border-indigo-500 bg-indigo-50":""}`,onClick:()=>w("cash_on_delivery"),children:[a.jsx("input",{type:"radio",id:"cash_on_delivery",name:"paymentMethod",value:"cash_on_delivery",checked:p==="cash_on_delivery",onChange:()=>w("cash_on_delivery"),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500"}),a.jsxs(ot,{htmlFor:"cash_on_delivery",className:"flex items-center gap-3 cursor-pointer",children:[a.jsx(Mp,{className:"h-5 w-5 text-indigo-600"}),a.jsx("span",{className:"font-medium",children:e("cashOnDelivery")})]})]})]})]}),!g&&a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[a.jsx(fN,{className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-amber-800 text-sm",children:e("saveAddressFirst")})]}),a.jsx(ie,{type:"submit",disabled:x||d||!g,className:"w-full py-6 rounded-lg mt-6 text-lg font-semibold bg-blue-600 hover:bg-blue-700 text-white transition-colors duration-200 shadow-lg hover:shadow-xl",size:"lg",children:e(x||d?"processing":"completeOrder")})]})})]})})})}function yU(){const{user:e}=lt(),[t,r]=h.useState([]),[n,s]=h.useState(!0),[o,i]=h.useState(null),l=async()=>{if(!e){r([]),s(!1);return}try{s(!0),i(null);const{data:g,error:y}=await J.from("addresses").select("*").eq("user_id",e.id).order("is_default",{ascending:!1}).order("created_at",{ascending:!1});if(y)throw y;const p=(g||[]).map(w=>({id:w.id,user_id:w.user_id,name:w.recipient_name,street_address:w.street,apartment:w.apartment,city:w.city,state:w.district,zip_code:w.postal_code,is_default:w.is_default,created_at:w.created_at}));r(p)}catch(g){console.error("Error fetching addresses:",g),i(g instanceof Error?g:new Error("Failed to fetch addresses"))}finally{s(!1)}},c=async g=>{if(!e)return null;try{let y=g.city;const p=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;if(p.test(g.city)){const{data:j,error:S}=await J.from("cities").select("name").eq("id",g.city).single();!S&&j&&(y=j.name)}let w="";if(g.state&&p.test(g.state)){const{data:j,error:S}=await J.from("areas").select("name").eq("id",g.state).single();!S&&j&&(w=j.name)}const x={user_id:e.id,recipient_name:g.name,street:g.street_address,apartment:g.apartment,city:y,district:g.street_address,area:w||g.state||"",postal_code:g.zip_code,building:"Main",floor:"1",is_default:g.is_default||t.length===0,phone:"0000000000"};x.is_default&&await J.from("addresses").update({is_default:!1}).eq("user_id",e.id);const{data:v,error:b}=await J.from("addresses").insert([x]).select().single();if(b)throw b;return await l(),v}catch(y){return console.error("Error adding address:",y),K.error("Failed to add address"),null}},u=async(g,y)=>{if(!e)return!1;try{const p={};if(y.name!==void 0&&(p.recipient_name=y.name),y.street_address!==void 0&&(p.street=y.street_address),y.apartment!==void 0&&(p.apartment=y.apartment),y.city!==void 0)if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(y.city)){const{data:v,error:b}=await J.from("cities").select("name").eq("id",y.city).single();!b&&v?p.city=v.name:p.city=y.city}else p.city=y.city;if(y.state!==void 0)if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(y.state)){const{data:v,error:b}=await J.from("areas").select("name").eq("id",y.state).single();!b&&v?p.area=v.name:p.area=y.state}else p.area=y.state;y.zip_code!==void 0&&(p.postal_code=y.zip_code),y.is_default!==void 0&&(p.is_default=y.is_default),y.is_default&&await J.from("addresses").update({is_default:!1}).eq("user_id",e.id);const{error:w}=await J.from("addresses").update(p).eq("id",g).eq("user_id",e.id);if(w)throw w;return await l(),!0}catch(p){return console.error("Error updating address:",p),K.error("Failed to update address"),!1}},d=async g=>{if(!e)return!1;try{const y=t.find(w=>w.id===g),{error:p}=await J.from("addresses").delete().eq("id",g).eq("user_id",e.id);if(p)throw p;if(y!=null&&y.is_default&&t.length>1){const w=t.find(x=>x.id!==g);w&&await J.from("addresses").update({is_default:!0}).eq("id",w.id)}return await l(),!0}catch(y){return console.error("Error deleting address:",y),K.error("Failed to delete address"),!1}},f=async g=>{if(!e)return!1;try{await J.from("addresses").update({is_default:!1}).eq("user_id",e.id);const{error:y}=await J.from("addresses").update({is_default:!0}).eq("id",g).eq("user_id",e.id);if(y)throw y;return await l(),!0}catch(y){return console.error("Error setting default address:",y),K.error("Failed to set default address"),!1}},m=()=>t.length===0?null:t.find(g=>g.is_default)||t[0];return h.useEffect(()=>{l()},[e]),{addresses:t,loading:n,error:o,fetchAddresses:l,addAddress:c,updateAddress:u,deleteAddress:d,setDefaultAddress:f,getDefaultAddress:m}}function xU({address:e,onEdit:t,onDelete:r,onSetDefault:n}){const{t:s}=we(),o=e.cityDisplay||e.city,i=e.areaDisplay||e.state||"";return a.jsxs(io,{className:`overflow-hidden transition-all duration-200 ${e.is_default?"border-indigo-500 shadow-md":"hover:shadow-md"}`,children:[a.jsxs(uv,{className:"py-3 px-4 bg-gray-50 flex flex-row justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Do,{className:"h-4 w-4 text-indigo-600 mr-2"}),a.jsx("h3",{className:"font-medium text-gray-900",children:e.name})]}),e.is_default&&a.jsx(mr,{variant:"default",className:"bg-indigo-600",children:s("defaultAddress")})]}),a.jsx(Ko,{className:"p-4",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm text-gray-700",children:e.street_address}),e.apartment&&a.jsxs("p",{className:"text-sm text-gray-700",children:[s("apartment"),": ",e.apartment]}),a.jsxs("p",{className:"text-sm text-gray-700",children:[i&&`${i}, `,o,e.zip_code&&`, ${e.zip_code}`]})]})}),a.jsxs(tk,{className:"px-4 py-3 bg-gray-50 flex justify-between",children:[a.jsx("div",{children:!e.is_default&&a.jsxs(ie,{variant:"ghost",size:"sm",onClick:()=>n(e.id),className:"text-gray-600 hover:text-indigo-600",children:[a.jsx(Ml,{className:"h-4 w-4 mr-1"}),s("setAsDefault")]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>t(e),className:"text-gray-600 hover:text-blue-600",children:a.jsx(x6,{className:"h-4 w-4"})}),a.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>r(e),className:"text-gray-600 hover:text-red-600",disabled:e.is_default,children:a.jsx(lc,{className:"h-4 w-4"})})]})]})]})}function wU({onAddAddress:e}){const{t}=we();return a.jsx(io,{children:a.jsxs(Ko,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Do,{className:"h-12 w-12 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t("noSavedAddresses")}),a.jsx("p",{className:"text-gray-500 mb-6",children:t("addYourFirstAddress")}),a.jsx(ie,{onClick:e,className:"bg-indigo-600 hover:bg-indigo-700",children:t("addNewAddress")})]})})}const Cv=pv,bU=gv,P_=h.forwardRef(({className:e,...t},r)=>a.jsx(pc,{ref:r,className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));P_.displayName=pc.displayName;const Lf=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(bU,{children:[a.jsx(P_,{}),a.jsxs(gc,{ref:n,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg overflow-y-auto",e),...r,children:[t,a.jsxs(Mf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(rr,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Lf.displayName=gc.displayName;const Ff=({className:e,...t})=>a.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ff.displayName="DialogHeader";const $f=({className:e,...t})=>a.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$f.displayName="DialogFooter";const Vf=h.forwardRef(({className:e,...t},r)=>a.jsx(vc,{ref:r,className:ce("text-lg font-semibold leading-none tracking-tight",e),...t}));Vf.displayName=vc.displayName;const Bf=h.forwardRef(({className:e,...t},r)=>a.jsx(yc,{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));Bf.displayName=yc.displayName;function T_({formData:e,onChange:t,onSelectChange:r,onCheckboxChange:n,isEditMode:s=!1,isDefaultDisabled:o=!1}){const{t:i}=we(),l=s?"edit_":"",[c,u]=h.useState([]),[d,f]=h.useState([]),[m,g]=h.useState([]),[y,p]=h.useState(!0);h.useEffect(()=>{(async()=>{p(!0);const{data:b,error:j}=await J.from("cities").select("*").order("name");j?console.error("Error fetching cities:",j):u(b||[]);const{data:S,error:N}=await J.from("areas").select("*").order("name");N?console.error("Error fetching areas:",N):f(S||[]),p(!1)})()},[]),h.useEffect(()=>{if(e.city){const v=c.find(b=>b.id===e.city);if(v){const b=d.filter(j=>j.city_id===v.id);g(b)}}else g([])},[e.city,c,d]);const w=v=>{r("city",v)},x=v=>{r("state",v)};return a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(ot,{htmlFor:`${l}name`,children:i("addressName")}),a.jsx(qe,{id:`${l}name`,name:"name",value:e.name,onChange:t,placeholder:i("addressName"),required:!0})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(ot,{htmlFor:`${l}street_address`,children:i("streetAddress")}),a.jsx(qe,{id:`${l}street_address`,name:"street_address",value:e.street_address,onChange:t,placeholder:i("streetAddress"),required:!0})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(ot,{htmlFor:`${l}apartment`,children:i("apartment")}),a.jsx(qe,{id:`${l}apartment`,name:"apartment",value:e.apartment,onChange:t,placeholder:i("apartment")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(ot,{htmlFor:`${l}city`,children:i("city")}),a.jsxs(br,{value:e.city,onValueChange:w,disabled:y,children:[a.jsx(or,{id:`${l}city`,children:a.jsx(jr,{placeholder:i("selectCity")})}),a.jsx(ir,{children:c.map(v=>a.jsx(He,{value:v.id,children:v.name},v.id))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(ot,{htmlFor:`${l}state`,children:i("area")}),a.jsxs(br,{value:e.state,onValueChange:x,disabled:y||!e.city,children:[a.jsx(or,{id:`${l}state`,children:a.jsx(jr,{placeholder:i("selectArea")})}),a.jsx(ir,{children:m.map(v=>a.jsx(He,{value:v.id,children:v.name},v.id))})]})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(ot,{htmlFor:`${l}zip_code`,children:i("zipCode")}),a.jsx(qe,{id:`${l}zip_code`,name:"zip_code",value:e.zip_code,onChange:t,placeholder:i("zipCode")})]}),a.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[a.jsx(lv,{id:`${l}is_default`,name:"is_default",checked:e.is_default,onCheckedChange:v=>n(v===!0),disabled:o}),a.jsx("label",{htmlFor:`${l}is_default`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:i("makeDefaultAddress")})]})]})}function jU({isOpen:e,onOpenChange:t,formData:r,onInputChange:n,onSelectChange:s,onCheckboxChange:o,onSubmit:i}){const{t:l}=we();return a.jsx(Cv,{open:e,onOpenChange:t,children:a.jsx(Lf,{className:"sm:max-w-[500px] bg-white ",children:a.jsxs("form",{onSubmit:i,children:[a.jsxs(Ff,{children:[a.jsx(Vf,{children:l("addNewAddress")}),a.jsx(Bf,{children:l("enterAddressDetails")})]}),a.jsx(T_,{formData:r,onChange:n,onSelectChange:s,onCheckboxChange:o}),a.jsxs($f,{children:[a.jsx(ie,{variant:"outline",type:"button",onClick:()=>t(!1),children:l("cancel")}),a.jsx(ie,{variant:"outline",type:"submit",children:l("save")})]})]})})})}function SU({isOpen:e,onOpenChange:t,formData:r,onInputChange:n,onSelectChange:s,onCheckboxChange:o,onSubmit:i,isDefaultAddress:l}){const{t:c}=we();return a.jsx(Cv,{open:e,onOpenChange:t,children:a.jsx(Lf,{className:"sm:max-w-[500px] bg-white ",children:a.jsxs("form",{onSubmit:i,children:[a.jsxs(Ff,{children:[a.jsx(Vf,{children:c("editAddress")}),a.jsx(Bf,{children:c("updateAddressDetails")})]}),a.jsx(T_,{formData:r,onChange:n,onSelectChange:s,onCheckboxChange:o,isEditMode:!0,isDefaultDisabled:l}),a.jsxs($f,{children:[a.jsx(ie,{variant:"outline",type:"button",onClick:()=>t(!1),children:c("cancel")}),a.jsx(ie,{type:"submit",children:c("save")})]})]})})})}function NU({isOpen:e,onOpenChange:t,address:r,onDelete:n}){const{t:s}=we();return r?a.jsx(Cv,{open:e,onOpenChange:t,children:a.jsxs(Lf,{className:"sm:max-w-[400px] bg-white ",children:[a.jsxs(Ff,{children:[a.jsx(Vf,{children:s("deleteAddress")}),a.jsx(Bf,{children:s("confirmDeleteAddress")})]}),a.jsx(Df,{variant:"destructive",children:a.jsx(JC,{children:r.is_default?s("cannotDeleteDefaultAddress"):s("deletionIsPermanent")})}),a.jsxs($f,{children:[a.jsx(ie,{variant:"outline",onClick:()=>t(!1),children:s("no")}),a.jsx(ie,{variant:"destructive",onClick:n,disabled:r.is_default,children:s("yes")})]})]})}):null}function CU(){const{t:e,language:t}=we(),r=Ze(),{user:n}=lt(),{addresses:s,loading:o,addAddress:i,updateAddress:l,deleteAddress:c,setDefaultAddress:u}=yU(),[d,f]=h.useState(!1),[m,g]=h.useState(!1),[y,p]=h.useState(!1),[w,x]=h.useState(null),[v,b]=h.useState({name:"",street_address:"",apartment:"",city:"",state:"",zip_code:"",is_default:!1}),[j,S]=h.useState({}),[N,C]=h.useState({});if(h.useEffect(()=>{(async()=>{const{data:Q}=await J.from("cities").select("id, name");if(Q){const se={};Q.forEach(ge=>{se[ge.id]=ge.name}),S(se)}const{data:X}=await J.from("areas").select("id, name");if(X){const se={};X.forEach(ge=>{se[ge.id]=ge.name}),C(se)}})()},[]),!n)return r("/login"),null;const _=()=>{b({name:"",street_address:"",apartment:"",city:"",state:"",zip_code:"",is_default:!1})},P=()=>{_(),f(!0)},R=V=>{x(V),b({name:V.name,street_address:V.street_address,apartment:V.apartment||"",city:V.city,state:V.state||"",zip_code:V.zip_code||"",is_default:V.is_default}),g(!0)},$=V=>{x(V),p(!0)},A=V=>{const{name:Q,value:X,type:se,checked:ge}=V.target;b(le=>({...le,[Q]:se==="checkbox"?ge:X}))},B=(V,Q)=>{b(X=>({...X,[V]:Q})),V==="city"&&b(X=>({...X,state:""}))},Y=V=>{b(Q=>({...Q,is_default:V}))},ee=async V=>{V.preventDefault(),await i(v)&&(K.success(e("addressSaved")),f(!1),_())},L=async V=>{if(V.preventDefault(),!w)return;await l(w.id,v)&&(K.success(e("addressSaved")),g(!1),x(null))},U=async()=>{if(!w)return;await c(w.id)&&(K.success(e("addressDeleted")),p(!1),x(null))},T=async V=>{await u(V)&&K.success(e("defaultAddressChanged"))};if(o)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})});const D=t==="ar",H=V=>{const Q=j[V.city]||V.city,X=N[V.state]||V.state;return{...V,cityDisplay:Q,areaDisplay:X}};return a.jsxs("div",{className:`min-h-screen bg-gray-50 py-12 ${D?"rtl":"ltr"}`,children:[a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e("savedAddresses")}),a.jsxs(ie,{onClick:P,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 w-full sm:w-auto",children:[a.jsx(Ki,{className:"h-4 w-4"}),e("addNewAddress")]})]}),s.length===0?a.jsx(wU,{onAddAddress:P}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(V=>a.jsx(xU,{address:H(V),onEdit:R,onDelete:$,onSetDefault:T},V.id))})]}),a.jsx(jU,{isOpen:d,onOpenChange:f,formData:v,onInputChange:A,onSelectChange:B,onCheckboxChange:Y,onSubmit:ee}),a.jsx(SU,{isOpen:m,onOpenChange:g,formData:v,onInputChange:A,onSelectChange:B,onCheckboxChange:Y,onSubmit:L,isDefaultAddress:(w==null?void 0:w.is_default)||!1}),a.jsx(NU,{isOpen:y,onOpenChange:p,address:w,onDelete:U})]})}var kv="Collapsible",[kU,A_]=Sr(kv),[_U,_v]=kU(kv),R_=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:o,onOpenChange:i,...l}=e,[c=!1,u]=mn({prop:n,defaultProp:s,onChange:i});return a.jsx(_U,{scope:r,disabled:o,contentId:zr(),open:c,onOpenToggle:h.useCallback(()=>u(d=>!d),[u]),children:a.jsx(Ce.div,{"data-state":Pv(c),"data-disabled":o?"":void 0,...l,ref:t})})});R_.displayName=kv;var D_="CollapsibleTrigger",M_=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=_v(D_,r);return a.jsx(Ce.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Pv(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:je(e.onClick,s.onOpenToggle)})});M_.displayName=D_;var Ev="CollapsibleContent",I_=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=_v(Ev,e.__scopeCollapsible);return a.jsx(Nr,{present:r||s.open,children:({present:o})=>a.jsx(EU,{...n,ref:t,present:o})})});I_.displayName=Ev;var EU=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...o}=e,i=_v(Ev,r),[l,c]=h.useState(n),u=h.useRef(null),d=Ie(t,u),f=h.useRef(0),m=f.current,g=h.useRef(0),y=g.current,p=i.open||l,w=h.useRef(p),x=h.useRef(void 0);return h.useEffect(()=>{const v=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(v)},[]),Pt(()=>{const v=u.current;if(v){x.current=x.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const b=v.getBoundingClientRect();f.current=b.height,g.current=b.width,w.current||(v.style.transitionDuration=x.current.transitionDuration,v.style.animationName=x.current.animationName),c(n)}},[i.open,n]),a.jsx(Ce.div,{"data-state":Pv(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!p,...o,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:p&&s})});function Pv(e){return e?"open":"closed"}var PU=R_,TU=M_,AU=I_,ds="Accordion",RU=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Tv,DU,MU]=z0(ds),[Uf,gK]=Sr(ds,[MU,A_]),Av=A_(),O_=O.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,o=n;return a.jsx(Tv.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(FU,{...o,ref:t}):a.jsx(LU,{...s,ref:t})})});O_.displayName=ds;var[L_,IU]=Uf(ds),[F_,OU]=Uf(ds,{collapsible:!1}),LU=O.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:o=!1,...i}=e,[l,c]=mn({prop:r,defaultProp:n,onChange:s});return a.jsx(L_,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:O.useCallback(()=>o&&c(""),[o,c]),children:a.jsx(F_,{scope:e.__scopeAccordion,collapsible:o,children:a.jsx($_,{...i,ref:t})})})}),FU=O.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...o}=e,[i=[],l]=mn({prop:r,defaultProp:n,onChange:s}),c=O.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=O.useCallback(d=>l((f=[])=>f.filter(m=>m!==d)),[l]);return a.jsx(L_,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:a.jsx(F_,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx($_,{...o,ref:t})})})}),[$U,zf]=Uf(ds),$_=O.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:o="vertical",...i}=e,l=O.useRef(null),c=Ie(l,t),u=DU(r),f=uc(s)==="ltr",m=je(e.onKeyDown,g=>{var _;if(!RU.includes(g.key))return;const y=g.target,p=u().filter(P=>{var R;return!((R=P.ref.current)!=null&&R.disabled)}),w=p.findIndex(P=>P.ref.current===y),x=p.length;if(w===-1)return;g.preventDefault();let v=w;const b=0,j=x-1,S=()=>{v=w+1,v>j&&(v=b)},N=()=>{v=w-1,v<b&&(v=j)};switch(g.key){case"Home":v=b;break;case"End":v=j;break;case"ArrowRight":o==="horizontal"&&(f?S():N());break;case"ArrowDown":o==="vertical"&&S();break;case"ArrowLeft":o==="horizontal"&&(f?N():S());break;case"ArrowUp":o==="vertical"&&N();break}const C=v%x;(_=p[C].ref.current)==null||_.focus()});return a.jsx($U,{scope:r,disabled:n,direction:s,orientation:o,children:a.jsx(Tv.Slot,{scope:r,children:a.jsx(Ce.div,{...i,"data-orientation":o,ref:c,onKeyDown:n?void 0:m})})})}),Sd="AccordionItem",[VU,Rv]=Uf(Sd),V_=O.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,o=zf(Sd,r),i=IU(Sd,r),l=Av(r),c=zr(),u=n&&i.value.includes(n)||!1,d=o.disabled||e.disabled;return a.jsx(VU,{scope:r,open:u,disabled:d,triggerId:c,children:a.jsx(PU,{"data-orientation":o.orientation,"data-state":q_(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?i.onItemOpen(n):i.onItemClose(n)}})})});V_.displayName=Sd;var B_="AccordionHeader",U_=O.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=zf(ds,r),o=Rv(B_,r);return a.jsx(Ce.h3,{"data-orientation":s.orientation,"data-state":q_(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:t})});U_.displayName=B_;var eg="AccordionTrigger",z_=O.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=zf(ds,r),o=Rv(eg,r),i=OU(eg,r),l=Av(r);return a.jsx(Tv.ItemSlot,{scope:r,children:a.jsx(TU,{"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...l,...n,ref:t})})});z_.displayName=eg;var W_="AccordionContent",H_=O.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=zf(ds,r),o=Rv(W_,r),i=Av(r);return a.jsx(AU,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});H_.displayName=W_;function q_(e){return e?"open":"closed"}var Y_=O_,G_=V_,K_=U_,Wf=z_,Hf=H_;const BU=Y_,Q_=O.forwardRef(({className:e,...t},r)=>a.jsx(G_,{ref:r,className:ce("border-b",e),...t}));Q_.displayName="AccordionItem";const X_=O.forwardRef(({className:e,children:t,...r},n)=>a.jsx(K_,{className:"flex",children:a.jsxs(Wf,{ref:n,className:ce("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(ic,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));X_.displayName=Wf.displayName;const Z_=O.forwardRef(({className:e,children:t,...r},n)=>a.jsx(Hf,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:ce("pb-4 pt-0",e),children:t})}));Z_.displayName=Hf.displayName;function UU(){const{t:e,language:t}=we(),r=t==="ar"?"rtl":"",n=[{question:e("faqQuestion1"),answer:e("faqAnswer1")},{question:e("faqQuestion2"),answer:e("faqAnswer2")},{question:e("faqQuestion3"),answer:e("faqAnswer3")},{question:e("returnPolicy"),answer:e("returnPolicyDetails")},{question:e("paymentMethods"),answer:e("paymentMethodsDetails")}];return a.jsx("div",{className:`py-12 bg-gray-50 min-h-screen ${r}`,children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:e("frequentlyAskedQuestions")}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:e("faqIntro")})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx(BU,{type:"single",collapsible:!0,className:"w-full",children:n.map((s,o)=>a.jsxs(Q_,{value:`item-${o}`,children:[a.jsx(X_,{className:"px-6 py-4 text-left text-gray-900 hover:bg-gray-50",children:s.question}),a.jsx(Z_,{className:"px-6 py-4 text-gray-600",children:s.answer})]},o))})}),a.jsxs("div",{className:"mt-12 text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:e("stillHaveQuestions")}),a.jsx("p",{className:"text-gray-600 mb-6",children:e("contactUsMessage")}),a.jsx("a",{href:"/Zabtt/contact",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:e("contactUs")})]})]})})}const zU=Y_,Bn=h.forwardRef(({className:e,...t},r)=>a.jsx(G_,{ref:r,className:ce("border-b",e),...t}));Bn.displayName="AccordionItem";const Un=h.forwardRef(({className:e,children:t,...r},n)=>a.jsx(K_,{className:"flex",children:a.jsxs(Wf,{ref:n,className:ce("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(ic,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Un.displayName=Wf.displayName;const zn=h.forwardRef(({className:e,children:t,...r},n)=>a.jsx(Hf,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:ce("pb-4 pt-0",e),children:t})}));zn.displayName=Hf.displayName;function WU(){const{t:e,language:t}=we(),r=t==="ar"?"rtl":"",n="June 1, 2023",s=t==="ar";return a.jsx("div",{className:`py-12 bg-gray-50 min-h-screen ${r}`,children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:e("termsAndConditions")}),a.jsxs("p",{className:"text-gray-500 text-sm",children:[s?" :":"Last Updated:"," ",n]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsx("p",{className:"text-gray-600",children:s?"   .         .             .               .":"Welcome to Zabtt. Please read these Terms and Conditions carefully before using our services. By accessing or using our platform, you agree to be bound by these terms. If you disagree with any part of these terms, you may not use our services."})}),a.jsxs(zU,{type:"single",collapsible:!0,className:"w-full",children:[a.jsxs(Bn,{value:"section-1",children:[a.jsx(Un,{className:"px-6 py-4 text-left text-gray-900 hover:bg-gray-50 border-b border-gray-100",children:a.jsx("div",{className:"flex items-center",children:a.jsx("span",{className:"font-semibold",children:s?"1.  ":"1. Acceptance of Terms"})})}),a.jsx(zn,{className:"px-6 py-4 text-gray-600 border-b border-gray-100",children:a.jsx("p",{children:s?"                   .              .           .":"By creating an account or using Zabtt services, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions. We reserve the right to update or modify these terms at any time without prior notice. Your continued use of our services following any changes constitutes your acceptance of the revised terms."})})]}),a.jsxs(Bn,{value:"section-2",children:[a.jsx(Un,{className:"px-6 py-4 text-left text-gray-900 hover:bg-gray-50 border-b border-gray-100",children:a.jsx("div",{className:"flex items-center",children:a.jsx("span",{className:"font-semibold",children:s?"2.  ":"2. Account Registration"})})}),a.jsxs(zn,{className:"px-6 py-4 text-gray-600 border-b border-gray-100",children:[a.jsx("p",{className:"mb-3",children:s?"         .     :":"To use certain features of our platform, you must register for an account. When you register, you agree to:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:s?"    ":"Provide accurate, current, and complete information"}),a.jsx("li",{children:s?"      ":"Maintain and promptly update your account information"}),a.jsx("li",{children:s?"      ":"Keep your password secure and confidential"}),a.jsx("li",{children:s?"        ":"Be responsible for all activities that occur under your account"}),a.jsx("li",{children:s?"        ":"Notify us immediately of any unauthorized use of your account"})]})]})]}),a.jsxs(Bn,{value:"section-3",children:[a.jsx(Un,{className:"px-6 py-4 text-left text-gray-900 hover:bg-gray-50 border-b border-gray-100",children:a.jsx("div",{className:"flex items-center",children:a.jsx("span",{className:"font-semibold",children:s?"3.  ":"3. User Conduct"})})}),a.jsxs(zn,{className:"px-6 py-4 text-gray-600 border-b border-gray-100",children:[a.jsx("p",{className:"mb-3",children:s?"      :":"When using our services, you agree not to:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:s?"         ":"Violate any applicable laws, regulations, or third-party rights"}),a.jsx("li",{children:s?"         ":"Use the platform for any illegal or unauthorized purpose"}),a.jsx("li",{children:s?"        ":"Post or transmit harmful, fraudulent, or deceptive content"}),a.jsx("li",{children:s?"          ":"Attempt to gain unauthorized access to other user accounts or systems"}),a.jsx("li",{children:s?"     ":"Interfere with or disrupt the integrity of our platform"}),a.jsx("li",{children:s?"       ":"Collect or harvest user information without express consent"})]})]})]}),a.jsxs(Bn,{value:"section-4",children:[a.jsx(Un,{className:"px-6 py-4 text-left text-gray-900 hover:bg-gray-50 border-b border-gray-100",children:a.jsx("div",{className:"flex items-center",children:a.jsx("span",{className:"font-semibold",children:s?"4.  ":"4. Products and Services"})})}),a.jsxs(zn,{className:"px-6 py-4 text-gray-600 border-b border-gray-100",children:[a.jsx("p",{className:"mb-3",children:s?"4.1  :                              .":"4.1 Product Information: We strive to provide accurate product information, but we do not warrant that product descriptions, prices, or other content on our platform are complete, reliable, current, or error-free."}),a.jsx("p",{className:"mb-3",children:s?"4.2  :       .           .":"4.2 Pricing and Availability: Prices and availability of products are subject to change without notice. We reserve the right to limit quantities of products purchased and to refuse or cancel orders."}),a.jsx("p",{children:s?"4.3    :           .             .                             .":"4.3 Third-Party Sellers: Some products on our platform are sold by third-party sellers. We are not responsible for examining or evaluating the content or accuracy of third-party products. We do not warrant or guarantee any third-party products and you agree that we are not responsible for any damages or losses resulting from your transactions with third-party sellers."})]})]}),a.jsxs(Bn,{value:"section-5",children:[a.jsx(Un,{className:"px-6 py-4 text-left text-gray-900 hover:bg-gray-50 border-b border-gray-100",children:a.jsx("div",{className:"flex items-center",children:a.jsx("span",{className:"font-semibold",children:s?"5.   ":"5. Payment and Refunds"})})}),a.jsxs(zn,{className:"px-6 py-4 text-gray-600 border-b border-gray-100",children:[a.jsx("p",{className:"mb-3",children:s?"5.1  :          .              .":"5.1 Payment Methods: We accept various payment methods as indicated during the checkout process. By providing payment information, you represent and warrant that you are authorized to use the designated payment method."}),a.jsx("p",{className:"mb-3",children:s?"5.2  :     (EGP)     .         .":"5.2 Pricing and Taxes: All prices are in Egyptian Pounds (EGP) unless otherwise stated. Applicable taxes will be added to the final price during checkout."}),a.jsx("p",{className:"mb-3",children:s?"5.3  :         24    .             .              .":"5.3 Refunds: Our refund policy allows returns within 24 hours of receiving the product. To qualify for a refund, items must be unused and in their original packaging. Return shipping costs are the responsibility of the customer unless the return is due to our error."})]})]}),a.jsxs(Bn,{value:"section-6",children:[a.jsx(Un,{className:"px-6 py-4 text-left text-gray-900 hover:bg-gray-50 border-b border-gray-100",children:a.jsx("div",{className:"flex items-center",children:a.jsx("span",{className:"font-semibold",children:s?"6.  ":"6. Intellectual Property"})})}),a.jsxs(zn,{className:"px-6 py-4 text-gray-600 border-b border-gray-100",children:[a.jsx("p",{className:"mb-3",children:s?"6.1   :                                               .":"6.1 Our Content: All content on our platform, including but not limited to text, graphics, logos, icons, images, audio clips, digital downloads, and software, is the property of Zabtt or its content suppliers and is protected by international copyright, trademark, and other intellectual property laws."}),a.jsx("p",{className:"mb-3",children:s?"6.2  :                  .    :":"6.2 Limited License: We grant you a limited, non-exclusive, non-transferable, and revocable license to access and use our platform for personal, non-commercial purposes. This license does not include:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-3",children:[a.jsx("li",{children:s?"     ":"Modifying or copying our materials"}),a.jsx("li",{children:s?"    ":"Using the materials for any commercial purpose"}),a.jsx("li",{children:s?"        ":"Attempting to decompile or reverse engineer any software on our platform"}),a.jsx("li",{children:s?"         ":"Removing any copyright or proprietary notations from the materials"})]}),a.jsx("p",{children:s?"6.3  :     (   )                          .":"6.3 User Content: By submitting content (such as reviews or comments) to our platform, you grant us a worldwide, non-exclusive, royalty-free license to use, reproduce, adapt, publish, translate, and distribute your content in any existing or future media."})]})]}),a.jsxs(Bn,{value:"section-7",children:[a.jsx(Un,{className:"px-6 py-4 text-left text-gray-900 hover:bg-gray-50 border-b border-gray-100",children:a.jsx("div",{className:"flex items-center",children:a.jsx("span",{className:"font-semibold",children:s?"7.  ":"7. Limitation of Liability"})})}),a.jsxs(zn,{className:"px-6 py-4 text-gray-600 border-b border-gray-100",children:[a.jsx("p",{className:"mb-3",children:s?"                                                      :":"In no event shall Zabtt, its officers, directors, employees, or agents, be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[a.jsx("li",{children:s?"            ":"Your access to or use of or inability to access or use our services"}),a.jsx("li",{children:s?"        ":"Any conduct or content of any third party on our platform"}),a.jsx("li",{children:s?"      ":"Any content obtained from our platform"}),a.jsx("li",{children:s?"           ":"Unauthorized access, use, or alteration of your transmissions or content"})]})]})]}),a.jsxs(Bn,{value:"section-8",children:[a.jsx(Un,{className:"px-6 py-4 text-left text-gray-900 hover:bg-gray-50 border-b border-gray-100",children:a.jsx("div",{className:"flex items-center",children:a.jsx("span",{className:"font-semibold",children:s?"8.  ":"8. Governing Law"})})}),a.jsx(zn,{className:"px-6 py-4 text-gray-600",children:a.jsx("p",{children:s?"             .               .":"These Terms and Conditions shall be governed and construed in accordance with the laws of Egypt, without regard to its conflict of law provisions. Any dispute arising from or relating to these terms shall be subject to the exclusive jurisdiction of the courts in Egypt."})})]})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("p",{className:"text-sm text-gray-500",children:[s?"             ":"If you have any questions about these Terms and Conditions, please contact us at ",a.jsx("a",{href:"mailto:support@zabtt.com",className:"text-blue-600 hover:underline",children:"support@zabtt.com"})]})})]})})}const J_=O.forwardRef(({className:e,variant:t="primary",size:r="md",children:n,icon:s,iconPosition:o="right",...i},l)=>{const c={primary:"button-primary",secondary:"button-secondary",ghost:"inline-flex items-center justify-center px-4 py-2 text-primary font-medium transition-all duration-300 hover:bg-gray-100/50 active:scale-[0.98] rounded-full"},u={sm:"text-sm px-4 py-2",md:"text-base px-6 py-3",lg:"text-lg px-8 py-4"};return a.jsxs("button",{className:ce(c[t],u[r],"relative overflow-hidden group",e),ref:l,...i,children:[a.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[s&&o==="left"&&a.jsx("span",{className:"transition-transform duration-300 group-hover:-translate-x-1",children:s}),n,s&&o==="right"&&a.jsx("span",{className:"transition-transform duration-300 group-hover:translate-x-1",children:s})]}),a.jsx("span",{className:"absolute inset-0 z-0 bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})});J_.displayName="AnimatedButton";const HU=()=>{const{t:e}=we(),t=Dn(),r=Ze();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-6",children:a.jsxs("div",{className:"text-center max-w-lg",children:[a.jsx("h1",{className:"text-8xl md:text-9xl font-bold mb-4 gradient-text",children:"404"}),a.jsx("p",{className:"text-xl md:text-2xl text-gray-800 mb-6",children:e("pageNotFound")}),a.jsx("p",{className:"text-gray-600 mb-8",children:e("pageDoesntExist")}),a.jsx(J_,{variant:"primary",onClick:()=>r("/"),icon:a.jsx(Yo,{className:"w-5 h-5"}),iconPosition:"left",children:e("returnHome")})]})})};function qU({requireAdmin:e=!1,requireOwner:t=!1}){const{user:r,loading:n}=lt();if(n)return a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})});if(!r){const s=window.location.pathname+window.location.search;return sessionStorage.setItem("redirectAfterLogin",s),a.jsx(dR,{to:"/login",replace:!0})}return a.jsx(fR,{})}const eE=pv,YU=kk,GU=gv,tE=h.forwardRef(({className:e,...t},r)=>a.jsx(pc,{className:ce("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));tE.displayName=pc.displayName;const KU=cc("fixed z-50 gap-4 bg-white p-5 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 rounded-lg",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Dv=h.forwardRef(({side:e="right",className:t,children:r,...n},s)=>a.jsxs(GU,{children:[a.jsx(tE,{}),a.jsxs(gc,{ref:s,className:ce(KU({side:e}),t),...n,children:[r,a.jsxs(Mf,{className:"absolute right-3 top-3 rounded-full p-1 opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-indigo-50",children:[a.jsx(rr,{className:"h-3.5 w-3.5 text-indigo-600"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Dv.displayName=gc.displayName;const rE=({className:e,...t})=>a.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});rE.displayName="SheetHeader";const nE=h.forwardRef(({className:e,...t},r)=>a.jsx(vc,{ref:r,className:ce("text-base font-semibold text-foreground",e),...t}));nE.displayName=vc.displayName;const sE=h.forwardRef(({className:e,...t},r)=>a.jsx(yc,{ref:r,className:ce("text-xs text-muted-foreground",e),...t}));sE.displayName=yc.displayName;function QU(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Mv="ScrollArea",[oE,vK]=Sr(Mv),[XU,Gr]=oE(Mv),iE=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...i}=e,[l,c]=h.useState(null),[u,d]=h.useState(null),[f,m]=h.useState(null),[g,y]=h.useState(null),[p,w]=h.useState(null),[x,v]=h.useState(0),[b,j]=h.useState(0),[S,N]=h.useState(!1),[C,_]=h.useState(!1),P=Ie(t,$=>c($)),R=uc(s);return a.jsx(XU,{scope:r,type:n,dir:R,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:g,onScrollbarXChange:y,scrollbarXEnabled:S,onScrollbarXEnabledChange:N,scrollbarY:p,onScrollbarYChange:w,scrollbarYEnabled:C,onScrollbarYEnabledChange:_,onCornerWidthChange:v,onCornerHeightChange:j,children:a.jsx(Ce.div,{dir:R,...i,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});iE.displayName=Mv;var aE="ScrollAreaViewport",lE=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...o}=e,i=Gr(aE,r),l=h.useRef(null),c=Ie(t,l,i.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Ce.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});lE.displayName=aE;var On="ScrollAreaScrollbar",Iv=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Gr(On,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return h.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),s.type==="hover"?a.jsx(ZU,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(JU,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(cE,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(Ov,{...n,ref:t}):null});Iv.displayName=On;var ZU=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Gr(On,e.__scopeScrollArea),[o,i]=h.useState(!1);return h.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Nr,{present:r||o,children:a.jsx(cE,{"data-state":o?"visible":"hidden",...n,ref:t})})}),JU=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Gr(On,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Yf(()=>c("SCROLL_END"),100),[l,c]=QU("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),h.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const g=u[d];f!==g&&(c("SCROLL"),i()),f=g};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,o,c,i]),a.jsx(Nr,{present:r||l!=="hidden",children:a.jsx(Ov,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:je(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:je(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),cE=h.forwardRef((e,t)=>{const r=Gr(On,e.__scopeScrollArea),{forceMount:n,...s}=e,[o,i]=h.useState(!1),l=e.orientation==="horizontal",c=Yf(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return Zi(r.viewport,c),Zi(r.content,c),a.jsx(Nr,{present:n||o,children:a.jsx(Ov,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Ov=h.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Gr(On,e.__scopeScrollArea),o=h.useRef(null),i=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=mE(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,g){return oz(m,i.current,l,g)}return r==="horizontal"?a.jsx(ez,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollLeft,g=pb(m,l,s.dir);o.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):r==="vertical"?a.jsx(tz,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollTop,g=pb(m,l);o.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),ez=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=Gr(On,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),u=Ie(t,c,o.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(dE,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":qf(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const m=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),gE(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Cd(i.paddingLeft),paddingEnd:Cd(i.paddingRight)}})}})}),tz=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=Gr(On,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),u=Ie(t,c,o.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(dE,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":qf(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const m=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),gE(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Cd(i.paddingTop),paddingEnd:Cd(i.paddingBottom)}})}})}),[rz,uE]=oE(On),dE=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,g=Gr(On,r),[y,p]=h.useState(null),w=Ie(t,P=>p(P)),x=h.useRef(null),v=h.useRef(""),b=g.viewport,j=n.content-n.viewport,S=Dt(d),N=Dt(c),C=Yf(f,10);function _(P){if(x.current){const R=P.clientX-x.current.left,$=P.clientY-x.current.top;u({x:R,y:$})}}return h.useEffect(()=>{const P=R=>{const $=R.target;(y==null?void 0:y.contains($))&&S(R,j)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[b,y,j,S]),h.useEffect(N,[n,N]),Zi(y,C),Zi(g.content,C),a.jsx(rz,{scope:r,scrollbar:y,hasThumb:s,onThumbChange:Dt(o),onThumbPointerUp:Dt(i),onThumbPositionChange:N,onThumbPointerDown:Dt(l),children:a.jsx(Ce.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:je(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),x.current=y.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),_(P))}),onPointerMove:je(e.onPointerMove,_),onPointerUp:je(e.onPointerUp,P=>{const R=P.target;R.hasPointerCapture(P.pointerId)&&R.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=v.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),Nd="ScrollAreaThumb",fE=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=uE(Nd,e.__scopeScrollArea);return a.jsx(Nr,{present:r||s.hasThumb,children:a.jsx(nz,{ref:t,...n})})}),nz=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,o=Gr(Nd,r),i=uE(Nd,r),{onThumbPositionChange:l}=i,c=Ie(t,f=>i.onThumbChange(f)),u=h.useRef(void 0),d=Yf(()=>{u.current&&(u.current(),u.current=void 0)},100);return h.useEffect(()=>{const f=o.viewport;if(f){const m=()=>{if(d(),!u.current){const g=iz(f,l);u.current=g,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[o.viewport,d,l]),a.jsx(Ce.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:je(e.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),y=f.clientX-g.left,p=f.clientY-g.top;i.onThumbPointerDown({x:y,y:p})}),onPointerUp:je(e.onPointerUp,i.onThumbPointerUp)})});fE.displayName=Nd;var Lv="ScrollAreaCorner",hE=h.forwardRef((e,t)=>{const r=Gr(Lv,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(sz,{...e,ref:t}):null});hE.displayName=Lv;var sz=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Gr(Lv,r),[o,i]=h.useState(0),[l,c]=h.useState(0),u=!!(o&&l);return Zi(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Zi(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?a.jsx(Ce.div,{...n,ref:t,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Cd(e){return e?parseInt(e,10):0}function mE(e,t){const r=e/t;return isNaN(r)?0:r}function qf(e){const t=mE(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function oz(e,t,r,n="ltr"){const s=qf(r),o=s/2,i=t||o,l=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return pE([c,u],f)(e)}function pb(e,t,r="ltr"){const n=qf(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,l=o-n,c=r==="ltr"?[0,i]:[i*-1,0],u=$p(e,c);return pE([0,i],[0,l])(u)}function pE(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function gE(e,t){return e>0&&e<t}var iz=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,l=r.top!==o.top;(i||l)&&t(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Yf(e,t){const r=Dt(e),n=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),h.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Zi(e,t){const r=Dt(t);Pt(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var vE=iE,az=lE,lz=hE;const Tu=h.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(vE,{ref:n,className:ce("relative overflow-hidden",e),...r,children:[a.jsx(az,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(yE,{}),a.jsx(lz,{})]}));Tu.displayName=vE.displayName;const yE=h.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(Iv,{ref:n,orientation:t,className:ce("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-3 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(fE,{className:"relative flex-1 rounded-full bg-gray-400 hover:bg-gray-600"})}));yE.displayName=Iv.displayName;var Fv="Avatar",[cz,yK]=Sr(Fv),[uz,xE]=cz(Fv),wE=h.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,o]=h.useState("idle");return a.jsx(uz,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:a.jsx(Ce.span,{...n,ref:t})})});wE.displayName=Fv;var bE="AvatarImage",jE=h.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=e,i=xE(bE,r),l=dz(n,o.referrerPolicy),c=Dt(u=>{s(u),i.onImageLoadingStatusChange(u)});return Pt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(Ce.img,{...o,ref:t,src:n}):null});jE.displayName=bE;var SE="AvatarFallback",NE=h.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,o=xE(SE,r),[i,l]=h.useState(n===void 0);return h.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?a.jsx(Ce.span,{...s,ref:t}):null});NE.displayName=SE;function dz(e,t){const[r,n]=h.useState("idle");return Pt(()=>{if(!e){n("error");return}let s=!0;const o=new window.Image,i=l=>()=>{s&&n(l)};return n("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var CE=wE,kE=jE,_E=NE;const Au=h.forwardRef(({className:e,...t},r)=>a.jsx(CE,{ref:r,className:ce("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Au.displayName=CE.displayName;const EE=h.forwardRef(({className:e,...t},r)=>a.jsx(kE,{ref:r,className:ce("aspect-square h-full w-full",e),...t}));EE.displayName=kE.displayName;const Va=h.forwardRef(({className:e,...t},r)=>a.jsx(_E,{ref:r,className:ce("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Va.displayName=_E.displayName;var[Gf,xK]=Sr("Tooltip",[ma]),Kf=ma(),PE="TooltipProvider",fz=700,tg="tooltip.open",[hz,$v]=Gf(PE),TE=e=>{const{__scopeTooltip:t,delayDuration:r=fz,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,[i,l]=h.useState(!0),c=h.useRef(!1),u=h.useRef(0);return h.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),a.jsx(hz,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:h.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:h.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:o})};TE.displayName=PE;var Qf="Tooltip",[mz,Xf]=Gf(Qf),AE=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=e,c=$v(Qf,e.__scopeTooltip),u=Kf(t),[d,f]=h.useState(null),m=zr(),g=h.useRef(0),y=i??c.disableHoverableContent,p=l??c.delayDuration,w=h.useRef(!1),[x=!1,v]=mn({prop:n,defaultProp:s,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(tg))):c.onClose(),o==null||o(C)}}),b=h.useMemo(()=>x?w.current?"delayed-open":"instant-open":"closed",[x]),j=h.useCallback(()=>{window.clearTimeout(g.current),g.current=0,w.current=!1,v(!0)},[v]),S=h.useCallback(()=>{window.clearTimeout(g.current),g.current=0,v(!1)},[v]),N=h.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{w.current=!0,v(!0),g.current=0},p)},[p,v]);return h.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),a.jsx(ev,{...u,children:a.jsx(mz,{scope:t,contentId:m,open:x,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:h.useCallback(()=>{c.isOpenDelayed?N():j()},[c.isOpenDelayed,N,j]),onTriggerLeave:h.useCallback(()=>{y?S():(window.clearTimeout(g.current),g.current=0)},[S,y]),onOpen:j,onClose:S,disableHoverableContent:y,children:r})})};AE.displayName=Qf;var rg="TooltipTrigger",RE=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Xf(rg,r),o=$v(rg,r),i=Kf(r),l=h.useRef(null),c=Ie(t,l,s.onTriggerChange),u=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>u.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(Nf,{asChild:!0,...i,children:a.jsx(Ce.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:je(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:je(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:je(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:je(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:je(e.onBlur,s.onClose),onClick:je(e.onClick,s.onClose)})})});RE.displayName=rg;var pz="TooltipPortal",[wK,gz]=Gf(pz,{forceMount:void 0}),Ji="TooltipContent",DE=h.forwardRef((e,t)=>{const r=gz(Ji,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=Xf(Ji,e.__scopeTooltip);return a.jsx(Nr,{present:n||i.open,children:i.disableHoverableContent?a.jsx(ME,{side:s,...o,ref:t}):a.jsx(vz,{side:s,...o,ref:t})})}),vz=h.forwardRef((e,t)=>{const r=Xf(Ji,e.__scopeTooltip),n=$v(Ji,e.__scopeTooltip),s=h.useRef(null),o=Ie(t,s),[i,l]=h.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,m=h.useCallback(()=>{l(null),f(!1)},[f]),g=h.useCallback((y,p)=>{const w=y.currentTarget,x={x:y.clientX,y:y.clientY},v=bz(x,w.getBoundingClientRect()),b=jz(x,v),j=Sz(p.getBoundingClientRect()),S=Cz([...b,...j]);l(S),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&d){const y=w=>g(w,d),p=w=>g(w,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",p)}}},[c,d,g,m]),h.useEffect(()=>{if(i){const y=p=>{const w=p.target,x={x:p.clientX,y:p.clientY},v=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),b=!Nz(x,i);v?m():b&&(m(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,i,u,m]),a.jsx(ME,{...e,ref:o})}),[yz,xz]=Gf(Qf,{isInside:!1}),ME=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=Xf(Ji,r),u=Kf(r),{onClose:d}=c;return h.useEffect(()=>(document.addEventListener(tg,d),()=>document.removeEventListener(tg,d)),[d]),h.useEffect(()=>{if(c.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(dc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(tv,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(V0,{children:n}),a.jsx(yz,{scope:r,isInside:!0,children:a.jsx(r8,{id:c.contentId,role:"tooltip",children:s||n})})]})})});DE.displayName=Ji;var IE="TooltipArrow",wz=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Kf(r);return xz(IE,r).isInside?null:a.jsx(rv,{...s,...n,ref:t})});wz.displayName=IE;function bz(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function jz(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Sz(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function Nz(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function Cz(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),kz(t)}function kz(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var _z=TE,Ez=AE,Pz=RE,OE=DE;const ou=_z,iu=Ez,au=Pz,Ba=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(OE,{ref:n,sideOffset:t,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Ba.displayName=OE.displayName;var lm="rovingFocusGroup.onEntryFocus",Tz={bubbles:!1,cancelable:!0},Zf="RovingFocusGroup",[ng,LE,Az]=z0(Zf),[Rz,FE]=Sr(Zf,[Az]),[Dz,Mz]=Rz(Zf),$E=h.forwardRef((e,t)=>a.jsx(ng.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(ng.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Iz,{...e,ref:t})})}));$E.displayName=Zf;var Iz=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=h.useRef(null),g=Ie(t,m),y=uc(o),[p=null,w]=mn({prop:i,defaultProp:l,onChange:c}),[x,v]=h.useState(!1),b=Dt(u),j=LE(r),S=h.useRef(!1),[N,C]=h.useState(0);return h.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(lm,b),()=>_.removeEventListener(lm,b)},[b]),a.jsx(Dz,{scope:r,orientation:n,dir:y,loop:s,currentTabStopId:p,onItemFocus:h.useCallback(_=>w(_),[w]),onItemShiftTab:h.useCallback(()=>v(!0),[]),onFocusableItemAdd:h.useCallback(()=>C(_=>_+1),[]),onFocusableItemRemove:h.useCallback(()=>C(_=>_-1),[]),children:a.jsx(Ce.div,{tabIndex:x||N===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:je(e.onMouseDown,()=>{S.current=!0}),onFocus:je(e.onFocus,_=>{const P=!S.current;if(_.target===_.currentTarget&&P&&!x){const R=new CustomEvent(lm,Tz);if(_.currentTarget.dispatchEvent(R),!R.defaultPrevented){const $=j().filter(L=>L.focusable),A=$.find(L=>L.active),B=$.find(L=>L.id===p),ee=[A,B,...$].filter(Boolean).map(L=>L.ref.current);UE(ee,d)}}S.current=!1}),onBlur:je(e.onBlur,()=>v(!1))})})}),VE="RovingFocusGroupItem",BE=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...i}=e,l=zr(),c=o||l,u=Mz(VE,r),d=u.currentTabStopId===c,f=LE(r),{onFocusableItemAdd:m,onFocusableItemRemove:g}=u;return h.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),a.jsx(ng.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:a.jsx(Ce.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:je(e.onMouseDown,y=>{n?u.onItemFocus(c):y.preventDefault()}),onFocus:je(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:je(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const p=Fz(y,u.orientation,u.dir);if(p!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=f().filter(v=>v.focusable).map(v=>v.ref.current);if(p==="last")x.reverse();else if(p==="prev"||p==="next"){p==="prev"&&x.reverse();const v=x.indexOf(y.currentTarget);x=u.loop?$z(x,v+1):x.slice(v+1)}setTimeout(()=>UE(x))}})})})});BE.displayName=VE;var Oz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Lz(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Fz(e,t,r){const n=Lz(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Oz[n]}function UE(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function $z(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Vz=$E,Bz=BE,Vv="Tabs",[Uz,bK]=Sr(Vv,[FE]),zE=FE(),[zz,Bv]=Uz(Vv),WE=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=uc(l),[f,m]=mn({prop:n,onChange:s,defaultProp:o});return a.jsx(zz,{scope:r,baseId:zr(),value:f,onValueChange:m,orientation:i,dir:d,activationMode:c,children:a.jsx(Ce.div,{dir:d,"data-orientation":i,...u,ref:t})})});WE.displayName=Vv;var HE="TabsList",qE=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=Bv(HE,r),i=zE(r);return a.jsx(Vz,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:a.jsx(Ce.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});qE.displayName=HE;var YE="TabsTrigger",GE=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=Bv(YE,r),l=zE(r),c=XE(i.baseId,n),u=ZE(i.baseId,n),d=n===i.value;return a.jsx(Bz,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Ce.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:je(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:je(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:je(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});GE.displayName=YE;var KE="TabsContent",QE=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,l=Bv(KE,r),c=XE(l.baseId,n),u=ZE(l.baseId,n),d=n===l.value,f=h.useRef(d);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(Nr,{present:s||d,children:({present:m})=>a.jsx(Ce.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&o})})});QE.displayName=KE;function XE(e,t){return`${e}-trigger-${t}`}function ZE(e,t){return`${e}-content-${t}`}var Wz=WE,JE=qE,eP=GE,tP=QE;const Hz=Wz,rP=h.forwardRef(({className:e,...t},r)=>a.jsx(JE,{ref:r,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));rP.displayName=JE.displayName;const Ru=h.forwardRef(({className:e,...t},r)=>a.jsx(eP,{ref:r,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ru.displayName=eP.displayName;const Du=h.forwardRef(({className:e,...t},r)=>a.jsx(tP,{ref:r,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Du.displayName=tP.displayName;const Uv=h.createContext({});function zv(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const Wv=typeof window<"u",nP=Wv?h.useLayoutEffect:h.useEffect,Jf=h.createContext(null),Hv=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class qz extends h.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=n instanceof HTMLElement&&n.offsetWidth||0,o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Yz({children:e,isPresent:t,anchorX:r}){const n=h.useId(),s=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:i}=h.useContext(Hv);return h.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:d,right:f}=o.current;if(t||!s.current||!l||!c)return;const m=r==="left"?`left: ${d}`:`right: ${f}`;s.current.dataset.motionPopId=n;const g=document.createElement("style");return i&&(g.nonce=i),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[t]),a.jsx(qz,{isPresent:t,childRef:s,sizeRef:o,children:h.cloneElement(e,{ref:s})})}const Gz=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:o,mode:i,anchorX:l})=>{const c=zv(Kz),u=h.useId(),d=h.useCallback(m=>{c.set(m,!0);for(const g of c.values())if(!g)return;n&&n()},[c,n]),f=h.useMemo(()=>({id:u,initial:t,isPresent:r,custom:s,onExitComplete:d,register:m=>(c.set(m,!1),()=>c.delete(m))}),o?[Math.random(),d]:[r,d]);return h.useMemo(()=>{c.forEach((m,g)=>c.set(g,!1))},[r]),h.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),i==="popLayout"&&(e=a.jsx(Yz,{isPresent:r,anchorX:l,children:e})),a.jsx(Jf.Provider,{value:f,children:e})};function Kz(){return new Map}function sP(e=!0){const t=h.useContext(Jf);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,o=h.useId();h.useEffect(()=>{if(e)return s(o)},[e]);const i=h.useCallback(()=>e&&n&&n(o),[o,n,e]);return!r&&n?[!1,i]:[!0]}const lu=e=>e.key||"";function gb(e){const t=[];return h.Children.forEach(e,r=>{h.isValidElement(r)&&t.push(r)}),t}const Qz=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:o="sync",propagate:i=!1,anchorX:l="left"})=>{const[c,u]=sP(i),d=h.useMemo(()=>gb(e),[e]),f=i&&!c?[]:d.map(lu),m=h.useRef(!0),g=h.useRef(d),y=zv(()=>new Map),[p,w]=h.useState(d),[x,v]=h.useState(d);nP(()=>{m.current=!1,g.current=d;for(let S=0;S<x.length;S++){const N=lu(x[S]);f.includes(N)?y.delete(N):y.get(N)!==!0&&y.set(N,!1)}},[x,f.length,f.join("-")]);const b=[];if(d!==p){let S=[...d];for(let N=0;N<x.length;N++){const C=x[N],_=lu(C);f.includes(_)||(S.splice(N,0,C),b.push(C))}return o==="wait"&&b.length&&(S=b),v(gb(S)),w(d),null}const{forceRender:j}=h.useContext(Uv);return a.jsx(a.Fragment,{children:x.map(S=>{const N=lu(S),C=i&&!c?!1:d===x||f.includes(N),_=()=>{if(y.has(N))y.set(N,!0);else return;let P=!0;y.forEach(R=>{R||(P=!1)}),P&&(j==null||j(),v(g.current),i&&(u==null||u()),n&&n())};return a.jsx(Gz,{isPresent:C,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,onExitComplete:C?void 0:_,anchorX:l,children:S},N)})})};function qv(e,t){e.indexOf(t)===-1&&e.push(t)}function Yv(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let oP=()=>{};const Xz={useManualTiming:!1};function Gv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Wr=e=>e,Bl=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Kv{constructor(){this.subscriptions=[]}add(t){return qv(this.subscriptions,t),()=>Yv(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _n=e=>e*1e3,En=e=>e/1e3;function iP(e,t){return t?e*(1e3/t):0}const Zz=Gv(()=>window.ScrollTimeline!==void 0);class Jz{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>{if(Zz()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class eW extends Jz{then(t,r){return this.finished.finally(t).then(()=>{})}}const vb={value:null},Qv=e=>Array.isArray(e)&&typeof e[0]=="number",tW={};function rW(e,t){const r=Gv(e);return()=>tW[t]??r()}const Ul=rW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),aP=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let o=0;o<s;o++)n+=e(o/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},Ua=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,sg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ua([0,.65,.55,1]),circOut:Ua([.55,0,1,.45]),backIn:Ua([.31,.01,.66,-.59]),backOut:Ua([.33,1.53,.69,.99])};function lP(e,t){if(e)return typeof e=="function"&&Ul()?aP(e,t):Qv(e)?Ua(e):Array.isArray(e)?e.map(r=>lP(r,t)||sg.easeOut):sg[e]}function nW(e,t,r,{delay:n=0,duration:s=300,repeat:o=0,repeatType:i="loop",ease:l="easeInOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=lP(l,s);return Array.isArray(f)&&(d.easing=f),e.animate(d,{delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal",pseudoElement:u})}function Xv(e){return typeof e=="function"&&"applyToOptions"in e}function Zv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const kd=2e4;function Jv(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<kd;)t+=r,n=e.next(t);return t>=kd?1/0:t}function sW(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(Jv(n),kd);return{type:"keyframes",ease:o=>n.next(s*o).value/t,duration:En(s)}}function cP(e){return!!(typeof e=="function"&&Ul()||!e||typeof e=="string"&&(e in sg||Ul())||Qv(e)||Array.isArray(e)&&e.every(cP))}function yb(e,t){e.timeline=t,e.onfinish=null}const cu=["read","resolveKeyframes","update","preRender","render","postRender"];function oW(e,t){let r=new Set,n=new Set,s=!1,o=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){i.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,m=!1,g=!1)=>{const p=g&&s?r:n;return m&&i.add(f),p.has(f)||p.add(f),f},cancel:f=>{n.delete(f),i.delete(f)},process:f=>{if(l=f,s){o=!0;return}s=!0,[r,n]=[n,r],r.forEach(u),t&&vb.value&&vb.value.frameloop[t].push(c),c=0,r.clear(),s=!1,o&&(o=!1,d.process(f))}};return d}const iW=40;function uP(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,i=cu.reduce((x,v)=>(x[v]=oW(o,t?v:void 0),x),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:m}=i,g=()=>{const x=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(x-s.timestamp,iW),1),s.timestamp=x,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),m.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(g))},y=()=>{r=!0,n=!0,s.isProcessing||e(g)};return{schedule:cu.reduce((x,v)=>{const b=i[v];return x[v]=(j,S=!1,N=!1)=>(r||y(),b.schedule(j,S,N)),x},{}),cancel:x=>{for(let v=0;v<cu.length;v++)i[cu[v]].cancel(x)},state:s,steps:i}}const{schedule:rt,cancel:Qs,state:Bt,steps:cm}=uP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wr,!0),{schedule:ey}=uP(queueMicrotask,!1);let Mu;function aW(){Mu=void 0}const Pn={now:()=>(Mu===void 0&&Pn.set(Bt.isProcessing||Xz.useManualTiming?Bt.timestamp:performance.now()),Mu),set:e=>{Mu=e,queueMicrotask(aW)}},Jr={x:!1,y:!1};function dP(){return Jr.x||Jr.y}function lW(e){return e==="x"||e==="y"?Jr[e]?null:(Jr[e]=!0,()=>{Jr[e]=!1}):Jr.x||Jr.y?null:(Jr.x=Jr.y=!0,()=>{Jr.x=Jr.y=!1})}function cW(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function fP(e,t){const r=cW(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function xb(e){return!(e.pointerType==="touch"||dP())}function uW(e,t,r={}){const[n,s,o]=fP(e,r),i=l=>{if(!xb(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{xb(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(l=>{l.addEventListener("pointerenter",i,s)}),o}const hP=(e,t)=>t?e===t?!0:hP(e,t.parentElement):!1,ty=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,dW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fW(e){return dW.has(e.tagName)||e.tabIndex!==-1}const za=new WeakSet;function wb(e){return t=>{t.key==="Enter"&&e(t)}}function um(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const hW=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=wb(()=>{if(za.has(r))return;um(r,"down");const s=wb(()=>{um(r,"up")}),o=()=>um(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",o,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function bb(e){return ty(e)&&!dP()}function mW(e,t,r={}){const[n,s,o]=fP(e,r),i=l=>{const c=l.currentTarget;if(!bb(l)||za.has(c))return;za.add(c);const u=t(c,l),d=(g,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),!(!bb(g)||!za.has(c))&&(za.delete(c),typeof u=="function"&&u(g,{success:y}))},f=g=>{d(g,c===window||c===document||r.useGlobalTarget||hP(c,g.target))},m=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",m,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",i,s),l instanceof HTMLElement&&(l.addEventListener("focus",u=>hW(u,s)),!fW(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}const jb=30,pW=e=>!isNaN(parseFloat(e));class gW{constructor(t,r={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const o=Pn.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Pn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=pW(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Kv);const n=this.events[t].add(r);return t==="change"?()=>{n(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>jb)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,jb);return iP(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zl(e,t){return new gW(e,t)}const mP=h.createContext({strict:!1}),Sb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ea={};for(const e in Sb)ea[e]={isEnabled:t=>Sb[e].some(r=>!!t[r])};function vW(e){for(const t in e)ea[t]={...ea[t],...e[t]}}const yW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _d(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||yW.has(e)}let pP=e=>!_d(e);function xW(e){e&&(pP=t=>t.startsWith("on")?!_d(t):e(t))}try{xW(require("@emotion/is-prop-valid").default)}catch{}function wW(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(pP(s)||r===!0&&_d(s)||!t&&!_d(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function bW(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const eh=h.createContext({});function th(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Wl(e){return typeof e=="string"||Array.isArray(e)}const ry=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ny=["initial",...ry];function rh(e){return th(e.animate)||ny.some(t=>Wl(e[t]))}function gP(e){return!!(rh(e)||e.variants)}function jW(e,t){if(rh(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Wl(r)?r:void 0,animate:Wl(n)?n:void 0}}return e.inherit!==!1?t:{}}function SW(e){const{initial:t,animate:r}=jW(e,h.useContext(eh));return h.useMemo(()=>({initial:t,animate:r}),[Nb(t),Nb(r)])}function Nb(e){return Array.isArray(e)?e.join(" "):e}const NW=Symbol.for("motionComponentSymbol");function bi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function CW(e,t,r){return h.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):bi(r)&&(r.current=n))},[t])}const sy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kW="framerAppearId",vP="data-"+sy(kW),yP=h.createContext({});function _W(e,t,r,n,s){var p,w;const{visualElement:o}=h.useContext(eh),i=h.useContext(mP),l=h.useContext(Jf),c=h.useContext(Hv).reducedMotion,u=h.useRef(null);n=n||i.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:o,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=h.useContext(yP);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&EW(u.current,r,s,f);const m=h.useRef(!1);h.useInsertionEffect(()=>{d&&m.current&&d.update(r,l)});const g=r[vP],y=h.useRef(!!g&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,g))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,g)));return nP(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),ey.render(d.render),y.current&&d.animationState&&d.animationState.animateChanges())}),h.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,g)}),y.current=!1))}),d}function EW(e,t,r,n){const{layoutId:s,layout:o,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:xP(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!i||l&&bi(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function xP(e){if(e)return e.options.allowProjection!==!1?e.projection:xP(e.parent)}function PW({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&vW(e);function o(l,c){let u;const d={...h.useContext(Hv),...l,layoutId:TW(l)},{isStatic:f}=d,m=SW(l),g=n(l,f);if(!f&&Wv){AW();const y=RW(d);u=y.MeasureLayout,m.visualElement=_W(s,g,d,t,y.ProjectionNode)}return a.jsxs(eh.Provider,{value:m,children:[u&&m.visualElement?a.jsx(u,{visualElement:m.visualElement,...d}):null,r(s,l,CW(g,m.visualElement,c),g,f,m.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const i=h.forwardRef(o);return i[NW]=s,i}function TW({layoutId:e}){const t=h.useContext(Uv).id;return t&&e!==void 0?t+"-"+e:e}function AW(e,t){h.useContext(mP).strict}function RW(e){const{drag:t,layout:r}=ea;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const wP=e=>t=>typeof t=="string"&&t.startsWith(e),oy=wP("--"),DW=wP("var(--"),iy=e=>DW(e)?MW.test(e.split("/*")[0].trim()):!1,MW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Hl={};function IW(e){for(const t in e)Hl[t]=e[t],oy(t)&&(Hl[t].isCSSVariable=!0)}const ga=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qo=new Set(ga);function bP(e,{layout:t,layoutId:r}){return Qo.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Hl[e]||e==="opacity")}const Xt=e=>!!(e&&e.getVelocity),jP=(e,t)=>t&&typeof e=="number"?t.transform(e):e,is=(e,t,r)=>r>t?t:r<e?e:r,va={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ql={...va,transform:e=>is(0,1,e)},uu={...va,default:1},bc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),js=bc("deg"),Tn=bc("%"),ke=bc("px"),OW=bc("vh"),LW=bc("vw"),Cb={...Tn,parse:e=>Tn.parse(e)/100,transform:e=>Tn.transform(e*100)},FW={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,backgroundPositionX:ke,backgroundPositionY:ke},$W={rotate:js,rotateX:js,rotateY:js,rotateZ:js,scale:uu,scaleX:uu,scaleY:uu,scaleZ:uu,skew:js,skewX:js,skewY:js,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:ql,originX:Cb,originY:Cb,originZ:ke},kb={...va,transform:Math.round},ay={...FW,...$W,zIndex:kb,size:ke,fillOpacity:ql,strokeOpacity:ql,numOctaves:kb},VW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BW=ga.length;function UW(e,t,r){let n="",s=!0;for(let o=0;o<BW;o++){const i=ga[o],l=e[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=jP(l,ay[i]);if(!c){s=!1;const d=VW[i]||i;n+=`${d}(${u}) `}r&&(t[i]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function ly(e,t,r){const{style:n,vars:s,transformOrigin:o}=e;let i=!1,l=!1;for(const c in t){const u=t[c];if(Qo.has(c)){i=!0;continue}else if(oy(c)){s[c]=u;continue}else{const d=jP(u,ay[c]);c.startsWith("origin")?(l=!0,o[c]=d):n[c]=d}}if(t.transform||(i||r?n.transform=UW(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=o;n.transformOrigin=`${c} ${u} ${d}`}}const cy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function SP(e,t,r){for(const n in t)!Xt(t[n])&&!bP(n,r)&&(e[n]=t[n])}function zW({transformTemplate:e},t){return h.useMemo(()=>{const r=cy();return ly(r,t,e),Object.assign({},r.vars,r.style)},[t])}function WW(e,t){const r=e.style||{},n={};return SP(n,r,e),Object.assign(n,zW(e,t)),n}function HW(e,t){const r={},n=WW(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const qW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uy(e){return typeof e!="string"||e.includes("-")?!1:!!(qW.indexOf(e)>-1||/[A-Z]/u.test(e))}const YW={offset:"stroke-dashoffset",array:"stroke-dasharray"},GW={offset:"strokeDashoffset",array:"strokeDasharray"};function KW(e,t,r=1,n=0,s=!0){e.pathLength=1;const o=s?YW:GW;e[o.offset]=ke.transform(-n);const i=ke.transform(t),l=ke.transform(r);e[o.array]=`${i} ${l}`}function _b(e,t,r){return typeof e=="string"?e:ke.transform(t+r*e)}function QW(e,t,r){const n=_b(t,e.x,e.width),s=_b(r,e.y,e.height);return`${n} ${s}`}function dy(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(ly(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:g,dimensions:y}=e;m.transform&&(y&&(g.transform=m.transform),delete m.transform),y&&(s!==void 0||o!==void 0||g.transform)&&(g.transformOrigin=QW(y,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(m.x=t),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),i!==void 0&&KW(m,i,l,c,!1)}const NP=()=>({...cy(),attrs:{}}),fy=e=>typeof e=="string"&&e.toLowerCase()==="svg";function XW(e,t,r,n){const s=h.useMemo(()=>{const o=NP();return dy(o,t,fy(n),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};SP(o,e.style,e),s.style={...o,...s.style}}return s}function ZW(e=!1){return(r,n,s,{latestValues:o},i)=>{const c=(uy(r)?XW:HW)(n,o,i,r),u=wW(n,typeof r=="string",e),d=r!==h.Fragment?{...u,...c,ref:s}:{},{children:f}=n,m=h.useMemo(()=>Xt(f)?f.get():f,[f]);return h.createElement(r,{...d,children:m})}}function Eb(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function hy(e,t,r,n){if(typeof t=="function"){const[s,o]=Eb(n);t=t(r!==void 0?r:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=Eb(n);t=t(r!==void 0?r:e.custom,s,o)}return t}const og=e=>Array.isArray(e),JW=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),eH=e=>og(e)?e[e.length-1]||0:e;function Iu(e){const t=Xt(e)?e.get():e;return JW(t)?t.toValue():t}function tH({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,s,o){const i={latestValues:rH(n,s,o,e),renderState:t()};return r&&(i.onMount=l=>r({props:n,current:l,...i}),i.onUpdate=l=>r(l)),i}const CP=e=>(t,r)=>{const n=h.useContext(eh),s=h.useContext(Jf),o=()=>tH(e,t,n,s);return r?o():zv(o)};function rH(e,t,r,n){const s={},o=n(e,{});for(const m in o)s[m]=Iu(o[m]);let{initial:i,animate:l}=e;const c=rh(e),u=gP(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||i===!1;const f=d?l:i;if(f&&typeof f!="boolean"&&!th(f)){const m=Array.isArray(f)?f:[f];for(let g=0;g<m.length;g++){const y=hy(e,m[g]);if(y){const{transitionEnd:p,transition:w,...x}=y;for(const v in x){let b=x[v];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(s[v]=b)}for(const v in p)s[v]=p[v]}}}return s}function my(e,t,r){var o;const{style:n}=e,s={};for(const i in n)(Xt(n[i])||t.style&&Xt(t.style[i])||bP(i,e)||((o=r==null?void 0:r.getValue(i))==null?void 0:o.liveStyle)!==void 0)&&(s[i]=n[i]);return s}const nH={useVisualState:CP({scrapeMotionValuesFromProps:my,createRenderState:cy})};function kP(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function _P(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const o in r)e.style.setProperty(o,r[o])}const EP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PP(e,t,r,n){_P(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(EP.has(s)?s:sy(s),t.attrs[s])}function TP(e,t,r){const n=my(e,t,r);for(const s in e)if(Xt(e[s])||Xt(t[s])){const o=ga.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[o]=e[s]}return n}const Pb=["x","y","width","height","cx","cy","r"],sH={useVisualState:CP({scrapeMotionValuesFromProps:TP,createRenderState:NP,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:s})=>{if(!r)return;let o=!!e.drag;if(!o){for(const l in s)if(Qo.has(l)){o=!0;break}}if(!o)return;let i=!t;if(t)for(let l=0;l<Pb.length;l++){const c=Pb[l];e[c]!==t[c]&&(i=!0)}i&&rt.read(()=>{kP(r,n),rt.render(()=>{dy(n,s,fy(r.tagName),e.transformTemplate),PP(r,n)})})}})};function oH(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const i={...uy(n)?sH:nH,preloadedFeatures:e,useRender:ZW(s),createVisualElement:t,Component:n};return PW(i)}}function Yl(e,t,r){const n=e.getProps();return hy(n,t,r!==void 0?r:n.custom,e)}const AP=new Set(["width","height","top","left","right","bottom",...ga]);function iH(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,zl(r))}function aH(e,t){const r=Yl(e,t);let{transitionEnd:n={},transition:s={},...o}=r||{};o={...o,...n};for(const i in o){const l=eH(o[i]);iH(e,i,l)}}function lH(e){return!!(Xt(e)&&e.add)}function ig(e,t){const r=e.getValue("willChange");if(lH(r))return r.add(t)}function RP(e){return e.props[vP]}const DP=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,cH=1e-7,uH=12;function dH(e,t,r,n,s){let o,i,l=0;do i=t+(r-t)/2,o=DP(i,n,s)-e,o>0?r=i:t=i;while(Math.abs(o)>cH&&++l<uH);return i}function jc(e,t,r,n){if(e===t&&r===n)return Wr;const s=o=>dH(o,0,1,e,r);return o=>o===0||o===1?o:DP(s(o),t,n)}const MP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,IP=e=>t=>1-e(1-t),OP=jc(.33,1.53,.69,.99),py=IP(OP),LP=MP(py),FP=e=>(e*=2)<1?.5*py(e):.5*(2-Math.pow(2,-10*(e-1))),gy=e=>1-Math.sin(Math.acos(e)),$P=IP(gy),VP=MP(gy),BP=e=>/^0[^.\s]+$/u.test(e);function fH(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||BP(e):!0}const al=e=>Math.round(e*1e5)/1e5,vy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hH(e){return e==null}const mH=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yy=(e,t)=>r=>!!(typeof r=="string"&&mH.test(r)&&r.startsWith(e)||t&&!hH(r)&&Object.prototype.hasOwnProperty.call(r,t)),UP=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,o,i,l]=n.match(vy);return{[e]:parseFloat(s),[t]:parseFloat(o),[r]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},pH=e=>is(0,255,e),dm={...va,transform:e=>Math.round(pH(e))},_o={test:yy("rgb","red"),parse:UP("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+dm.transform(e)+", "+dm.transform(t)+", "+dm.transform(r)+", "+al(ql.transform(n))+")"};function gH(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const ag={test:yy("#"),parse:gH,transform:_o.transform},ji={test:yy("hsl","hue"),parse:UP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Tn.transform(al(t))+", "+Tn.transform(al(r))+", "+al(ql.transform(n))+")"},Yt={test:e=>_o.test(e)||ag.test(e)||ji.test(e),parse:e=>_o.test(e)?_o.parse(e):ji.test(e)?ji.parse(e):ag.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?_o.transform(e):ji.transform(e)},vH=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yH(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(vy))==null?void 0:t.length)||0)+(((r=e.match(vH))==null?void 0:r.length)||0)>0}const zP="number",WP="color",xH="var",wH="var(",Tb="${}",bH=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gl(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let o=0;const l=t.replace(bH,c=>(Yt.test(c)?(n.color.push(o),s.push(WP),r.push(Yt.parse(c))):c.startsWith(wH)?(n.var.push(o),s.push(xH),r.push(c)):(n.number.push(o),s.push(zP),r.push(parseFloat(c))),++o,Tb)).split(Tb);return{values:r,split:l,indexes:n,types:s}}function HP(e){return Gl(e).values}function qP(e){const{split:t,types:r}=Gl(e),n=t.length;return s=>{let o="";for(let i=0;i<n;i++)if(o+=t[i],s[i]!==void 0){const l=r[i];l===zP?o+=al(s[i]):l===WP?o+=Yt.transform(s[i]):o+=s[i]}return o}}const jH=e=>typeof e=="number"?0:e;function SH(e){const t=HP(e);return qP(e)(t.map(jH))}const Xs={test:yH,parse:HP,createTransformer:qP,getAnimatableNone:SH},NH=new Set(["brightness","contrast","saturate","opacity"]);function CH(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(vy)||[];if(!n)return e;const s=r.replace(n,"");let o=NH.has(t)?1:0;return n!==r&&(o*=100),t+"("+o+s+")"}const kH=/\b([a-z-]*)\(.*?\)/gu,lg={...Xs,getAnimatableNone:e=>{const t=e.match(kH);return t?t.map(CH).join(" "):e}},_H={...ay,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:lg,WebkitFilter:lg},YP=e=>_H[e];function GP(e,t){let r=YP(e);return r!==lg&&(r=Xs),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const EH=new Set(["auto","none","0"]);function PH(e,t,r){let n=0,s;for(;n<e.length&&!s;){const o=e[n];typeof o=="string"&&!EH.has(o)&&Gl(o).values.length&&(s=e[n]),n++}if(s&&r)for(const o of t)e[o]=GP(r,s)}const Eo=e=>e*180/Math.PI,cg=e=>{const t=Eo(Math.atan2(e[1],e[0]));return ug(t)},TH={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:cg,rotateZ:cg,skewX:e=>Eo(Math.atan(e[1])),skewY:e=>Eo(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ug=e=>(e=e%360,e<0&&(e+=360),e),Ab=cg,Rb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Db=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),AH={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Rb,scaleY:Db,scale:e=>(Rb(e)+Db(e))/2,rotateX:e=>ug(Eo(Math.atan2(e[6],e[5]))),rotateY:e=>ug(Eo(Math.atan2(-e[2],e[0]))),rotateZ:Ab,rotate:Ab,skewX:e=>Eo(Math.atan(e[4])),skewY:e=>Eo(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Mb(e){return e.includes("scale")?1:0}function dg(e,t){if(!e||e==="none")return Mb(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=AH,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=TH,s=l}if(!s)return Mb(t);const o=n[t],i=s[1].split(",").map(DH);return typeof o=="function"?o(i):i[o]}const RH=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return dg(r,t)};function DH(e){return parseFloat(e.trim())}const Ib=e=>e===va||e===ke,MH=new Set(["x","y","z"]),IH=ga.filter(e=>!MH.has(e));function OH(e){const t=[];return IH.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const ta={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>dg(t,"x"),y:(e,{transform:t})=>dg(t,"y")};ta.translateX=ta.x;ta.translateY=ta.y;const Mo=new Set;let fg=!1,hg=!1;function KP(){if(hg){const e=Array.from(Mo).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=OH(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([o,i])=>{var l;(l=n.getValue(o))==null||l.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}hg=!1,fg=!1,Mo.forEach(e=>e.complete()),Mo.clear()}function QP(){Mo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(hg=!0)})}function LH(){QP(),KP()}class xy{constructor(t,r,n,s,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Mo.add(this),fg||(fg=!0,rt.read(QP),rt.resolveKeyframes(KP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const i=s==null?void 0:s.get(),l=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&i===void 0&&s.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Mo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Mo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const XP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),FH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $H(e){const t=FH.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function ZP(e,t,r=1){const[n,s]=$H(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const i=o.trim();return XP(i)?parseFloat(i):i}return iy(s)?ZP(s,t,r+1):s}const JP=e=>t=>t.test(e),VH={test:e=>e==="auto",parse:e=>e},eT=[va,ke,Tn,js,LW,OW,VH],Ob=e=>eT.find(JP(e));class tT extends xy{constructor(t,r,n,s,o){super(t,r,n,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),iy(u))){const d=ZP(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!AP.has(n)||t.length!==2)return;const[s,o]=t,i=Ob(s),l=Ob(o);if(i!==l)if(Ib(i)&&Ib(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)fH(t[s])&&n.push(s);n.length&&PH(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ta[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=n.length-1,i=n[o];n[o]=ta[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Lb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Xs.test(e)||e==="0")&&!e.startsWith("url("));function BH(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function UH(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],i=Lb(s,t),l=Lb(o,t);return!i||!l?!1:BH(e)||(r==="spring"||Xv(r))&&n}const zH=e=>e!==null;function nh(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(zH),o=t&&r!=="loop"&&t%2===1?0:s.length-1;return!o||n===void 0?s[o]:n}const WH=40;class rT{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:i="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Pn.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:o,repeatType:i,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>WH?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&LH(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Pn.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:o,delay:i,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!UH(t,n,s,o))if(i)this.options.duration=0;else{c&&c(nh(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ft=(e,t,r)=>e+(t-e)*r;function fm(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function HH({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,o=0,i=0;if(!t)s=o=i=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=fm(c,l,e+1/3),o=fm(c,l,e),i=fm(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:n}}function Ed(e,t){return r=>r>0?t:e}const hm=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},qH=[ag,_o,ji],YH=e=>qH.find(t=>t.test(e));function Fb(e){const t=YH(e);if(!t)return!1;let r=t.parse(e);return t===ji&&(r=HH(r)),r}const $b=(e,t)=>{const r=Fb(e),n=Fb(t);if(!r||!n)return Ed(e,t);const s={...r};return o=>(s.red=hm(r.red,n.red,o),s.green=hm(r.green,n.green,o),s.blue=hm(r.blue,n.blue,o),s.alpha=ft(r.alpha,n.alpha,o),_o.transform(s))},GH=(e,t)=>r=>t(e(r)),Sc=(...e)=>e.reduce(GH),mg=new Set(["none","hidden"]);function KH(e,t){return mg.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function QH(e,t){return r=>ft(e,t,r)}function wy(e){return typeof e=="number"?QH:typeof e=="string"?iy(e)?Ed:Yt.test(e)?$b:JH:Array.isArray(e)?nT:typeof e=="object"?Yt.test(e)?$b:XH:Ed}function nT(e,t){const r=[...e],n=r.length,s=e.map((o,i)=>wy(o)(o,t[i]));return o=>{for(let i=0;i<n;i++)r[i]=s[i](o);return r}}function XH(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=wy(e[s])(e[s],t[s]));return s=>{for(const o in n)r[o]=n[o](s);return r}}function ZH(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],i=e.indexes[o][n[o]],l=e.values[i]??0;r[s]=l,n[o]++}return r}const JH=(e,t)=>{const r=Xs.createTransformer(t),n=Gl(e),s=Gl(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?mg.has(e)&&!s.values.length||mg.has(t)&&!n.values.length?KH(e,t):Sc(nT(ZH(n,s),s.values),r):Ed(e,t)};function sT(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ft(e,t,r):wy(e)(e,t)}const eq=5;function oT(e,t,r){const n=Math.max(t-eq,0);return iP(r-e(n),t-n)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vb=.001;function tq({duration:e=yt.duration,bounce:t=yt.bounce,velocity:r=yt.velocity,mass:n=yt.mass}){let s,o,i=1-t;i=is(yt.minDamping,yt.maxDamping,i),e=is(yt.minDuration,yt.maxDuration,En(e)),i<1?(s=u=>{const d=u*i,f=d*e,m=d-r,g=pg(u,i),y=Math.exp(-f);return Vb-m/g*y},o=u=>{const f=u*i*e,m=f*r+r,g=Math.pow(i,2)*Math.pow(u,2)*e,y=Math.exp(-f),p=pg(Math.pow(u,2),i);return(-s(u)+Vb>0?-1:1)*((m-g)*y)/p}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-.001+d*f},o=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=nq(s,o,l);if(e=_n(e),isNaN(c))return{stiffness:yt.stiffness,damping:yt.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:i*2*Math.sqrt(n*u),duration:e}}}const rq=12;function nq(e,t,r){let n=r;for(let s=1;s<rq;s++)n=n-e(n)/t(n);return n}function pg(e,t){return e*Math.sqrt(1-t*t)}const sq=["duration","bounce"],oq=["stiffness","damping","mass"];function Bb(e,t){return t.some(r=>e[r]!==void 0)}function iq(e){let t={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...e};if(!Bb(e,oq)&&Bb(e,sq))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,o=2*is(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:yt.mass,stiffness:s,damping:o}}else{const r=tq(e);t={...t,...r,mass:yt.mass},t.isResolvedFromDuration=!0}return t}function Pd(e=yt.visualDuration,t=yt.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const o=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:u,mass:d,duration:f,velocity:m,isResolvedFromDuration:g}=iq({...r,velocity:-En(r.velocity||0)}),y=m||0,p=u/(2*Math.sqrt(c*d)),w=i-o,x=En(Math.sqrt(c/d)),v=Math.abs(w)<5;n||(n=v?yt.restSpeed.granular:yt.restSpeed.default),s||(s=v?yt.restDelta.granular:yt.restDelta.default);let b;if(p<1){const S=pg(x,p);b=N=>{const C=Math.exp(-p*x*N);return i-C*((y+p*x*w)/S*Math.sin(S*N)+w*Math.cos(S*N))}}else if(p===1)b=S=>i-Math.exp(-x*S)*(w+(y+x*w)*S);else{const S=x*Math.sqrt(p*p-1);b=N=>{const C=Math.exp(-p*x*N),_=Math.min(S*N,300);return i-C*((y+p*x*w)*Math.sinh(_)+S*w*Math.cosh(_))/S}}const j={calculatedDuration:g&&f||null,next:S=>{const N=b(S);if(g)l.done=S>=f;else{let C=0;p<1&&(C=S===0?_n(y):oT(b,S,N));const _=Math.abs(C)<=n,P=Math.abs(i-N)<=s;l.done=_&&P}return l.value=l.done?i:N,l},toString:()=>{const S=Math.min(Jv(j),kd),N=aP(C=>j.next(S*C).value,S,30);return S+"ms "+N},toTransition:()=>{}};return j}Pd.applyToOptions=e=>{const t=sW(e,100,Pd);return e.ease=Ul()?t.ease:"easeOut",e.duration=_n(t.duration),e.type="keyframes",e};function Ub({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},g=_=>l!==void 0&&_<l||c!==void 0&&_>c,y=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let p=r*t;const w=f+p,x=i===void 0?w:i(w);x!==w&&(p=x-f);const v=_=>-p*Math.exp(-_/n),b=_=>x+v(_),j=_=>{const P=v(_),R=b(_);m.done=Math.abs(P)<=u,m.value=m.done?x:R};let S,N;const C=_=>{g(m.value)&&(S=_,N=Pd({keyframes:[m.value,y(m.value)],velocity:oT(b,_,m.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:_=>{let P=!1;return!N&&S===void 0&&(P=!0,j(_),C(_)),S!==void 0&&_>=S?N.next(_-S):(!P&&j(_),m)}}}const aq=jc(.42,0,1,1),lq=jc(0,0,.58,1),iT=jc(.42,0,.58,1),cq=e=>Array.isArray(e)&&typeof e[0]!="number",uq={linear:Wr,easeIn:aq,easeInOut:iT,easeOut:lq,circIn:gy,circInOut:VP,circOut:$P,backIn:py,backInOut:LP,backOut:OP,anticipate:FP},zb=e=>{if(Qv(e)){oP(e.length===4);const[t,r,n,s]=e;return jc(t,r,n,s)}else if(typeof e=="string")return uq[e];return e};function dq(e,t,r){const n=[],s=r||sT,o=e.length-1;for(let i=0;i<o;i++){let l=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||Wr:t;l=Sc(c,l)}n.push(l)}return n}function fq(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const o=e.length;if(oP(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=dq(t,n,s),c=l.length,u=d=>{if(i&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const m=Bl(e[f],e[f+1],d);return l[f](m)};return r?d=>u(is(e[0],e[o-1],d)):u}function hq(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Bl(0,t,n);e.push(ft(r,1,s))}}function mq(e){const t=[0];return hq(t,e.length-1),t}function pq(e,t){return e.map(r=>r*t)}function gq(e,t){return e.map(()=>t||iT).splice(0,e.length-1)}function Td({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=cq(n)?n.map(zb):zb(n),o={done:!1,value:t[0]},i=pq(r&&r.length===t.length?r:mq(t),e),l=fq(i,t,{ease:Array.isArray(s)?s:gq(t,s)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}const vq=e=>{const t=({timestamp:r})=>e(r);return{start:()=>rt.update(t,!0),stop:()=>Qs(t),now:()=>Bt.isProcessing?Bt.timestamp:Pn.now()}},yq={decay:Ub,inertia:Ub,tween:Td,keyframes:Td,spring:Pd},xq=e=>e/100;class by extends rT{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:s,keyframes:o}=this.options,i=(s==null?void 0:s.KeyframeResolver)||xy,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new i(o,l,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:o,velocity:i=0}=this.options,l=Xv(r)?r:yq[r]||Td;let c,u;l!==Td&&typeof t[0]!="number"&&(c=Sc(xq,sT(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});o==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=Jv(d));const{calculatedDuration:f}=d,m=f+s,g=m*(n+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:m,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:i,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=n;if(this.startTime===null)return o.next(0);const{delay:m,repeat:g,repeatType:y,repeatDelay:p,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-m*(this.speed>=0?1:-1),v=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,j=o;if(g){const _=Math.min(this.currentTime,d)/f;let P=Math.floor(_),R=_%1;!R&&_>=1&&(R=1),R===1&&P--,P=Math.min(P,g+1),!!(P%2)&&(y==="reverse"?(R=1-R,p&&(R-=p/f)):y==="mirror"&&(j=i)),b=is(0,1,R)*f}const S=v?{done:!1,value:c[0]}:j.next(b);l&&(S.value=l(S.value));let{done:N}=S;!v&&u!==null&&(N=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return C&&s!==void 0&&(S.value=nh(c,this.options,s)),w&&w(S.value),C&&this.finish(),S}get duration(){const{resolved:t}=this;return t?En(t.calculatedDuration):0}get time(){return En(this.currentTime)}set time(t){t=_n(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=En(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=vq,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}get finished(){return this.currentFinishedPromise}}const wq=new Set(["opacity","clipPath","filter","transform"]),bq=Gv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ad=10,jq=2e4;function Sq(e){return Xv(e.type)||e.type==="spring"||!cP(e.ease)}function Nq(e,t){const r=new by({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let o=0;for(;!n.done&&o<jq;)n=r.sample(o),s.push(n.value),o+=Ad;return{times:void 0,keyframes:s,duration:o-Ad,ease:"linear"}}const aT={anticipate:FP,backInOut:LP,circInOut:VP};function Cq(e){return e in aT}class Wb extends rT{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:o}=this.options;this.resolver=new tT(o,(i,l)=>this.onKeyframesResolved(i,l),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:s,ease:o,type:i,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof o=="string"&&Ul()&&Cq(o)&&(o=aT[o]),Sq(this.options)){const{onComplete:f,onUpdate:m,motionValue:g,element:y,...p}=this.options,w=Nq(t,p);t=w.keyframes,t.length===1&&(t[1]=t[0]),n=w.duration,s=w.times,o=w.ease,i="keyframes"}const d=nW(l.owner.current,c,t,{...this.options,duration:n,times:s,ease:o});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(yb(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(nh(t,this.options,r)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:i,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return En(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return En(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=_n(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}get finished(){return this.resolved.animation.finished}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Wr;const{animation:n}=r;yb(n,t)}return Wr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:o,ease:i,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:m,...g}=this.options,y=new by({...g,keyframes:n,duration:s,type:o,ease:i,times:l,isGenerator:!0}),p=_n(this.time);u.setWithVelocity(y.sample(p-Ad).value,y.sample(p).value,Ad)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:o,damping:i,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return bq()&&n&&wq.has(n)&&(n!=="transform"||!u)&&!c&&!s&&o!=="mirror"&&i!==0&&l!=="inertia"}}const kq={type:"spring",stiffness:500,damping:25,restSpeed:10},_q=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Eq={type:"keyframes",duration:.8},Pq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Tq=(e,{keyframes:t})=>t.length>2?Eq:Qo.has(e)?e.startsWith("scale")?_q(t[1]):kq:Pq;function Aq({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const jy=(e,t,r,n={},s,o)=>i=>{const l=Zv(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-_n(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:s};Aq(l)||(d={...d,...Tq(e,d)}),d.duration&&(d.duration=_n(d.duration)),d.repeatDelay&&(d.repeatDelay=_n(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),d.allowFlatten=!l.type&&!l.ease,f&&!o&&t.get()!==void 0){const m=nh(d.keyframes,l);if(m!==void 0)return rt.update(()=>{d.onUpdate(m),d.onComplete()}),new eW([])}return!o&&Wb.supports(d)?new Wb(d):new by(d)};function Rq({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function lT(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=t;n&&(o=n);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),m=l[d];if(m===void 0||u&&Rq(u,d))continue;const g={delay:r,...Zv(o||{},d)};let y=!1;if(window.MotionHandoffAnimation){const w=RP(e);if(w){const x=window.MotionHandoffAnimation(w,d,rt);x!==null&&(g.startTime=x,y=!0)}}ig(e,d),f.start(jy(d,f,m,e.shouldReduceMotion&&AP.has(d)?{type:!1}:g,e,y));const p=f.animation;p&&c.push(p)}return i&&Promise.all(c).then(()=>{rt.update(()=>{i&&aH(e,i)})}),c}function gg(e,t,r={}){var c;const n=Yl(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const o=n?()=>Promise.all(lT(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=s;return Dq(e,t,d+u,f,m,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[o,i]:[i,o];return u().then(()=>d())}else return Promise.all([o(),i(r.delay)])}function Dq(e,t,r=0,n=0,s=1,o){const i=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(Mq).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(gg(u,t,{...o,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function Mq(e,t){return e.sortNodePosition(t)}function Iq(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(o=>gg(e,o,r));n=Promise.all(s)}else if(typeof t=="string")n=gg(e,t,r);else{const s=typeof t=="function"?Yl(e,t,r.custom):t;n=Promise.all(lT(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function cT(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Oq=ny.length;function uT(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?uT(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Oq;r++){const n=ny[r],s=e.props[n];(Wl(s)||s===!1)&&(t[n]=s)}return t}const Lq=[...ry].reverse(),Fq=ry.length;function $q(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Iq(e,r,n)))}function Vq(e){let t=$q(e),r=Hb(),n=!0;const s=c=>(u,d)=>{var m;const f=Yl(e,d,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:g,transitionEnd:y,...p}=f;u={...u,...p,...y}}return u};function o(c){t=c(e)}function i(c){const{props:u}=e,d=uT(e.parent)||{},f=[],m=new Set;let g={},y=1/0;for(let w=0;w<Fq;w++){const x=Lq[w],v=r[x],b=u[x]!==void 0?u[x]:d[x],j=Wl(b),S=x===c?v.isActive:null;S===!1&&(y=w);let N=b===d[x]&&b!==u[x]&&j;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),v.protectedKeys={...g},!v.isActive&&S===null||!b&&!v.prevProp||th(b)||typeof b=="boolean")continue;const C=Bq(v.prevProp,b);let _=C||x===c&&v.isActive&&!N&&j||w>y&&j,P=!1;const R=Array.isArray(b)?b:[b];let $=R.reduce(s(x),{});S===!1&&($={});const{prevResolvedValues:A={}}=v,B={...A,...$},Y=U=>{_=!0,m.has(U)&&(P=!0,m.delete(U)),v.needsAnimating[U]=!0;const T=e.getValue(U);T&&(T.liveStyle=!1)};for(const U in B){const T=$[U],D=A[U];if(g.hasOwnProperty(U))continue;let H=!1;og(T)&&og(D)?H=!cT(T,D):H=T!==D,H?T!=null?Y(U):m.add(U):T!==void 0&&m.has(U)?Y(U):v.protectedKeys[U]=!0}v.prevProp=b,v.prevResolvedValues=$,v.isActive&&(g={...g,...$}),n&&e.blockInitialAnimation&&(_=!1),_&&(!(N&&C)||P)&&f.push(...R.map(U=>({animation:U,options:{type:x}})))}if(m.size){const w={};if(typeof u.initial!="boolean"){const x=Yl(e,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(w.transition=x.transition)}m.forEach(x=>{const v=e.getBaseTarget(x),b=e.getValue(x);b&&(b.liveStyle=!0),w[x]=v??null}),f.push({animation:w})}let p=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),n=!1,p?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(c,u)}),r[c].isActive=u;const d=i(c);for(const m in r)r[m].protectedKeys={};return d}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>r,reset:()=>{r=Hb(),n=!0}}}function Bq(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!cT(t,e):!1}function po(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hb(){return{animate:po(!0),whileInView:po(),whileHover:po(),whileTap:po(),whileDrag:po(),whileFocus:po(),exit:po()}}class lo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Uq extends lo{constructor(t){super(t),t.animationState||(t.animationState=Vq(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();th(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let zq=0;class Wq extends lo{constructor(){super(...arguments),this.id=zq++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Hq={animation:{Feature:Uq},exit:{Feature:Wq}};function Kl(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Nc(e){return{point:{x:e.pageX,y:e.pageY}}}const qq=e=>t=>ty(t)&&e(t,Nc(t));function ll(e,t,r,n){return Kl(e,t,qq(r),n)}function dT({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Yq({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Gq(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const fT=1e-4,Kq=1-fT,Qq=1+fT,hT=.01,Xq=0-hT,Zq=0+hT;function nr(e){return e.max-e.min}function Jq(e,t,r){return Math.abs(e-t)<=r}function qb(e,t,r,n=.5){e.origin=n,e.originPoint=ft(t.min,t.max,e.origin),e.scale=nr(r)/nr(t),e.translate=ft(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Kq&&e.scale<=Qq||isNaN(e.scale))&&(e.scale=1),(e.translate>=Xq&&e.translate<=Zq||isNaN(e.translate))&&(e.translate=0)}function cl(e,t,r,n){qb(e.x,t.x,r.x,n?n.originX:void 0),qb(e.y,t.y,r.y,n?n.originY:void 0)}function Yb(e,t,r){e.min=r.min+t.min,e.max=e.min+nr(t)}function eY(e,t,r){Yb(e.x,t.x,r.x),Yb(e.y,t.y,r.y)}function Gb(e,t,r){e.min=t.min-r.min,e.max=e.min+nr(t)}function ul(e,t,r){Gb(e.x,t.x,r.x),Gb(e.y,t.y,r.y)}const Kb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Si=()=>({x:Kb(),y:Kb()}),Qb=()=>({min:0,max:0}),wt=()=>({x:Qb(),y:Qb()});function Lr(e){return[e("x"),e("y")]}function mm(e){return e===void 0||e===1}function vg({scale:e,scaleX:t,scaleY:r}){return!mm(e)||!mm(t)||!mm(r)}function wo(e){return vg(e)||mT(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function mT(e){return Xb(e.x)||Xb(e.y)}function Xb(e){return e&&e!=="0%"}function Rd(e,t,r){const n=e-r,s=t*n;return r+s}function Zb(e,t,r,n,s){return s!==void 0&&(e=Rd(e,s,n)),Rd(e,r,n)+t}function yg(e,t=0,r=1,n,s){e.min=Zb(e.min,t,r,n,s),e.max=Zb(e.max,t,r,n,s)}function pT(e,{x:t,y:r}){yg(e.x,t.translate,t.scale,t.originPoint),yg(e.y,r.translate,r.scale,r.originPoint)}const Jb=.999999999999,e1=1.0000000000001;function tY(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let o,i;for(let l=0;l<s;l++){o=r[l],i=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ci(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,pT(e,i)),n&&wo(o.latestValues)&&Ci(e,o.latestValues))}t.x<e1&&t.x>Jb&&(t.x=1),t.y<e1&&t.y>Jb&&(t.y=1)}function Ni(e,t){e.min=e.min+t,e.max=e.max+t}function t1(e,t,r,n,s=.5){const o=ft(e.min,e.max,s);yg(e,t,r,o,n)}function Ci(e,t){t1(e.x,t.x,t.scaleX,t.scale,t.originX),t1(e.y,t.y,t.scaleY,t.scale,t.originY)}function gT(e,t){return dT(Gq(e.getBoundingClientRect(),t))}function rY(e,t,r){const n=gT(e,r),{scroll:s}=t;return s&&(Ni(n.x,s.offset.x),Ni(n.y,s.offset.y)),n}const vT=({current:e})=>e?e.ownerDocument.defaultView:null,r1=(e,t)=>Math.abs(e-t);function nY(e,t){const r=r1(e.x,t.x),n=r1(e.y,t.y);return Math.sqrt(r**2+n**2)}class yT{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=gm(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=nY(f.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:y}=f,{timestamp:p}=Bt;this.history.push({...y,timestamp:p});const{onStart:w,onMove:x}=this.handlers;m||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=pm(m,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=gm(f.type==="pointercancel"?this.lastMoveEventInfo:pm(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,w),y&&y(f,w)},!ty(t))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const i=Nc(t),l=pm(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=Bt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,gm(l,this.history)),this.removeListeners=Sc(ll(this.contextWindow,"pointermove",this.handlePointerMove),ll(this.contextWindow,"pointerup",this.handlePointerUp),ll(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Qs(this.updatePoint)}}function pm(e,t){return t?{point:t(e.point)}:e}function n1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function gm({point:e},t){return{point:e,delta:n1(e,xT(t)),offset:n1(e,sY(t)),velocity:oY(t,.1)}}function sY(e){return e[0]}function xT(e){return e[e.length-1]}function oY(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=xT(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>_n(t)));)r--;if(!n)return{x:0,y:0};const o=En(s.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-n.x)/o,y:(s.y-n.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function iY(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ft(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ft(r,e,n.max):Math.min(e,r)),e}function s1(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function aY(e,{top:t,left:r,bottom:n,right:s}){return{x:s1(e.x,r,s),y:s1(e.y,t,n)}}function o1(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function lY(e,t){return{x:o1(e.x,t.x),y:o1(e.y,t.y)}}function cY(e,t){let r=.5;const n=nr(e),s=nr(t);return s>n?r=Bl(t.min,t.max-n,e.min):n>s&&(r=Bl(e.min,e.max-s,t.min)),is(0,1,r)}function uY(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const xg=.35;function dY(e=xg){return e===!1?e=0:e===!0&&(e=xg),{x:i1(e,"left","right"),y:i1(e,"top","bottom")}}function i1(e,t,r){return{min:a1(e,t),max:a1(e,r)}}function a1(e,t){return typeof e=="number"?e:e[t]||0}const fY=new WeakMap;class hY{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Nc(d).point)},o=(d,f)=>{const{drag:m,dragPropagation:g,onDragStart:y}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lW(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Lr(w=>{let x=this.getAxisMotionValue(w).get()||0;if(Tn.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[w];b&&(x=nr(b)*(parseFloat(x)/100))}}this.originPoint[w]=x}),y&&rt.postRender(()=>y(d,f)),ig(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:y,onDrag:p}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:w}=f;if(g&&this.currentDirection===null){this.currentDirection=mY(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),p&&p(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Lr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new yT(t,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:vT(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&rt.postRender(()=>o(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!du(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=iY(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;t&&bi(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=aY(n.layoutBox,t):this.constraints=!1,this.elastic=dY(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Lr(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=uY(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!bi(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=rY(n,s.root,this.visualElement.getTransformPagePoint());let i=lY(s.layout.layoutBox,o);if(r){const l=r(Yq(i));this.hasMutatedConstraints=!!l,l&&(i=dT(l))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Lr(d=>{if(!du(d,r,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const m=s?200:1e6,g=s?40:1e7,y={type:"inertia",velocity:n?t[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return ig(this.visualElement,t),n.start(jy(t,n,0,r,this.visualElement,!1))}stopAnimation(){Lr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Lr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Lr(r=>{const{drag:n}=this.getProps();if(!du(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(r);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[r];o.set(t[r]-ft(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!bi(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Lr(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();s[i]=cY({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Lr(i=>{if(!du(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(ft(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;fY.set(this.visualElement,this);const t=this.visualElement.current,r=ll(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();bi(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),rt.read(n);const i=Kl(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Lr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),r(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=xg,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function du(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function mY(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class pY extends lo{constructor(t){super(t),this.removeGroupControls=Wr,this.removeListeners=Wr,this.controls=new hY(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wr}unmount(){this.removeGroupControls(),this.removeListeners()}}const l1=e=>(t,r)=>{e&&rt.postRender(()=>e(t,r))};class gY extends lo{constructor(){super(...arguments),this.removePointerDownListener=Wr}onPointerDown(t){this.session=new yT(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vT(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:l1(t),onStart:l1(r),onMove:n,onEnd:(o,i)=>{delete this.session,s&&rt.postRender(()=>s(o,i))}}}mount(){this.removePointerDownListener=ll(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ou={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function c1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ta={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ke.test(e))e=parseFloat(e);else return e;const r=c1(e,t.target.x),n=c1(e,t.target.y);return`${r}% ${n}%`}},vY={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Xs.parse(e);if(s.length>5)return n;const o=Xs.createTransformer(e),i=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+i]/=l,s[1+i]/=c;const u=ft(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class yY extends h.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:o}=t;IW(xY),o&&(r.group&&r.group.add(o),n&&n.register&&s&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ou.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:o}=this.props,i=n.projection;return i&&(i.isPresent=o,s||t.layoutDependency!==r||r===void 0||t.isPresent!==o?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||rt.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ey.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function wT(e){const[t,r]=sP(),n=h.useContext(Uv);return a.jsx(yY,{...e,layoutGroup:n,switchLayoutGroup:h.useContext(yP),isPresent:t,safeToRemove:r})}const xY={borderRadius:{...Ta,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ta,borderTopRightRadius:Ta,borderBottomLeftRadius:Ta,borderBottomRightRadius:Ta,boxShadow:vY};function wY(e,t,r){const n=Xt(e)?e:zl(e);return n.start(jy("",n,t,r)),n.animation}function bY(e){return e instanceof SVGElement&&e.tagName!=="svg"}const jY=(e,t)=>e.depth-t.depth;class SY{constructor(){this.children=[],this.isDirty=!1}add(t){qv(this.children,t),this.isDirty=!0}remove(t){Yv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(jY),this.isDirty=!1,this.children.forEach(t)}}function NY(e,t){const r=Pn.now(),n=({timestamp:s})=>{const o=s-r;o>=t&&(Qs(n),e(o-t))};return rt.read(n,!0),()=>Qs(n)}const bT=["TopLeft","TopRight","BottomLeft","BottomRight"],CY=bT.length,u1=e=>typeof e=="string"?parseFloat(e):e,d1=e=>typeof e=="number"||ke.test(e);function kY(e,t,r,n,s,o){s?(e.opacity=ft(0,r.opacity!==void 0?r.opacity:1,_Y(n)),e.opacityExit=ft(t.opacity!==void 0?t.opacity:1,0,EY(n))):o&&(e.opacity=ft(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let i=0;i<CY;i++){const l=`border${bT[i]}Radius`;let c=f1(t,l),u=f1(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||d1(c)===d1(u)?(e[l]=Math.max(ft(u1(c),u1(u),n),0),(Tn.test(u)||Tn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=ft(t.rotate||0,r.rotate||0,n))}function f1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const _Y=jT(0,.5,$P),EY=jT(.5,.95,Wr);function jT(e,t,r){return n=>n<e?0:n>t?1:r(Bl(e,t,n))}function h1(e,t){e.min=t.min,e.max=t.max}function Or(e,t){h1(e.x,t.x),h1(e.y,t.y)}function m1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function p1(e,t,r,n,s){return e-=t,e=Rd(e,1/r,n),s!==void 0&&(e=Rd(e,1/s,n)),e}function PY(e,t=0,r=1,n=.5,s,o=e,i=e){if(Tn.test(t)&&(t=parseFloat(t),t=ft(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=ft(o.min,o.max,n);e===o&&(l-=t),e.min=p1(e.min,t,r,l,s),e.max=p1(e.max,t,r,l,s)}function g1(e,t,[r,n,s],o,i){PY(e,t[r],t[n],t[s],t.scale,o,i)}const TY=["x","scaleX","originX"],AY=["y","scaleY","originY"];function v1(e,t,r,n){g1(e.x,t,TY,r?r.x:void 0,n?n.x:void 0),g1(e.y,t,AY,r?r.y:void 0,n?n.y:void 0)}function y1(e){return e.translate===0&&e.scale===1}function ST(e){return y1(e.x)&&y1(e.y)}function x1(e,t){return e.min===t.min&&e.max===t.max}function RY(e,t){return x1(e.x,t.x)&&x1(e.y,t.y)}function w1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function NT(e,t){return w1(e.x,t.x)&&w1(e.y,t.y)}function b1(e){return nr(e.x)/nr(e.y)}function j1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class DY{constructor(){this.members=[]}add(t){qv(this.members,t),t.scheduleRender()}remove(t){if(Yv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function MY(e,t,r){let n="";const s=e.x.translate/t.x,o=e.y.translate/t.y,i=(r==null?void 0:r.z)||0;if((s||o||i)&&(n=`translate3d(${s}px, ${o}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:m,skewX:g,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),m&&(n+=`rotateY(${m}deg) `),g&&(n+=`skewX(${g}deg) `),y&&(n+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const vm=["","X","Y","Z"],IY={visibility:"hidden"},S1=1e3;let OY=0;function ym(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function CT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=RP(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",rt,!(s||o))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&CT(n)}function kT({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(i={},l=t==null?void 0:t()){this.id=OY++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($Y),this.nodes.forEach(WY),this.nodes.forEach(HY),this.nodes.forEach(VY)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new SY)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Kv),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=bY(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const m=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=NY(m,250),Ou.hasAnimatedSinceResize&&(Ou.hasAnimatedSinceResize=!1,this.nodes.forEach(C1))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||d.getDefaultTransition()||QY,{onLayoutAnimationStart:w,onLayoutAnimationComplete:x}=d.getProps(),v=!this.targetLayout||!NT(this.targetLayout,y),b=!m&&g;if(this.options.layoutRoot||this.resumeFrom||b||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const j={...Zv(p,"layout"),onPlay:w,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||C1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qY),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(N1);return}this.isUpdating||this.nodes.forEach(UY),this.isUpdating=!1,this.nodes.forEach(zY),this.nodes.forEach(LY),this.nodes.forEach(FY),this.clearAllSnapshots();const l=Pn.now();Bt.delta=is(0,1e3/60,l-Bt.timestamp),Bt.timestamp=l,Bt.isProcessing=!0,cm.update.process(Bt),cm.preRender.process(Bt),cm.render.process(Bt),Bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ey.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(BY),this.sharedNodes.forEach(YY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!nr(this.snapshot.measuredBox.x)&&!nr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!ST(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(l||wo(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),XY(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:i}=this.options;if(!i)return wt();const l=i.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(ZY))){const{scroll:d}=this.root;d&&(Ni(l.x,d.offset.x),Ni(l.y,d.offset.y))}return l}removeElementScroll(i){var c;const l=wt();if(Or(l,i),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Or(l,i),Ni(l.x,f.offset.x),Ni(l.y,f.offset.y))}return l}applyTransform(i,l=!1){const c=wt();Or(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ci(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),wo(d.latestValues)&&Ci(c,d.latestValues)}return wo(this.latestValues)&&Ci(c,this.latestValues),c}removeTransform(i){const l=wt();Or(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!wo(u.latestValues))continue;vg(u.latestValues)&&u.updateSnapshot();const d=wt(),f=u.measurePageBox();Or(d,f),v1(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return wo(this.latestValues)&&v1(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Bt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),ul(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Or(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Or(this.target,this.layout.layoutBox),pT(this.target,this.targetDelta)):Or(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),ul(this.relativeTargetOrigin,this.target,g.target),Or(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vg(this.parent.latestValues)||mT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Bt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Or(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;tY(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=wt());const{target:g}=i;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(m1(this.prevProjectionDelta.x,this.projectionDelta.x),m1(this.prevProjectionDelta.y,this.projectionDelta.y)),cl(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!j1(this.projectionDelta.x,this.prevProjectionDelta.x)||!j1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Si(),this.projectionDelta=Si(),this.projectionDeltaWithTransform=Si()}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Si();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=wt(),g=c?c.source:void 0,y=this.layout?this.layout.source:void 0,p=g!==y,w=this.getStack(),x=!w||w.members.length<=1,v=!!(p&&!x&&this.options.crossfade===!0&&!this.path.some(KY));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const S=j/1e3;k1(f.x,i.x,S),k1(f.y,i.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ul(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GY(this.relativeTarget,this.relativeTargetOrigin,m,S),b&&RY(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=wt()),Or(b,this.relativeTarget)),p&&(this.animationValues=d,kY(d,u,this.latestValues,S,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{Ou.hasAnimatedSinceResize=!0,this.currentAnimation=wY(0,S1,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(S1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&_T(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||wt();const f=nr(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const m=nr(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+m}Or(l,c),Ci(l,d),cl(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new DY),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var l;const{layoutId:i}=this.options;return i?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:i}=this.options;return i?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&ym("z",i,u,this.animationValues);for(let d=0;d<vm.length;d++)ym(`rotate${vm[d]}`,i,u,this.animationValues),ym(`skew${vm[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}getProjectionStyles(i){if(!this.instance||this.isSVG)return;if(!this.isVisible)return IY;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Iu(i==null?void 0:i.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Iu(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!wo(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=MY(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:f,y:m}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?l.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Hl){if(d[g]===void 0)continue;const{correct:y,applyTo:p,isCSSVariable:w}=Hl[g],x=l.transform==="none"?d[g]:y(d[g],u);if(p){const v=p.length;for(let b=0;b<v;b++)l[p[b]]=x}else w?this.options.visualElement.renderState.vars[g]=x:l[g]=x}return this.options.layoutId&&(l.pointerEvents=u===this?Iu(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(N1),this.root.sharedNodes.clear()}}}function LY(e){e.updateLayout()}function FY(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,i=t.source!==e.layout.source;o==="size"?Lr(f=>{const m=i?t.measuredBox[f]:t.layoutBox[f],g=nr(m);m.min=n[f].min,m.max=m.min+g}):_T(o,t.layoutBox,n)&&Lr(f=>{const m=i?t.measuredBox[f]:t.layoutBox[f],g=nr(n[f]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const l=Si();cl(l,n,t.layoutBox);const c=Si();i?cl(c,e.applyTransform(s,!0),t.measuredBox):cl(c,n,t.layoutBox);const u=!ST(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const y=wt();ul(y,t.layoutBox,m.layoutBox);const p=wt();ul(p,n,g.layoutBox),NT(y,p)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function $Y(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function VY(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function BY(e){e.clearSnapshot()}function N1(e){e.clearMeasurements()}function UY(e){e.isLayoutDirty=!1}function zY(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function C1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function WY(e){e.resolveTargetDelta()}function HY(e){e.calcProjection()}function qY(e){e.resetSkewAndRotation()}function YY(e){e.removeLeadSnapshot()}function k1(e,t,r){e.translate=ft(t.translate,0,r),e.scale=ft(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function _1(e,t,r,n){e.min=ft(t.min,r.min,n),e.max=ft(t.max,r.max,n)}function GY(e,t,r,n){_1(e.x,t.x,r.x,n),_1(e.y,t.y,r.y,n)}function KY(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const QY={duration:.45,ease:[.4,0,.1,1]},E1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),P1=E1("applewebkit/")&&!E1("chrome/")?Math.round:Wr;function T1(e){e.min=P1(e.min),e.max=P1(e.max)}function XY(e){T1(e.x),T1(e.y)}function _T(e,t,r){return e==="position"||e==="preserve-aspect"&&!Jq(b1(t),b1(r),.2)}function ZY(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const JY=kT({attachResizeListener:(e,t)=>Kl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xm={current:void 0},ET=kT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xm.current){const e=new JY({});e.mount(window),e.setOptions({layoutScroll:!0}),xm.current=e}return xm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),eG={pan:{Feature:gY},drag:{Feature:pY,ProjectionNode:ET,MeasureLayout:wT}};function A1(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,o=n[s];o&&rt.postRender(()=>o(t,Nc(t)))}class tG extends lo{mount(){const{current:t}=this.node;t&&(this.unmount=uW(t,(r,n)=>(A1(this.node,n,"Start"),s=>A1(this.node,s,"End"))))}unmount(){}}class rG extends lo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sc(Kl(this.node.current,"focus",()=>this.onFocus()),Kl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function R1(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),o=n[s];o&&rt.postRender(()=>o(t,Nc(t)))}class nG extends lo{mount(){const{current:t}=this.node;t&&(this.unmount=mW(t,(r,n)=>(R1(this.node,n,"Start"),(s,{success:o})=>R1(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wg=new WeakMap,wm=new WeakMap,sG=e=>{const t=wg.get(e.target);t&&t(e)},oG=e=>{e.forEach(sG)};function iG({root:e,...t}){const r=e||document;wm.has(r)||wm.set(r,{});const n=wm.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(oG,{root:e,...t})),n[s]}function aG(e,t,r){const n=iG(t);return wg.set(e,r),n.observe(e),()=>{wg.delete(e),n.unobserve(e)}}const lG={some:0,all:1};class cG extends lo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:o}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:lG[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return aG(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(uG(t,r))&&this.startObserver()}unmount(){}}function uG({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const dG={inView:{Feature:cG},tap:{Feature:nG},focus:{Feature:rG},hover:{Feature:tG}},fG={layout:{ProjectionNode:ET,MeasureLayout:wT}},bg={current:null},PT={current:!1};function hG(){if(PT.current=!0,!!Wv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bg.current=e.matches;e.addListener(t),t()}else bg.current=!1}const mG=[...eT,Yt,Xs],pG=e=>mG.find(JP(e)),gG=new WeakMap;function vG(e,t,r){for(const n in t){const s=t[n],o=r[n];if(Xt(s))e.addValue(n,s);else if(Xt(o))e.addValue(n,zl(s,{owner:e}));else if(o!==s)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(s):i.hasAnimated||i.set(s)}else{const i=e.getStaticValue(n);e.addValue(n,zl(i!==void 0?i:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const D1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yG{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:o,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Pn.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,rt.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=i;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=rh(r),this.isVariantNode=gP(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in m){const y=m[g];c[g]!==void 0&&Xt(y)&&y.set(c[g],!1)}}mount(t){this.current=t,gG.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),PT.current||hG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qs(this.notifyUpdate),Qs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Qo.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&rt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=r.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),o(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ea){const r=ea[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<D1.length;n++){const s=D1[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,i=t[o];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=vG(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=zl(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(XP(n)||BP(n))?n=parseFloat(n):!pG(n)&&Xs.test(r)&&(n=GP(t,r)),this.setBaseTarget(t,Xt(n)?n.get():n)),Xt(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var o;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=hy(this.props,r,(o=this.presenceContext)==null?void 0:o.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Xt(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Kv),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class TT extends yG{constructor(){super(...arguments),this.KeyframeResolver=tT}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Xt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function xG(e){return window.getComputedStyle(e)}class wG extends TT{constructor(){super(...arguments),this.type="html",this.renderInstance=_P}readValueFromInstance(t,r){if(Qo.has(r))return RH(t,r);{const n=xG(t),s=(oy(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return gT(t,r)}build(t,r,n){ly(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return my(t,r,n)}}class bG extends TT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&kP(this.current,this.renderState)}}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Qo.has(r)){const n=YP(r);return n&&n.default||0}return r=EP.has(r)?r:sy(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return TP(t,r,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&rt.postRender(this.updateDimensions)}build(t,r,n){dy(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){PP(t,r,n,s)}mount(t){this.isSVGTag=fy(t.tagName),super.mount(t)}}const jG=(e,t)=>uy(e)?new bG(t):new wG(t,{allowProjection:e!==h.Fragment}),SG=oH({...Hq,...dG,...eG,...fG},jG),fu=bW(SG);function NG(){const[e,t]=h.useState(!1),[r,n]=h.useState(!1),[s,o]=h.useState([]),[i,l]=h.useState(""),[c,u]=h.useState(!1),[d,f]=h.useState(""),[m,g]=h.useState(""),[y,p]=h.useState(!1),[w,x]=h.useState(!1),[v,b]=h.useState(!1),[j,S]=h.useState(null),[N,C]=h.useState(null),[_,P]=h.useState(!1),[R,$]=h.useState("chat"),[A,B]=h.useState(""),[Y,ee]=h.useState([]),[L,U]=h.useState([]),[T,D]=h.useState(!1),[H,V]=h.useState([]),[Q,X]=h.useState([]),se=h.useRef(null),ge=h.useRef(null),le=h.useRef(null),{t:k,language:M}=we(),Z=Ze(),{user:W}=lt(),ae=M==="ar",q=Go(),ve=w7(),ue=s.reduce((F,ne)=>{const G=ne.timestamp.toDateString();return F[G]||(F[G]=[]),F[G].push(ne),F},{});h.useEffect(()=>{ve==="mobile"?b(!1):(b(!1),e&&n(!1))},[ve,e]),h.useEffect(()=>{e&&s.length===0&&(W?(async()=>{try{const{data:ne,error:G}=await J.from("profiles").select("username").eq("id",W.id).single();if(G)throw G;if(ne&&ne.username){const fe=`Welcome back, ${ne.username}. How may we assist you with your automotive parts needs today?`;o([{id:"1",isBot:!0,text:fe,timestamp:new Date,quickReplies:[{text:k("howToOrder"),action:k("howDoIOrderQuestion")},{text:k("trackOrder"),action:k("trackOrderQuestion")},{text:k("findPart"),action:k("findPartQuestion")}]}])}else o([{id:"1",isBot:!0,text:"Welcome back. How may we assist you with your automotive parts needs today?",timestamp:new Date,quickReplies:[{text:k("howToOrder"),action:k("howDoIOrderQuestion")},{text:k("trackOrder"),action:k("trackOrderQuestion")},{text:k("findPart"),action:k("findPartQuestion")}]}])}catch{o([{id:"1",isBot:!0,text:"Welcome back. How may we assist you with your automotive parts needs today?",timestamp:new Date,quickReplies:[{text:k("howToOrder"),action:k("howDoIOrderQuestion")},{text:k("trackOrder"),action:k("trackOrderQuestion")},{text:k("findPart"),action:k("findPartQuestion")}]}])}})():o([{id:"1",isBot:!0,text:"Welcome to Zabtt Automotive Parts. I'm your virtual assistant, ready to help you find the right parts for your vehicle. How may I assist you today?",timestamp:new Date,quickReplies:[{text:k("howToOrder"),action:k("howDoIOrderQuestion")},{text:k("trackOrder"),action:k("trackOrderQuestion")},{text:k("findPart"),action:k("findPartQuestion")}]}]))},[e,s.length,k,W]),h.useEffect(()=>{const F=s.slice(-5).map(ne=>`${ne.isBot?"Assistant":"User"}: ${ne.text}`);V(F),s.length>0&&Re()},[s]);const Re=async F=>{var fe;const ne=((fe=s.filter(Ae=>!Ae.isBot).pop())==null?void 0:fe.text.toLowerCase())||"",G=[];(ne.includes("part")||ne.includes("product"))&&(G.push({text:k("howLongIsWarranty"),category:"product"}),G.push({text:k("doYouHaveCompatibilityGuide"),category:"product"})),(ne.includes("order")||ne.includes("shipping"))&&(G.push({text:k("whatShippingOptions"),category:"order"}),G.push({text:k("canIChangeMyOrder"),category:"order"})),(ne.includes("return")||ne.includes("refund"))&&(G.push({text:k("whatIsReturnPolicy"),category:"returns"}),G.push({text:k("howToInitiateReturn"),category:"returns"})),G.length<3&&(G.push({text:k("doYouOfferDiscounts"),category:"general"}),G.push({text:k("howToContactSupport"),category:"general"})),X(G.slice(0,4))};h.useEffect(()=>{var F;(F=se.current)==null||F.scrollIntoView({behavior:"smooth"})},[s,c]),h.useEffect(()=>{var F;e&&!r&&((F=ge.current)==null||F.focus())},[e,r]),h.useEffect(()=>{if(A){const F=s.filter(ne=>ne.text.toLowerCase().includes(A.toLowerCase()));ee(F)}else ee([])},[A,s]);const Ne=()=>{if(r){n(!1);return}t(!e),n(!1)},Me=F=>{F&&F.stopPropagation(),n(!0)},Ve=F=>{F&&F.stopPropagation(),t(!1)},Be=()=>{p(!1)},It=F=>{l(F.target.value)},cr=F=>{F.key==="Enter"&&i.trim()&&Qe()},E=async(F,ne)=>{S(F);try{const{data:G,error:fe}=await J.from("chat_feedback").insert({email:d||null,phone_number:m,feedback_type:"other",message:"No message provided"});fe?console.error("Error saving feedback:",fe):console.log("Feedback saved successfully:",G)}catch(G){console.error("Error saving feedback:",G)}setTimeout(()=>{K.success(k(ne?"thanksForPositiveFeedback":"thanksForFeedback"))},300)},I=F=>F.split(/[.!?]+/).filter(G=>G.trim().length>0).filter(G=>{const fe=G.trim().toLowerCase();return fe.includes("?")||fe.startsWith("what")||fe.startsWith("how")||fe.startsWith("where")||fe.startsWith("when")||fe.startsWith("why")||fe.startsWith("which")||fe.startsWith("who")||fe.startsWith("can")||fe.startsWith("do")||fe.startsWith("does")||fe.startsWith("is")||fe.startsWith("are")||fe.includes("tell me about")}),z=(F,ne)=>F==="navigate_products"?(Z("/products"),q?Ve():Me(),!0):F==="navigate_categories"?(Z("/categories"),q?Ve():Me(),!0):F==="navigate_orders"?(Z("/orders"),q?Ve():Me(),!0):F==="navigate_shops"?(Z("/shops"),q?Ve():Me(),!0):F==="navigate_contact"?(Z("/contact"),q?Ve():Me(),!0):F==="navigate_faq"?(Z("/faq"),q?Ve():Me(),!0):F==="product_search"&&ne?(Z(`/search?q=${encodeURIComponent(ne)}`),q?Ve():Me(),!0):!1,de=async(F,ne=!1,G=[])=>{try{if(ne&&N){C(null);const De=k("productRequestConfirmation").replace("{productName}",F).concat(" Our product specialists will review your request and provide detailed information shortly."),{data:pt,error:gt}=await J.functions.invoke("chat-assistant",{body:{message:N,productName:F,userId:(W==null?void 0:W.id)||null,email:d||(W==null?void 0:W.email)||null,phoneNumber:m||null}});if(gt)throw gt;return{response:De,feedbackType:"product_request",saved:!0,productName:F,carModel:(pt==null?void 0:pt.carModel)||null,category:(pt==null?void 0:pt.category)||null,quickReplies:[{text:k("browseProductCatalog"),action:k("showMeMoreProducts")},{text:k("checkOrderStatus"),action:k("orderStatus")}]}}const fe=De=>{const pt=[{casual:"sure thing",professional:"certainly"},{casual:"no problem",professional:"absolutely"},{casual:"yeah",professional:"yes"},{casual:"ok",professional:"understood"},{casual:"thanks",professional:"thank you"},{casual:"sorry",professional:"we apologize"},{casual:"hey",professional:"hello"},{casual:"hi there",professional:"greetings"}];let gt=De;return pt.forEach(Lt=>{const gn=new RegExp(`\\b${Lt.casual}\\b`,"gi");gt=gt.replace(gn,Lt.professional)}),gt},Ae=[];if(G.length>0)for(const De of G)try{const pt=De.name.split(".").pop(),Lt=`chat-attachments/${`${Math.random().toString(36).substring(2)}.${pt}`}`,{data:gn,error:_y}=await J.storage.from("attachments").upload(Lt,De);if(_y)throw _y;const{data:qT}=J.storage.from("attachments").getPublicUrl(Lt);Ae.push({type:De.type.startsWith("image/")?"image":"file",url:qT.publicUrl,name:De.name,size:De.size})}catch(pt){console.error("Error uploading attachment:",pt)}const Se=I(F);if(Se.length>1){const De=[];for(const pt of Se){const{data:gt,error:Lt}=await J.functions.invoke("chat-assistant",{body:{message:pt,userId:(W==null?void 0:W.id)||null,email:d||(W==null?void 0:W.email)||null,phoneNumber:m||null,context:H,attachments:Ae}});if(Lt)throw Lt;De.push({question:pt.trim(),answer:fe(gt.response)})}return{response:k("multipleQuestionsDetected"),feedbackType:"question",saved:!1,productName:null,carModel:null,category:null,answers:De,attachments:Ae,quickReplies:[{text:k("moreHelp"),action:k("canYouHelpMeWithSomethingElse")},{text:k("thankYou"),action:k("thanksForTheInformation")}]}}const{data:Ee,error:Ot}=await J.functions.invoke("chat-assistant",{body:{message:F,userId:(W==null?void 0:W.id)||null,email:d||(W==null?void 0:W.email)||null,phoneNumber:m||null,context:H,attachments:Ae}});if(Ot)throw Ot;if(Ee.feedbackType==="product_request"&&!Ee.productName&&!Ee.response.includes("product name"))return C(F),{response:k("productNameRequest"),feedbackType:"awaiting_product_name",saved:!1,productName:null,carModel:null,category:null,awaitingProductName:!0,attachments:Ae};let Ue=[];switch(Ee.feedbackType){case"product_request":Ue=[{text:k("browseMoreProducts"),action:k("showMoreProducts")},{text:k("findShopsNearMe"),action:k("whereCanIBuyThis")}];break;case"order_help":Ue=[{text:k("paymentMethods"),action:k("whatPaymentMethodsAreAccepted")},{text:k("shipping"),action:k("howLongDoesShippingTake")}];break;case"question":Ue=[{text:k("returnPolicy"),action:k("whatIsReturnPolicy")},{text:k("contactSupport"),action:k("speakToRepresentative")}];break;default:Ue=[{text:k("lookForParts"),action:k("iNeedToFindAPart")},{text:k("askQuestion"),action:k("iHaveAnotherQuestion")}]}return{response:fe(Ee.response),feedbackType:Ee.feedbackType,saved:Ee.saved,productName:Ee.productName,carModel:Ee.carModel,category:Ee.category,attachments:Ae,quickReplies:Ue}}catch(fe){return console.error("Error with NLP function:",fe),{response:k("chatbotErrorTechnical"),feedbackType:"other",saved:!1,productName:null,carModel:null,category:null,isError:!0,quickReplies:[{text:k("tryAgain"),action:k("canYouHelpMeAgain")},{text:k("contactSupport"),action:k("connectToHuman")}]}}},oe=(F,ne)=>{const G=F.text.split(" ");let fe="";const Ae=F.text.length,Se=F.text.split(/[.!?]/).length,Ee=Math.min(15,Math.max(8,20-Ae/120));setTimeout(()=>{const Ot=Ue=>{if(Ue<G.length){fe+=(Ue===0?"":" ")+G[Ue],o(Lt=>Lt.map(gn=>gn.id===ne?{...gn,text:fe,isLoading:Ue<G.length-1}:gn));const De=G[Ue].slice(-1),pt=[".","!","?",",",":"].includes(De)?De==="."||De==="!"||De==="?"?300:150:0,gt=Math.random()*15-5;setTimeout(()=>Ot(Ue+1),Ee+gt+pt)}};u(!0),Ot(0),setTimeout(()=>{u(!1),o(Ue=>Ue.map(De=>De.id===ne?{...F,isLoading:!1}:De))},Ee*G.length)},Se*100)},te=()=>{var F;(F=le.current)==null||F.click()},me=F=>{if(F.target.files&&F.target.files.length>0){const ne=Array.from(F.target.files);U(ne),K.success(`${ne.length} ${ne.length===1?k("fileSelected"):k("filesSelected")}`)}},Pe=async()=>{try{P(!0);const F=await navigator.mediaDevices.getUserMedia({audio:!0}),ne=new MediaRecorder(F),G=[];ne.addEventListener("dataavailable",fe=>{G.push(fe.data)}),ne.addEventListener("stop",async()=>{const fe=new Blob(G,{type:"audio/wav"}),Ae=new File([fe],"voice-message.wav",{type:"audio/wav"});Le(Ae),F.getTracks().forEach(Se=>Se.stop())}),ne.start(),setTimeout(()=>{ne.state==="recording"&&(ne.stop(),P(!1))},1e4),K.info(k("recordingStarted"),{action:{label:k("stopRecording"),onClick:()=>{ne.state==="recording"&&(ne.stop(),P(!1))}}})}catch(F){console.error("Error starting voice recording:",F),K.error(k("microphoneAccessDenied")),P(!1)}},Le=async F=>{D(!0);try{const G=`voice-recordings/${`voice-${Date.now()}.wav`}`,{data:fe,error:Ae}=await J.storage.from("attachments").upload(G,F);if(Ae)throw Ae;setTimeout(()=>{l("I need help finding brake pads for a 2018 Toyota Camry"),D(!1),K.success(k("voiceTranscribed"))},1500)}catch(ne){console.error("Error processing voice recording:",ne),K.error(k("voiceProcessingError")),D(!1)}},Qe=async()=>{var fe,Ae;if(!i.trim()&&L.length===0)return;const ne={id:Date.now().toString(),isBot:!1,text:i.trim(),timestamp:new Date,attachments:L.length>0?L.map(Se=>({type:Se.type.startsWith("image/")?"image":"file",url:URL.createObjectURL(Se),name:Se.name,size:Se.size})):void 0};o(Se=>[...Se,ne]),l(""),U([]);const G=(Date.now()+1).toString();o(Se=>[...Se,{id:G,isBot:!0,text:"...",timestamp:new Date,isLoading:!0}]);try{const Se=s.length>0&&((fe=s[s.length-2])==null?void 0:fe.isBot)&&((Ae=s[s.length-2])==null?void 0:Ae.awaitingProductName),Ee=await de(ne.text||k("imageAttached"),Se,L),Ot=Ee.productName;if(z(Ee.feedbackType,Ot)){o(Lt=>Lt.filter(gn=>gn.id!==G));return}o(Lt=>Lt.filter(gn=>gn.id!==G));const De={id:(Date.now()+2).toString(),isBot:!0,text:Ee.response,timestamp:new Date,feedbackType:Ee.feedbackType,saved:Ee.saved,awaitingProductName:Ee.awaitingProductName,quickReplies:Ee.quickReplies,answers:Ee.answers,attachments:Ee.attachments,isError:Ee.isError},pt={...De,text:"",isLoading:!0},gt=(Date.now()+2).toString();o(Lt=>[...Lt,{...pt,id:gt}]),oe(De,gt),Ee.saved&&!W&&!d&&!m&&!w&&setTimeout(()=>{p(!0)},800)}catch(Se){console.error("Error processing message:",Se),o(Ee=>Ee.filter(Ot=>Ot.id!==G)),o(Ee=>[...Ee,{id:(Date.now()+2).toString(),isBot:!0,text:k("chatbotError"),timestamp:new Date,isError:!0,quickReplies:[{text:k("tryAgain"),action:k("canYouHelpMeAgain")},{text:k("contactSupport"),action:k("speakToHuman")}]}])}},ur=async()=>{let F=!1;if((!m||m.length<8)&&(K.error(k("invalidPhoneNumber")),F=!0),!F)try{const ne=s.filter(G=>G.isBot&&G.saved);if(ne.length>0){const G=ne[ne.length-1],fe=s.filter(Se=>!Se.isBot),Ae=fe.length>0?fe[fe.length-1].text:"";await J.from("chat_feedback").insert({email:d||null,phone_number:m,feedback_type:G.feedbackType||"other",message:Ae}),K.success(k("feedbackSubmitted")),p(!1),x(!0),o(Se=>[...Se,{id:Date.now().toString(),isBot:!0,text:k("thankYouForContactInfo"),timestamp:new Date,quickReplies:[{text:k("browseProducts"),action:k("showMeAvailableProducts")},{text:k("findShops"),action:k("whereCanIBuy")}]}])}}catch(ne){console.error("Error saving contact info with feedback:",ne),K.error(k("errorSavingFeedback"))}},dr=F=>{Z(F),Ve()},Ln=F=>{l(F),setTimeout(()=>{Qe()},100)},Fn=async F=>{$("chat");const ne={id:Date.now().toString(),isBot:!1,text:F,timestamp:new Date};o(fe=>[...fe,ne]);const G=(Date.now()+1).toString();o(fe=>[...fe,{id:G,isBot:!0,text:"...",timestamp:new Date,isLoading:!0}]);try{const fe=await de(F);if(z(fe.feedbackType,fe.productName)){o(Ue=>Ue.filter(De=>De.id!==G));return}o(Ue=>Ue.filter(De=>De.id!==G));const Se={id:(Date.now()+2).toString(),isBot:!0,text:fe.response,timestamp:new Date,feedbackType:fe.feedbackType,saved:fe.saved,awaitingProductName:fe.awaitingProductName,quickReplies:fe.quickReplies,answers:fe.answers},Ee={...Se,text:"",isLoading:!0},Ot=(Date.now()+2).toString();o(Ue=>[...Ue,{...Ee,id:Ot}]),oe(Se,Ot)}catch(fe){console.error("Error processing suggested question:",fe),o(Ae=>Ae.filter(Se=>Se.id!==G)),o(Ae=>[...Ae,{id:(Date.now()+2).toString(),isBot:!0,text:k("chatbotError"),timestamp:new Date,isError:!0}])}},$n=()=>{if(s.length>1&&window.confirm(k("clearChatConfirmation"))){const F=s.find(ne=>ne.id==="1");o(F?[F]:[]),K.success(k("chatCleared"))}},co=F=>F.type==="image"?a.jsxs("div",{className:"mt-2 relative group",children:[a.jsx("img",{src:F.url||"/placeholder.svg",alt:F.name,className:"max-w-full rounded-md max-h-48 object-cover cursor-pointer hover:opacity-90",onClick:()=>window.open(F.url,"_blank")}),a.jsx("div",{className:"absolute bottom-1 right-1 bg-black/70 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:F.name})]}):a.jsx("div",{className:"mt-2",children:a.jsxs("a",{href:F.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-2 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:[a.jsx(Cw,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-700 truncate",children:F.name}),F.size&&a.jsxs("span",{className:"text-xs text-gray-500",children:[(F.size/1024).toFixed(1)," KB"]})]})}),Kr=()=>a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-violet-500 text-white p-3 flex justify-between items-center cursor-pointer select-none sticky top-0 z-10",onClick:()=>!v&&n(!r),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yh,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:k(y?"contactUs":"zabttAssistant")}),c&&a.jsxs("span",{className:"text-xs bg-white/20 px-2 py-0.5 rounded-full animate-pulse",children:[k("typing"),"..."]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[!v&&(r?a.jsx(iN,{className:"h-5 w-5 hover:text-gray-200"}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:Me,className:"p-1 hover:bg-purple-700 rounded","aria-label":k("minimizeChat"),children:a.jsx(ic,{className:"h-5 w-5"})}),a.jsx("button",{onClick:Ve,className:"p-1 hover:bg-purple-700 rounded","aria-label":k("closeChat"),children:a.jsx(rr,{className:"h-5 w-5"})})]})),v&&a.jsx("button",{onClick:Ve,className:"p-1 hover:bg-purple-700 rounded","aria-label":k("closeChat"),children:a.jsx(rr,{className:"h-5 w-5"})})]})]}),!r&&a.jsx("div",{className:"flex flex-col h-[calc(100%-52px)] overflow-hidden",children:y?a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("button",{onClick:Be,className:"flex items-center text-sm text-purple-600 hover:text-purple-800",children:[a.jsx(Yo,{className:"h-4 w-4 mr-1"}),k("backToChat")]})}),a.jsxs("div",{className:"p-4 flex-grow overflow-y-auto",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:k("contactInformation")}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:k("pleaseProvideContactDetails")}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:[k("phoneNumber")," *"]}),a.jsx("input",{type:"tel",id:"phone",value:m,onChange:F=>g(F.target.value),placeholder:k("yourPhoneNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:[k("email")," (",k("optional"),")"]}),a.jsx("input",{type:"email",id:"email",value:d,onChange:F=>f(F.target.value),placeholder:k("yourEmailAddress"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),a.jsx(ie,{onClick:ur,className:"w-full bg-purple-600 hover:bg-purple-700",children:k("submit")}),a.jsx(ie,{onClick:Be,variant:"outline",className:"w-full",children:k("skipForNow")})]})]})]}):a.jsx("div",{className:"flex flex-col h-full overflow-hidden",children:a.jsxs(Hz,{value:R,onValueChange:$,className:"w-full",children:[a.jsxs(rP,{className:"w-full grid grid-cols-3",children:[a.jsxs(Ru,{value:"chat",className:"flex items-center gap-1",children:[a.jsx(YL,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:k("chat")})]}),a.jsxs(Ru,{value:"search",className:"flex items-center gap-1",children:[a.jsx(Qt,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:k("search")})]}),a.jsxs(Ru,{value:"suggestions",className:"flex items-center gap-1",children:[a.jsx(v6,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:k("suggestions")})]})]}),a.jsxs(Du,{value:"chat",className:"flex-1 flex flex-col overflow-hidden m-0 border-none p-0",children:[a.jsx(Tu,{className:"flex-1 overflow-visible",style:{height:"auto",minHeight:"200px"},children:a.jsxs("div",{className:"flex flex-col gap-3 p-3 min-h-full",children:[Object.entries(ue).map(([F,ne])=>a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(mr,{variant:"outline",className:"text-xs text-gray-500 bg-gray-50",children:new Date(F).toLocaleDateString(M,{weekday:"long",month:"short",day:"numeric"})})}),ne.map(G=>{var fe;return a.jsx(Qz,{children:a.jsx(fu.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.2},className:`flex ${G.isBot?"justify-start":"justify-end"}`,children:a.jsxs("div",{className:"flex gap-2 max-w-[85%]",children:[G.isBot&&a.jsxs(Au,{className:"h-8 w-8 mt-1",children:[a.jsx(EE,{src:"/bot-avatar.png",alt:"Bot"}),a.jsx(Va,{className:"bg-purple-100 text-purple-600",children:a.jsx(bw,{className:"h-4 w-4"})})]}),a.jsx("div",{className:`p-3 rounded-lg ${G.isBot?"bg-white border border-gray-200 shadow-sm text-gray-800":"bg-gradient-to-r from-purple-600 to-violet-500 text-white"} ${G.isLoading?"animate-pulse":""} ${G.isError?"border-red-300 bg-red-50":""}`,children:G.isLoading?a.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-500 animate-bounce",style:{animationDelay:"0ms"}}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-500 animate-bounce",style:{animationDelay:"150ms"}}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-500 animate-bounce",style:{animationDelay:"300ms"}})]}):a.jsxs(a.Fragment,{children:[G.isBot&&a.jsxs("div",{className:"flex items-center mb-1 text-purple-600 font-medium text-xs",children:[a.jsx("span",{children:"Zabtt Assistant"}),G.isError&&a.jsx(mr,{variant:"destructive",className:"ml-2 text-[10px] py-0 px-1",children:k("error")})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:G.text}),G.attachments&&G.attachments.length>0&&a.jsx("div",{className:"mt-2 space-y-2",children:G.attachments.map((Ae,Se)=>a.jsx("div",{children:co(Ae)},`${G.id}-attachment-${Se}`))}),G.isBot&&G.answers&&G.answers.length>0&&a.jsx("div",{className:"mt-3 space-y-3",children:G.answers.map((Ae,Se)=>a.jsxs("div",{className:"p-3 bg-gray-50 rounded border border-gray-100",children:[a.jsx("div",{className:"font-medium text-sm text-purple-700 mb-1",children:Ae.question}),a.jsx("div",{className:"text-sm text-gray-700",children:Ae.answer})]},`answer-${Se}`))}),G.isBot&&G.quickReplies&&G.quickReplies.length>0&&!G.isLoading&&a.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:G.quickReplies.map((Ae,Se)=>a.jsx("button",{onClick:()=>Ln(Ae.action),className:"py-1 px-3 bg-purple-50 text-purple-700 rounded-full text-xs font-medium hover:bg-purple-100 transition-colors",children:Ae.text},`${G.id}-reply-${Se}`))}),a.jsxs("div",{className:"flex justify-between items-center mt-1",children:[a.jsx("p",{className:"text-xs opacity-70",children:G.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),G.isBot&&!G.isLoading&&j!==G.id&&a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(ou,{children:a.jsxs(iu,{children:[a.jsx(au,{asChild:!0,children:a.jsx("button",{onClick:()=>E(G.id,!0),className:"text-gray-400 hover:text-green-500 transition-colors","aria-label":k("helpful"),children:a.jsx(C6,{className:"h-3 w-3"})})}),a.jsx(Ba,{children:a.jsx("p",{children:k("markAsHelpful")})})]})}),a.jsx(ou,{children:a.jsxs(iu,{children:[a.jsx(au,{asChild:!0,children:a.jsx("button",{onClick:()=>E(G.id,!1),className:"text-gray-400 hover:text-red-500 transition-colors","aria-label":k("notHelpful"),children:a.jsx(S6,{className:"h-3 w-3"})})}),a.jsx(Ba,{children:a.jsx("p",{children:k("markAsNotHelpful")})})]})})]}),j===G.id&&a.jsx("span",{className:"text-xs text-green-600",children:k("feedbackReceived")})]}),G.isBot&&G.saved&&a.jsx("div",{className:"mt-2 text-xs text-purple-700 bg-purple-50 px-2 py-1 rounded inline-block",children:G.feedbackType==="product_request"?k("expertProductRequestLogged"):G.feedbackType==="complaint"?k("expertComplaintLogged"):G.feedbackType==="suggestion"?k("expertSuggestionLogged"):""})]})}),!G.isBot&&a.jsx(Au,{className:"h-8 w-8 mt-1 order-1",children:a.jsx(Va,{className:"bg-purple-600 text-white",children:((fe=W==null?void 0:W.email)==null?void 0:fe.charAt(0).toUpperCase())||"U"})})]})})},G.id)})]},F)),a.jsx("div",{ref:se})]})}),a.jsxs("div",{className:"p-3 border-t border-gray-200 flex items-center gap-2 bg-white",children:[L.length>0&&a.jsxs("div",{className:"absolute -top-10 left-0 right-0 bg-white p-2 border-t border-gray-200 flex items-center gap-2 overflow-x-auto",children:[L.map((F,ne)=>a.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded px-2 py-1 text-xs",children:[a.jsx("span",{className:"truncate max-w-[100px]",children:F.name}),a.jsx("button",{onClick:()=>U(G=>G.filter((fe,Ae)=>Ae!==ne)),className:"text-gray-500 hover:text-red-500",children:a.jsx(rr,{className:"h-3 w-3"})})]},ne)),a.jsx("button",{onClick:()=>U([]),className:"text-xs text-gray-500 hover:text-red-500",children:k("clearAll")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ou,{children:a.jsxs(iu,{children:[a.jsx(au,{asChild:!0,children:a.jsx(ie,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full",onClick:te,disabled:c,children:a.jsx(Cw,{className:"h-4 w-4 text-gray-500"})})}),a.jsx(Ba,{children:a.jsx("p",{children:k("attachFile")})})]})}),a.jsx("input",{type:"file",ref:le,onChange:me,className:"hidden",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.txt"}),a.jsx(ou,{children:a.jsxs(iu,{children:[a.jsx(au,{asChild:!0,children:a.jsx(ie,{variant:"ghost",size:"icon",className:`h-8 w-8 rounded-full ${_?"bg-red-100 text-red-500 animate-pulse":""}`,onClick:Pe,disabled:c||_||T,children:a.jsx(KL,{className:"h-4 w-4 text-gray-500"})})}),a.jsx(Ba,{children:a.jsx("p",{children:k(_?"recording":"voiceInput")})})]})})]}),a.jsx("input",{ref:ge,type:"text",value:i,onChange:It,onKeyDown:cr,placeholder:k(T?"processingVoice":"askZabtt"),className:"flex-1 border border-gray-300 rounded-full px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:c||T}),a.jsx(ie,{onClick:Qe,disabled:!i.trim()&&L.length===0||c,className:`p-1.5 sm:p-2 rounded-full ${(i.trim()||L.length>0)&&!c?"bg-gradient-to-r from-purple-600 to-violet-500 text-white hover:opacity-90":"bg-gray-200 text-gray-400 cursor-not-allowed"} transition-colors`,"aria-label":k("send"),children:a.jsx(uN,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),a.jsxs("div",{className:"p-2 border-t border-gray-200 flex justify-between items-center bg-white",children:[a.jsxs("div",{className:"flex gap-3 sm:gap-4 text-gray-500",children:[a.jsxs("a",{href:"mailto:zabtteg@gmail.com",className:"flex items-center gap-1 text-xs hover:text-purple-600",children:[a.jsx(vf,{className:"h-3 w-3"}),a.jsx("span",{children:k("email")})]}),a.jsxs("a",{href:"tel:01155003537",className:"flex items-center gap-1 text-xs hover:text-purple-600",children:[a.jsx(yf,{className:"h-3 w-3"}),a.jsx("span",{children:k("call")})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ie,{variant:"ghost",size:"sm",className:"h-7 text-xs text-gray-500 hover:text-red-500",onClick:$n,children:k("clearChat")}),a.jsx(ie,{variant:"ghost",size:"sm",className:"h-7 text-xs text-purple-600 hover:text-purple-800",onClick:()=>dr("/contact"),children:k("contactUs")})]})]})]}),a.jsxs(Du,{value:"search",className:"flex-1 flex flex-col overflow-hidden m-0 border-none p-0",children:[a.jsx("div",{className:"p-3 border-b border-gray-200",children:a.jsxs("div",{className:"relative",children:[a.jsx(Qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",value:A,onChange:F=>B(F.target.value),placeholder:k("searchConversation"),className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]})}),a.jsx(Tu,{className:"flex-1",children:a.jsx("div",{className:"p-3 space-y-3",children:A?Y.length>0?Y.map(F=>{var ne;return a.jsx(io,{className:"p-3 hover:bg-gray-50 cursor-pointer",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Au,{className:"h-6 w-6",children:F.isBot?a.jsx(Va,{className:"bg-purple-100 text-purple-600",children:a.jsx(bw,{className:"h-3 w-3"})}):a.jsx(Va,{className:"bg-purple-600 text-white",children:((ne=W==null?void 0:W.email)==null?void 0:ne.charAt(0).toUpperCase())||"U"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[F.isBot?"Zabtt Assistant":k("you")," "," ",F.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),a.jsx("p",{className:"text-sm",children:F.text})]})]})},F.id)}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Qt,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-500",children:k("noSearchResults")})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Qt,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-500",children:k("searchPrompt")})]})})})]}),a.jsx(Du,{value:"suggestions",className:"flex-1 flex flex-col overflow-hidden m-0 border-none p-0",children:a.jsx(Tu,{className:"flex-1",children:a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:k("popularQuestions")}),a.jsx("div",{className:"space-y-2",children:[k("howDoITrackMyOrder"),k("whatIsYourReturnPolicy"),k("doYouShipInternationally"),k("howCanIFindCompatibleParts")].map((F,ne)=>a.jsx(ie,{variant:"outline",className:"w-full justify-start text-left h-auto py-2 px-3 text-sm",onClick:()=>Fn(F),children:F},ne))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:k("productCategories")}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{name:k("brakeParts"),icon:a.jsx("span",{children:""})},{name:k("engineParts"),icon:a.jsx("span",{children:""})},{name:k("suspensionParts"),icon:a.jsx("span",{children:""})},{name:k("electricalParts"),icon:a.jsx("span",{children:""})}].map((F,ne)=>a.jsxs(ie,{variant:"outline",className:"flex items-center gap-2 justify-start h-auto py-2",onClick:()=>Fn(k("tellMeAboutCategory").replace("{category}",F.name)),children:[a.jsx("span",{className:"text-lg",children:F.icon}),a.jsx("span",{className:"text-sm",children:F.name})]},ne))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:k("quickActions")}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ie,{variant:"default",className:"w-full bg-purple-600 hover:bg-purple-700",onClick:()=>dr("/products"),children:k("browseProducts")}),a.jsx(ie,{variant:"outline",className:"w-full",onClick:()=>dr("/contact"),children:k("contactSupport")})]})]})]})})})]})})})]}),Cr=()=>{switch(ve){case"largeDesktop":return{width:"w-[420px]",height:"h-[600px]",buttonSize:"p-4"};case"desktop":return{width:"w-[380px]",height:"h-[550px]",buttonSize:"p-4"};case"tablet":return{width:"w-[350px]",height:"h-[500px]",buttonSize:"p-3"};case"mobile":default:return{width:"w-full max-w-[320px]",height:"h-[250px]",buttonSize:"p-3"}}},{width:ya,height:Xo,buttonSize:fs}=Cr();if(v)return a.jsxs(a.Fragment,{children:[a.jsx(fu.button,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},whileHover:{scale:1.05},onClick:()=>t(!0),className:`fixed bottom-4 right-4 bg-gradient-to-r from-purple-600 to-violet-500 text-white ${fs} rounded-full shadow-lg hover:opacity-90 transition-all duration-300 z-50 flex items-center justify-center`,"aria-label":k("chatWithUs"),children:a.jsx(Yh,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),a.jsx(eE,{open:e,onOpenChange:t,children:a.jsx(Dv,{side:"bottom",className:"h-[80vh] p-0 rounded-t-xl bg-gray-50 flex flex-col",children:a.jsx("div",{className:"flex-1 overflow-y-auto",children:Kr()})})})]});if(!e)return a.jsx(fu.button,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},whileHover:{scale:1.05},onClick:Ne,className:`fixed bottom-4 right-4 sm:bottom-6 sm:right-6 bg-gradient-to-r from-purple-600 to-violet-500 text-white ${fs} rounded-full shadow-lg hover:opacity-90 transition-all duration-300 z-50 flex items-center justify-center`,"aria-label":k("chatWithUs"),children:a.jsx(Yh,{className:"h-5 w-5 sm:h-6 sm:w-6"})});const uo=ae?"left-4 sm:left-6 right-auto":"right-4 sm:right-6";return a.jsx(fu.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:`fixed bottom-4 sm:bottom-6 z-50 ${uo}`,children:a.jsx("div",{className:`bg-gray-50 rounded-lg shadow-xl ${r?"w-64 sm:w-72":ya} overflow-hidden flex flex-col transition-all duration-300 transform`,style:{maxHeight:r?"60px":"80vh",height:r?"auto":Xo},children:a.jsx("div",{className:"flex-1 overflow-y-auto",children:Kr()})})})}var Cc=e=>e.type==="checkbox",Po=e=>e instanceof Date,tr=e=>e==null;const AT=e=>typeof e=="object";var Nt=e=>!tr(e)&&!Array.isArray(e)&&AT(e)&&!Po(e),RT=e=>Nt(e)&&e.target?Cc(e.target)?e.target.checked:e.target.value:e,CG=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,DT=(e,t)=>e.has(CG(t)),kG=e=>{const t=e.constructor&&e.constructor.prototype;return Nt(t)&&t.hasOwnProperty("isPrototypeOf")},Sy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $t(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Sy&&(e instanceof Blob||n))&&(r||Nt(e)))if(t=r?[]:{},!r&&!kG(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=$t(e[s]));else return e;return t}var sh=e=>Array.isArray(e)?e.filter(Boolean):[],bt=e=>e===void 0,he=(e,t,r)=>{if(!t||!Nt(e))return r;const n=sh(t.split(/[,[\].]+?/)).reduce((s,o)=>tr(s)?s:s[o],e);return bt(n)||n===e?bt(e[t])?r:e[t]:n},Er=e=>typeof e=="boolean",Ny=e=>/^\w*$/.test(e),MT=e=>sh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Xe=(e,t,r)=>{let n=-1;const s=Ny(t)?[t]:MT(t),o=s.length,i=o-1;for(;++n<o;){const l=s[n];let c=r;if(n!==i){const u=e[l];c=Nt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Dd={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},sn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Vn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},IT=O.createContext(null),oh=()=>O.useContext(IT),_G=e=>{const{children:t,...r}=e;return O.createElement(IT.Provider,{value:r},t)};var OT=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(s,o,{get:()=>{const i=o;return t._proxyFormState[i]!==sn.all&&(t._proxyFormState[i]=!n||sn.all),r&&(r[i]=!0),e[i]}});return s};function EG(e){const t=oh(),{control:r=t.control,disabled:n,name:s,exact:o}=e||{},[i,l]=O.useState(r._formState),c=O.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=O.useRef(s);return u.current=s,O.useEffect(()=>r._subscribe({name:u.current,formState:c.current,exact:o,callback:d=>{!n&&l({...r._formState,...d})}}),[r,n,o]),O.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),O.useMemo(()=>OT(i,r,c.current,!1),[i,r])}var Sn=e=>typeof e=="string",LT=(e,t,r,n,s)=>Sn(e)?(n&&t.watch.add(e),he(r,e,s)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),he(r,o))):(n&&(t.watchAll=!0),r);function PG(e){const t=oh(),{control:r=t.control,name:n,defaultValue:s,disabled:o,exact:i}=e||{},l=O.useRef(n),c=O.useRef(s);l.current=n,O.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:i,callback:f=>!o&&d(LT(l.current,r._names,f.values||r._formValues,!1,c.current))}),[r,o,i]);const[u,d]=O.useState(r._getWatch(n,s));return O.useEffect(()=>r._removeUnmounted()),u}function TG(e){const t=oh(),{name:r,disabled:n,control:s=t.control,shouldUnregister:o}=e,i=DT(s._names.array,r),l=PG({control:s,name:r,defaultValue:he(s._formValues,r,he(s._defaultValues,r,e.defaultValue)),exact:!0}),c=EG({control:s,name:r,exact:!0}),u=O.useRef(e),d=O.useRef(s.register(r,{...e.rules,value:l,...Er(e.disabled)?{disabled:e.disabled}:{}})),f=O.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!he(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!he(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!he(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!he(c.validatingFields,r)},error:{enumerable:!0,get:()=>he(c.errors,r)}}),[c,r]),m=O.useCallback(w=>d.current.onChange({target:{value:RT(w),name:r},type:Dd.CHANGE}),[r]),g=O.useCallback(()=>d.current.onBlur({target:{value:he(s._formValues,r),name:r},type:Dd.BLUR}),[r,s._formValues]),y=O.useCallback(w=>{const x=he(s._fields,r);x&&w&&(x._f.ref={focus:()=>w.focus(),select:()=>w.select(),setCustomValidity:v=>w.setCustomValidity(v),reportValidity:()=>w.reportValidity()})},[s._fields,r]),p=O.useMemo(()=>({name:r,value:l,...Er(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:m,onBlur:g,ref:y}),[r,n,c.disabled,m,g,y,l]);return O.useEffect(()=>{const w=s._options.shouldUnregister||o;s.register(r,{...u.current.rules,...Er(u.current.disabled)?{disabled:u.current.disabled}:{}});const x=(v,b)=>{const j=he(s._fields,v);j&&j._f&&(j._f.mount=b)};if(x(r,!0),w){const v=$t(he(s._options.defaultValues,r));Xe(s._defaultValues,r,v),bt(he(s._formValues,r))&&Xe(s._formValues,r,v)}return!i&&s.register(r),()=>{(i?w&&!s._state.action:w)?s.unregister(r):x(r,!1)}},[r,s,i,o]),O.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),O.useMemo(()=>({field:p,formState:c,fieldState:f}),[p,c,f])}const AG=e=>e.render(TG(e));var RG=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},dl=e=>Array.isArray(e)?e:[e],M1=()=>{let e=[];return{get observers(){return e},next:s=>{for(const o of e)o.next&&o.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(o=>o!==s)}}),unsubscribe:()=>{e=[]}}},jg=e=>tr(e)||!AT(e);function Ps(e,t){if(jg(e)||jg(t))return e===t;if(Po(e)&&Po(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const o=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const i=t[s];if(Po(o)&&Po(i)||Nt(o)&&Nt(i)||Array.isArray(o)&&Array.isArray(i)?!Ps(o,i):o!==i)return!1}}return!0}var Jt=e=>Nt(e)&&!Object.keys(e).length,Cy=e=>e.type==="file",on=e=>typeof e=="function",Md=e=>{if(!Sy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},FT=e=>e.type==="select-multiple",ky=e=>e.type==="radio",DG=e=>ky(e)||Cc(e),bm=e=>Md(e)&&e.isConnected;function MG(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=bt(e)?n++:e[t[n++]];return e}function IG(e){for(const t in e)if(e.hasOwnProperty(t)&&!bt(e[t]))return!1;return!0}function kt(e,t){const r=Array.isArray(t)?t:Ny(t)?[t]:MT(t),n=r.length===1?e:MG(e,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&(Nt(n)&&Jt(n)||Array.isArray(n)&&IG(n))&&kt(e,r.slice(0,-1)),e}var $T=e=>{for(const t in e)if(on(e[t]))return!0;return!1};function Id(e,t={}){const r=Array.isArray(e);if(Nt(e)||r)for(const n in e)Array.isArray(e[n])||Nt(e[n])&&!$T(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Id(e[n],t[n])):tr(e[n])||(t[n]=!0);return t}function VT(e,t,r){const n=Array.isArray(e);if(Nt(e)||n)for(const s in e)Array.isArray(e[s])||Nt(e[s])&&!$T(e[s])?bt(t)||jg(r[s])?r[s]=Array.isArray(e[s])?Id(e[s],[]):{...Id(e[s])}:VT(e[s],tr(t)?{}:t[s],r[s]):r[s]=!Ps(e[s],t[s]);return r}var Aa=(e,t)=>VT(e,t,Id(t));const I1={value:!1,isValid:!1},O1={value:!0,isValid:!0};var BT=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!bt(e[0].attributes.value)?bt(e[0].value)||e[0].value===""?O1:{value:e[0].value,isValid:!0}:O1:I1}return I1},UT=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>bt(e)?e:t?e===""?NaN:e&&+e:r&&Sn(e)?new Date(e):n?n(e):e;const L1={isValid:!1,value:null};var zT=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,L1):L1;function F1(e){const t=e.ref;return Cy(t)?t.files:ky(t)?zT(e.refs).value:FT(t)?[...t.selectedOptions].map(({value:r})=>r):Cc(t)?BT(e.refs).value:UT(bt(t.value)?e.ref.value:t.value,e)}var OG=(e,t,r,n)=>{const s={};for(const o of e){const i=he(t,o);i&&Xe(s,o,i._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Od=e=>e instanceof RegExp,Ra=e=>bt(e)?e:Od(e)?e.source:Nt(e)?Od(e.value)?e.value.source:e.value:e,$1=e=>({isOnSubmit:!e||e===sn.onSubmit,isOnBlur:e===sn.onBlur,isOnChange:e===sn.onChange,isOnAll:e===sn.all,isOnTouch:e===sn.onTouched});const V1="AsyncFunction";var LG=e=>!!e&&!!e.validate&&!!(on(e.validate)&&e.validate.constructor.name===V1||Nt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===V1)),FG=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),B1=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const fl=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const o=he(e,s);if(o){const{_f:i,...l}=o;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(fl(l,t))break}else if(Nt(l)&&fl(l,t))break}}};function U1(e,t,r){const n=he(e,r);if(n||Ny(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),i=he(t,o),l=he(e,o);if(i&&!Array.isArray(i)&&r!==o)return{name:r};if(l&&l.type)return{name:o,error:l};s.pop()}return{name:r}}var $G=(e,t,r,n)=>{r(e);const{name:s,...o}=e;return Jt(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(i=>t[i]===(!n||sn.all))},VG=(e,t,r)=>!e||!t||e===t||dl(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),BG=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,UG=(e,t)=>!sh(he(e,t)).length&&kt(e,t),zG=(e,t,r)=>{const n=dl(he(e,r));return Xe(n,"root",t[r]),Xe(e,r,n),e},Lu=e=>Sn(e);function z1(e,t,r="validate"){if(Lu(e)||Array.isArray(e)&&e.every(Lu)||Er(e)&&!e)return{type:r,message:Lu(e)?e:"",ref:t}}var ai=e=>Nt(e)&&!Od(e)?e:{value:e,message:""},W1=async(e,t,r,n,s,o)=>{const{ref:i,refs:l,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:g,validate:y,name:p,valueAsNumber:w,mount:x}=e._f,v=he(r,p);if(!x||t.has(p))return{};const b=l?l[0]:i,j=A=>{s&&b.reportValidity&&(b.setCustomValidity(Er(A)?"":A||""),b.reportValidity())},S={},N=ky(i),C=Cc(i),_=N||C,P=(w||Cy(i))&&bt(i.value)&&bt(v)||Md(i)&&i.value===""||v===""||Array.isArray(v)&&!v.length,R=RG.bind(null,p,n,S),$=(A,B,Y,ee=Vn.maxLength,L=Vn.minLength)=>{const U=A?B:Y;S[p]={type:A?ee:L,message:U,ref:i,...R(A?ee:L,U)}};if(o?!Array.isArray(v)||!v.length:c&&(!_&&(P||tr(v))||Er(v)&&!v||C&&!BT(l).isValid||N&&!zT(l).isValid)){const{value:A,message:B}=Lu(c)?{value:!!c,message:c}:ai(c);if(A&&(S[p]={type:Vn.required,message:B,ref:b,...R(Vn.required,B)},!n))return j(B),S}if(!P&&(!tr(f)||!tr(m))){let A,B;const Y=ai(m),ee=ai(f);if(!tr(v)&&!isNaN(v)){const L=i.valueAsNumber||v&&+v;tr(Y.value)||(A=L>Y.value),tr(ee.value)||(B=L<ee.value)}else{const L=i.valueAsDate||new Date(v),U=H=>new Date(new Date().toDateString()+" "+H),T=i.type=="time",D=i.type=="week";Sn(Y.value)&&v&&(A=T?U(v)>U(Y.value):D?v>Y.value:L>new Date(Y.value)),Sn(ee.value)&&v&&(B=T?U(v)<U(ee.value):D?v<ee.value:L<new Date(ee.value))}if((A||B)&&($(!!A,Y.message,ee.message,Vn.max,Vn.min),!n))return j(S[p].message),S}if((u||d)&&!P&&(Sn(v)||o&&Array.isArray(v))){const A=ai(u),B=ai(d),Y=!tr(A.value)&&v.length>+A.value,ee=!tr(B.value)&&v.length<+B.value;if((Y||ee)&&($(Y,A.message,B.message),!n))return j(S[p].message),S}if(g&&!P&&Sn(v)){const{value:A,message:B}=ai(g);if(Od(A)&&!v.match(A)&&(S[p]={type:Vn.pattern,message:B,ref:i,...R(Vn.pattern,B)},!n))return j(B),S}if(y){if(on(y)){const A=await y(v,r),B=z1(A,b);if(B&&(S[p]={...B,...R(Vn.validate,B.message)},!n))return j(B.message),S}else if(Nt(y)){let A={};for(const B in y){if(!Jt(A)&&!n)break;const Y=z1(await y[B](v,r),b,B);Y&&(A={...Y,...R(B,Y.message)},j(Y.message),n&&(S[p]=A))}if(!Jt(A)&&(S[p]={ref:b,...A},!n))return S}}return j(!0),S};const WG={mode:sn.onSubmit,reValidateMode:sn.onChange,shouldFocusError:!0};function HG(e={}){let t={...WG,...e},r={submitCount:0,isDirty:!1,isLoading:on(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let s=Nt(t.defaultValues)||Nt(t.values)?$t(t.values||t.defaultValues)||{}:{},o=t.shouldUnregister?{}:$t(s),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:M1(),state:M1()},g=$1(t.mode),y=$1(t.reValidateMode),p=t.criteriaMode===sn.all,w=E=>I=>{clearTimeout(u),u=setTimeout(E,I)},x=async E=>{if(!t.disabled&&(d.isValid||f.isValid||E)){const I=t.resolver?Jt((await P()).errors):await $(n,!0);I!==r.isValid&&m.state.next({isValid:I})}},v=(E,I)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((E||Array.from(l.mount)).forEach(z=>{z&&(I?Xe(r.validatingFields,z,I):kt(r.validatingFields,z))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Jt(r.validatingFields)}))},b=(E,I=[],z,de,oe=!0,te=!0)=>{if(de&&z&&!t.disabled){if(i.action=!0,te&&Array.isArray(he(n,E))){const me=z(he(n,E),de.argA,de.argB);oe&&Xe(n,E,me)}if(te&&Array.isArray(he(r.errors,E))){const me=z(he(r.errors,E),de.argA,de.argB);oe&&Xe(r.errors,E,me),UG(r.errors,E)}if((d.touchedFields||f.touchedFields)&&te&&Array.isArray(he(r.touchedFields,E))){const me=z(he(r.touchedFields,E),de.argA,de.argB);oe&&Xe(r.touchedFields,E,me)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Aa(s,o)),m.state.next({name:E,isDirty:B(E,I),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Xe(o,E,I)},j=(E,I)=>{Xe(r.errors,E,I),m.state.next({errors:r.errors})},S=E=>{r.errors=E,m.state.next({errors:r.errors,isValid:!1})},N=(E,I,z,de)=>{const oe=he(n,E);if(oe){const te=he(o,E,bt(z)?he(s,E):z);bt(te)||de&&de.defaultChecked||I?Xe(o,E,I?te:F1(oe._f)):L(E,te),i.mount&&x()}},C=(E,I,z,de,oe)=>{let te=!1,me=!1;const Pe={name:E};if(!t.disabled){if(!z||de){(d.isDirty||f.isDirty)&&(me=r.isDirty,r.isDirty=Pe.isDirty=B(),te=me!==Pe.isDirty);const Le=Ps(he(s,E),I);me=!!he(r.dirtyFields,E),Le?kt(r.dirtyFields,E):Xe(r.dirtyFields,E,!0),Pe.dirtyFields=r.dirtyFields,te=te||(d.dirtyFields||f.dirtyFields)&&me!==!Le}if(z){const Le=he(r.touchedFields,E);Le||(Xe(r.touchedFields,E,z),Pe.touchedFields=r.touchedFields,te=te||(d.touchedFields||f.touchedFields)&&Le!==z)}te&&oe&&m.state.next(Pe)}return te?Pe:{}},_=(E,I,z,de)=>{const oe=he(r.errors,E),te=(d.isValid||f.isValid)&&Er(I)&&r.isValid!==I;if(t.delayError&&z?(c=w(()=>j(E,z)),c(t.delayError)):(clearTimeout(u),c=null,z?Xe(r.errors,E,z):kt(r.errors,E)),(z?!Ps(oe,z):oe)||!Jt(de)||te){const me={...de,...te&&Er(I)?{isValid:I}:{},errors:r.errors,name:E};r={...r,...me},m.state.next(me)}},P=async E=>{v(E,!0);const I=await t.resolver(o,t.context,OG(E||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(E),I},R=async E=>{const{errors:I}=await P(E);if(E)for(const z of E){const de=he(I,z);de?Xe(r.errors,z,de):kt(r.errors,z)}else r.errors=I;return I},$=async(E,I,z={valid:!0})=>{for(const de in E){const oe=E[de];if(oe){const{_f:te,...me}=oe;if(te){const Pe=l.array.has(te.name),Le=oe._f&&LG(oe._f);Le&&d.validatingFields&&v([de],!0);const Qe=await W1(oe,l.disabled,o,p,t.shouldUseNativeValidation&&!I,Pe);if(Le&&d.validatingFields&&v([de]),Qe[te.name]&&(z.valid=!1,I))break;!I&&(he(Qe,te.name)?Pe?zG(r.errors,Qe,te.name):Xe(r.errors,te.name,Qe[te.name]):kt(r.errors,te.name))}!Jt(me)&&await $(me,I,z)}}return z.valid},A=()=>{for(const E of l.unMount){const I=he(n,E);I&&(I._f.refs?I._f.refs.every(z=>!bm(z)):!bm(I._f.ref))&&Z(E)}l.unMount=new Set},B=(E,I)=>!t.disabled&&(E&&I&&Xe(o,E,I),!Ps(Q(),s)),Y=(E,I,z)=>LT(E,l,{...i.mount?o:bt(I)?s:Sn(E)?{[E]:I}:I},z,I),ee=E=>sh(he(i.mount?o:s,E,t.shouldUnregister?he(s,E,[]):[])),L=(E,I,z={})=>{const de=he(n,E);let oe=I;if(de){const te=de._f;te&&(!te.disabled&&Xe(o,E,UT(I,te)),oe=Md(te.ref)&&tr(I)?"":I,FT(te.ref)?[...te.ref.options].forEach(me=>me.selected=oe.includes(me.value)):te.refs?Cc(te.ref)?te.refs.length>1?te.refs.forEach(me=>(!me.defaultChecked||!me.disabled)&&(me.checked=Array.isArray(oe)?!!oe.find(Pe=>Pe===me.value):oe===me.value)):te.refs[0]&&(te.refs[0].checked=!!oe):te.refs.forEach(me=>me.checked=me.value===oe):Cy(te.ref)?te.ref.value="":(te.ref.value=oe,te.ref.type||m.state.next({name:E,values:$t(o)})))}(z.shouldDirty||z.shouldTouch)&&C(E,oe,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&V(E)},U=(E,I,z)=>{for(const de in I){const oe=I[de],te=`${E}.${de}`,me=he(n,te);(l.array.has(E)||Nt(oe)||me&&!me._f)&&!Po(oe)?U(te,oe,z):L(te,oe,z)}},T=(E,I,z={})=>{const de=he(n,E),oe=l.array.has(E),te=$t(I);Xe(o,E,te),oe?(m.array.next({name:E,values:$t(o)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&z.shouldDirty&&m.state.next({name:E,dirtyFields:Aa(s,o),isDirty:B(E,te)})):de&&!de._f&&!tr(te)?U(E,te,z):L(E,te,z),B1(E,l)&&m.state.next({...r}),m.state.next({name:i.mount?E:void 0,values:$t(o)})},D=async E=>{i.mount=!0;const I=E.target;let z=I.name,de=!0;const oe=he(n,z),te=me=>{de=Number.isNaN(me)||Po(me)&&isNaN(me.getTime())||Ps(me,he(o,z,me))};if(oe){let me,Pe;const Le=I.type?F1(oe._f):RT(E),Qe=E.type===Dd.BLUR||E.type===Dd.FOCUS_OUT,ur=!FG(oe._f)&&!t.resolver&&!he(r.errors,z)&&!oe._f.deps||BG(Qe,he(r.touchedFields,z),r.isSubmitted,y,g),dr=B1(z,l,Qe);Xe(o,z,Le),Qe?(oe._f.onBlur&&oe._f.onBlur(E),c&&c(0)):oe._f.onChange&&oe._f.onChange(E);const Ln=C(z,Le,Qe),Fn=!Jt(Ln)||dr;if(!Qe&&m.state.next({name:z,type:E.type,values:$t(o)}),ur)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Qe&&x():Qe||x()),Fn&&m.state.next({name:z,...dr?{}:Ln});if(!Qe&&dr&&m.state.next({...r}),t.resolver){const{errors:$n}=await P([z]);if(te(Le),de){const co=U1(r.errors,n,z),Kr=U1($n,n,co.name||z);me=Kr.error,z=Kr.name,Pe=Jt($n)}}else v([z],!0),me=(await W1(oe,l.disabled,o,p,t.shouldUseNativeValidation))[z],v([z]),te(Le),de&&(me?Pe=!1:(d.isValid||f.isValid)&&(Pe=await $(n,!0)));de&&(oe._f.deps&&V(oe._f.deps),_(z,Pe,me,Ln))}},H=(E,I)=>{if(he(r.errors,I)&&E.focus)return E.focus(),1},V=async(E,I={})=>{let z,de;const oe=dl(E);if(t.resolver){const te=await R(bt(E)?E:oe);z=Jt(te),de=E?!oe.some(me=>he(te,me)):z}else E?(de=(await Promise.all(oe.map(async te=>{const me=he(n,te);return await $(me&&me._f?{[te]:me}:me)}))).every(Boolean),!(!de&&!r.isValid)&&x()):de=z=await $(n);return m.state.next({...!Sn(E)||(d.isValid||f.isValid)&&z!==r.isValid?{}:{name:E},...t.resolver||!E?{isValid:z}:{},errors:r.errors}),I.shouldFocus&&!de&&fl(n,H,E?oe:l.mount),de},Q=E=>{const I={...i.mount?o:s};return bt(E)?I:Sn(E)?he(I,E):E.map(z=>he(I,z))},X=(E,I)=>({invalid:!!he((I||r).errors,E),isDirty:!!he((I||r).dirtyFields,E),error:he((I||r).errors,E),isValidating:!!he(r.validatingFields,E),isTouched:!!he((I||r).touchedFields,E)}),se=E=>{E&&dl(E).forEach(I=>kt(r.errors,I)),m.state.next({errors:E?r.errors:{}})},ge=(E,I,z)=>{const de=(he(n,E,{_f:{}})._f||{}).ref,oe=he(r.errors,E)||{},{ref:te,message:me,type:Pe,...Le}=oe;Xe(r.errors,E,{...Le,...I,ref:de}),m.state.next({name:E,errors:r.errors,isValid:!1}),z&&z.shouldFocus&&de&&de.focus&&de.focus()},le=(E,I)=>on(E)?m.state.subscribe({next:z=>E(Y(void 0,I),z)}):Y(E,I,!0),k=E=>m.state.subscribe({next:I=>{VG(E.name,I.name,E.exact)&&$G(I,E.formState||d,Be,E.reRenderRoot)&&E.callback({values:{...o},...r,...I})}}).unsubscribe,M=E=>(i.mount=!0,f={...f,...E.formState},k({...E,formState:f})),Z=(E,I={})=>{for(const z of E?dl(E):l.mount)l.mount.delete(z),l.array.delete(z),I.keepValue||(kt(n,z),kt(o,z)),!I.keepError&&kt(r.errors,z),!I.keepDirty&&kt(r.dirtyFields,z),!I.keepTouched&&kt(r.touchedFields,z),!I.keepIsValidating&&kt(r.validatingFields,z),!t.shouldUnregister&&!I.keepDefaultValue&&kt(s,z);m.state.next({values:$t(o)}),m.state.next({...r,...I.keepDirty?{isDirty:B()}:{}}),!I.keepIsValid&&x()},W=({disabled:E,name:I})=>{(Er(E)&&i.mount||E||l.disabled.has(I))&&(E?l.disabled.add(I):l.disabled.delete(I))},ae=(E,I={})=>{let z=he(n,E);const de=Er(I.disabled)||Er(t.disabled);return Xe(n,E,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:E}},name:E,mount:!0,...I}}),l.mount.add(E),z?W({disabled:Er(I.disabled)?I.disabled:t.disabled,name:E}):N(E,!0,I.value),{...de?{disabled:I.disabled||t.disabled}:{},...t.progressive?{required:!!I.required,min:Ra(I.min),max:Ra(I.max),minLength:Ra(I.minLength),maxLength:Ra(I.maxLength),pattern:Ra(I.pattern)}:{},name:E,onChange:D,onBlur:D,ref:oe=>{if(oe){ae(E,I),z=he(n,E);const te=bt(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,me=DG(te),Pe=z._f.refs||[];if(me?Pe.find(Le=>Le===te):te===z._f.ref)return;Xe(n,E,{_f:{...z._f,...me?{refs:[...Pe.filter(bm),te,...Array.isArray(he(s,E))?[{}]:[]],ref:{type:te.type,name:E}}:{ref:te}}}),N(E,!1,void 0,te)}else z=he(n,E,{}),z._f&&(z._f.mount=!1),(t.shouldUnregister||I.shouldUnregister)&&!(DT(l.array,E)&&i.action)&&l.unMount.add(E)}}},q=()=>t.shouldFocusError&&fl(n,H,l.mount),ve=E=>{Er(E)&&(m.state.next({disabled:E}),fl(n,(I,z)=>{const de=he(n,z);de&&(I.disabled=de._f.disabled||E,Array.isArray(de._f.refs)&&de._f.refs.forEach(oe=>{oe.disabled=de._f.disabled||E}))},0,!1))},ue=(E,I)=>async z=>{let de;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let oe=$t(o);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:te,values:me}=await P();r.errors=te,oe=me}else await $(n);if(l.disabled.size)for(const te of l.disabled)Xe(oe,te,void 0);if(kt(r.errors,"root"),Jt(r.errors)){m.state.next({errors:{}});try{await E(oe,z)}catch(te){de=te}}else I&&await I({...r.errors},z),q(),setTimeout(q);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Jt(r.errors)&&!de,submitCount:r.submitCount+1,errors:r.errors}),de)throw de},Re=(E,I={})=>{he(n,E)&&(bt(I.defaultValue)?T(E,$t(he(s,E))):(T(E,I.defaultValue),Xe(s,E,$t(I.defaultValue))),I.keepTouched||kt(r.touchedFields,E),I.keepDirty||(kt(r.dirtyFields,E),r.isDirty=I.defaultValue?B(E,$t(he(s,E))):B()),I.keepError||(kt(r.errors,E),d.isValid&&x()),m.state.next({...r}))},Ne=(E,I={})=>{const z=E?$t(E):s,de=$t(z),oe=Jt(E),te=oe?s:de;if(I.keepDefaultValues||(s=z),!I.keepValues){if(I.keepDirtyValues){const me=new Set([...l.mount,...Object.keys(Aa(s,o))]);for(const Pe of Array.from(me))he(r.dirtyFields,Pe)?Xe(te,Pe,he(o,Pe)):T(Pe,he(te,Pe))}else{if(Sy&&bt(E))for(const me of l.mount){const Pe=he(n,me);if(Pe&&Pe._f){const Le=Array.isArray(Pe._f.refs)?Pe._f.refs[0]:Pe._f.ref;if(Md(Le)){const Qe=Le.closest("form");if(Qe){Qe.reset();break}}}}for(const me of l.mount)T(me,he(te,me))}o=$t(te),m.array.next({values:{...te}}),m.state.next({values:{...te}})}l={mount:I.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!I.keepIsValid||!!I.keepDirtyValues,i.watch=!!t.shouldUnregister,m.state.next({submitCount:I.keepSubmitCount?r.submitCount:0,isDirty:oe?!1:I.keepDirty?r.isDirty:!!(I.keepDefaultValues&&!Ps(E,s)),isSubmitted:I.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:oe?{}:I.keepDirtyValues?I.keepDefaultValues&&o?Aa(s,o):r.dirtyFields:I.keepDefaultValues&&E?Aa(s,E):I.keepDirty?r.dirtyFields:{},touchedFields:I.keepTouched?r.touchedFields:{},errors:I.keepErrors?r.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Me=(E,I)=>Ne(on(E)?E(o):E,I),Ve=(E,I={})=>{const z=he(n,E),de=z&&z._f;if(de){const oe=de.refs?de.refs[0]:de.ref;oe.focus&&(oe.focus(),I.shouldSelect&&on(oe.select)&&oe.select())}},Be=E=>{r={...r,...E}},cr={control:{register:ae,unregister:Z,getFieldState:X,handleSubmit:ue,setError:ge,_subscribe:k,_runSchema:P,_getWatch:Y,_getDirty:B,_setValid:x,_setFieldArray:b,_setDisabledField:W,_setErrors:S,_getFieldArray:ee,_reset:Ne,_resetDefaultValues:()=>on(t.defaultValues)&&t.defaultValues().then(E=>{Me(E,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:ve,_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return o},get _state(){return i},set _state(E){i=E},get _defaultValues(){return s},get _names(){return l},set _names(E){l=E},get _formState(){return r},get _options(){return t},set _options(E){t={...t,...E}}},subscribe:M,trigger:V,register:ae,handleSubmit:ue,watch:le,setValue:T,getValues:Q,reset:Me,resetField:Re,clearErrors:se,unregister:Z,setError:ge,setFocus:Ve,getFieldState:X};return{...cr,formControl:cr}}function qG(e={}){const t=O.useRef(void 0),r=O.useRef(void 0),[n,s]=O.useState({isDirty:!1,isValidating:!1,isLoading:on(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:on(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:HG(e),formState:n},e.formControl&&e.defaultValues&&!on(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const o=t.current.control;return o._options=e,O.useLayoutEffect(()=>o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0}),[o]),O.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),O.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==n.isDirty&&o._subjects.state.next({isDirty:i})}},[o,n.isDirty]),O.useEffect(()=>{e.values&&!Ps(e.values,r.current)?(o._reset(e.values,o._options.resetOptions),r.current=e.values,s(i=>({...i}))):o._resetDefaultValues()},[e.values,o]),O.useEffect(()=>{e.errors&&!Jt(e.errors)&&o._setErrors(e.errors)},[e.errors,o]),O.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),O.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[e.shouldUnregister,o]),t.current.formState=OT(n,o),t.current}const YG=_G,WT=h.createContext({}),hu=({...e})=>a.jsx(WT.Provider,{value:{name:e.name},children:a.jsx(AG,{...e})}),ih=()=>{const e=h.useContext(WT),t=h.useContext(HT),{getFieldState:r,formState:n}=oh(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...s}},HT=h.createContext({}),Wa=h.forwardRef(({className:e,...t},r)=>{const n=h.useId();return a.jsx(HT.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:ce("space-y-2",e),...t})})});Wa.displayName="FormItem";const Ha=h.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=ih();return a.jsx(ot,{ref:r,className:ce(n&&"text-destructive",e),htmlFor:s,...t})});Ha.displayName="FormLabel";const qa=h.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:o}=ih();return a.jsx(rs,{ref:t,id:n,"aria-describedby":r?`${s} ${o}`:`${s}`,"aria-invalid":!!r,...e})});qa.displayName="FormControl";const GG=h.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=ih();return a.jsx("p",{ref:r,id:n,className:ce("text-sm text-muted-foreground",e),...t})});GG.displayName="FormDescription";const Ya=h.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:o}=ih(),i=s?String(s==null?void 0:s.message):t;return i?a.jsx("p",{ref:n,id:o,className:ce("text-sm font-medium text-destructive",e),...r,children:i}):null});Ya.displayName="FormMessage";const KG=()=>{const{t:e,language:t}=we(),{user:r}=lt(),[n,s]=h.useState(!1),[o,i]=h.useState([]),[l,c]=h.useState([]),[u,d]=h.useState(!1),f=qG({defaultValues:{carMake:"",carModel:"",productName:"",phoneNumber:""}});h.useEffect(()=>{(async()=>{try{const{data:w,error:x}=await J.from("car_models").select("make").order("make").limit(100);if(x)throw x;if(w){const v=Array.from(new Set(w.map(b=>b.make)));i(v)}}catch(w){console.error("Error fetching car makes:",w)}})()},[]);const m=async p=>{if(!p){c([]);return}try{const{data:w,error:x}=await J.from("car_models").select("model").eq("make",p).order("model").limit(100);if(x)throw x;if(w){const v=Array.from(new Set(w.map(b=>b.model)));c(v)}}catch(w){console.error("Error fetching car models:",w)}},g=p=>{f.setValue("carMake",p),f.setValue("carModel",""),m(p)},y=async p=>{d(!0);try{const{error:w}=await J.from("product_requests").insert({user_id:(r==null?void 0:r.id)||null,car_make:p.carMake||null,car_model:p.carModel||null,product_name:p.productName,phone_number:p.phoneNumber});if(w)throw w;K.success(e("productRequestSuccess")),f.reset(),s(!1)}catch(w){console.error("Error submitting product request:",w),K.error(e("productRequestError"))}finally{d(!1)}};return a.jsx("div",{className:`fixed bottom-24 ${t==="ar"?"left-10":"right-10"} z-40`,children:a.jsxs(eE,{open:n,onOpenChange:s,children:[a.jsx(YU,{asChild:!0,children:a.jsxs(ie,{variant:"default",size:"sm",className:"rounded-full shadow-md py-2 px-2 sm:py-2.5 sm:px-3 bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 transition-transform hover:scale-105",children:[a.jsx(Qt,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{className:"ml-2 text-xs font-medium hidden sm:inline",children:e("requestProductTitle")})]})}),a.jsxs(Dv,{side:t==="ar"?"left":"right",className:"w-[85%] sm:w-[400px] p-5 bg-white shadow-lg border border-gray-200",children:[a.jsxs(rE,{className:"mb-5",children:[a.jsx(nE,{className:"text-lg text-indigo-700",children:e("requestProductTitle")}),a.jsx(sE,{className:"text-sm text-gray-600",children:e("requestProductDescription")})]}),a.jsx(YG,{...f,children:a.jsxs("form",{onSubmit:f.handleSubmit(y),className:"space-y-4",children:[a.jsx(hu,{control:f.control,name:"carMake",render:({field:p})=>a.jsxs(Wa,{children:[a.jsx(Ha,{className:"text-sm font-medium",children:e("carMake")}),a.jsxs(br,{onValueChange:w=>g(w),value:p.value,children:[a.jsx(qa,{children:a.jsx(or,{className:"w-full text-sm",children:a.jsx(jr,{placeholder:e("selectCarMake")})})}),a.jsx(ir,{children:o.map(w=>a.jsx(He,{value:w,children:w},w))})]}),a.jsx(Ya,{})]})}),a.jsx(hu,{control:f.control,name:"carModel",render:({field:p})=>a.jsxs(Wa,{children:[a.jsx(Ha,{className:"text-sm font-medium",children:e("carModel")}),a.jsxs(br,{onValueChange:p.onChange,value:p.value,disabled:!f.watch("carMake"),children:[a.jsx(qa,{children:a.jsx(or,{className:"w-full text-sm",children:a.jsx(jr,{placeholder:e("selectCarModel")})})}),a.jsx(ir,{children:l.map(w=>a.jsx(He,{value:w,children:w},w))})]}),a.jsx(Ya,{})]})}),a.jsx(hu,{control:f.control,name:"productName",rules:{required:e("productNameRequired")},render:({field:p})=>a.jsxs(Wa,{children:[a.jsxs(Ha,{className:"text-sm font-medium",children:[e("productName")," *"]}),a.jsx(qa,{children:a.jsx(qe,{placeholder:e("enterProductName"),className:"text-sm",...p})}),a.jsx(Ya,{})]})}),a.jsx(hu,{control:f.control,name:"phoneNumber",rules:{required:e("phoneNumberRequired"),pattern:{value:/^[0-9+\-\s()]{8,20}$/,message:e("invalidPhoneNumber")}},render:({field:p})=>a.jsxs(Wa,{children:[a.jsxs(Ha,{className:"text-sm font-medium",children:[e("phoneNumber")," *"]}),a.jsx(qa,{children:a.jsxs("div",{className:"relative",children:[a.jsx(yf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),a.jsx(qe,{className:"pl-10 text-sm",placeholder:e("enterPhoneNumber"),...p})]})}),a.jsx(Ya,{})]})}),a.jsxs("div",{className:"flex justify-between pt-3",children:[a.jsxs(ie,{type:"button",variant:"outline",onClick:()=>s(!1),className:"text-xs py-1 px-2",children:[a.jsx(rr,{className:"mr-1 h-3 w-3"}),e("cancel")]}),a.jsxs(ie,{type:"submit",disabled:u,className:"bg-indigo-600 hover:bg-indigo-700 text-xs py-1 px-2",children:[a.jsx(oc,{className:"mr-1 h-3 w-3"}),e(u?"submitting":"submitRequest")]})]})]})})]})]})})};function QG(){const{pathname:e}=Dn();return h.useEffect(()=>{window.scrollTo(0,0)},[e]),null}function XG(){const{user:e}=lt(),t=sessionStorage.getItem("redirectAfterLogin");return h.useEffect(()=>{e&&t&&(sessionStorage.removeItem("redirectAfterLogin"),window.location.href=t)},[e,t]),null}function ZG(){return a.jsx(QO,{children:a.jsx(jR,{basename:"/Zabtt/",children:a.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[a.jsx(bF,{}),a.jsx(QG,{}),a.jsx(XG,{}),a.jsxs(mR,{children:[a.jsx(st,{path:"/",element:a.jsx(C7,{})}),a.jsx(st,{path:"/categories",element:a.jsx(k7,{})}),a.jsx(st,{path:"/categories/:categoryId",element:a.jsx(E7,{})}),a.jsx(st,{path:"/shops",element:a.jsx(P7,{})}),a.jsx(st,{path:"/shops/:shopId",element:a.jsx(D7,{})}),a.jsx(st,{path:"/products",element:a.jsx(hB,{})}),a.jsx(st,{path:"/products/:productId",element:a.jsx(ZB,{})}),a.jsx(st,{path:"/models/:modelId",element:a.jsx(JB,{})}),a.jsxs(st,{element:a.jsx(qU,{}),children:[a.jsx(st,{path:"/wishlist",element:a.jsx(nU,{})}),a.jsx(st,{path:"/checkout",element:a.jsx(vU,{})}),a.jsx(st,{path:"/profile",element:a.jsx(s9,{})}),a.jsx(st,{path:"/orders",element:a.jsx(ZV,{})}),a.jsx(st,{path:"/saved-addresses",element:a.jsx(CU,{})})]}),a.jsx(st,{path:"/cart",element:a.jsx(M7,{})}),a.jsx(st,{path:"/login",element:a.jsx(I7,{})}),a.jsx(st,{path:"/register",element:a.jsx(W7,{})}),a.jsx(st,{path:"/forgot-password",element:a.jsx(q7,{})}),a.jsx(st,{path:"/reset-password",element:a.jsx(Y7,{})}),a.jsx(st,{path:"/search",element:a.jsx(G7,{})}),a.jsx(st,{path:"/contact",element:a.jsx(K7,{})}),a.jsx(st,{path:"/faq",element:a.jsx(UU,{})}),a.jsx(st,{path:"/terms",element:a.jsx(WU,{})}),a.jsx(st,{path:"*",element:a.jsx(HU,{})})]}),a.jsx(SF,{}),a.jsx(NG,{}),a.jsx(KG,{}),a.jsx(VO,{position:"top-right",richColors:!0})]})})})}const JG=h.createContext(void 0),eK=({children:e})=>{const[t,r]=h.useState(()=>localStorage.getItem("theme")||"light");h.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(t),localStorage.setItem("theme",t)},[t]);const n=()=>{r(s=>s==="light"?"dark":"light")};return a.jsx(JG.Provider,{value:{theme:t,toggleTheme:n},children:e})};jm.createRoot(document.getElementById("root")).render(a.jsx(O.StrictMode,{children:a.jsx(eK,{children:a.jsx(ZG,{})})}));export{Sg as g};
